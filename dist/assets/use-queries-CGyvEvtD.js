var ke=e=>{throw TypeError(e)};var Ee=(e,t,a)=>t.has(e)||ke("Cannot "+a);var n=(e,t,a)=>(Ee(e,t,"read from private field"),a?a.call(e):t.get(e)),I=(e,t,a)=>t.has(e)?ke("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),b=(e,t,a,i)=>(Ee(e,t,"write to private field"),i?i.call(e,a):t.set(e,a),a),S=(e,t,a)=>(Ee(e,t,"access private method"),a);import{bl as We,bm as Ke,bn as x,bo as ye,bp as oe,bq as ge,br as Ce,bs as xe,bt as nt,bu as pe,bv as it,bw as rt,bx as _e,by as be,bz as Qe,bA as ot,r as M,bB as je,aj as P,bC as _,F as lt,l as m}from"./index-DyY9s1i7.js";import{z as y}from"./external-DCTon813.js";import{l as ut}from"./league-schema-CW4CwVLH.js";import{s as ct}from"./season-schema-DVFNm_2a.js";import{d as dt}from"./division-schema-gPrDsMOQ.js";import{_ as D,o as c,n as o,u as Fe,a as E,s,b as C,d as ht}from"./schemas-B5fuxOj7.js";import{d as w}from"./coerce-C-pLok-C.js";var N,p,le,T,Y,ee,G,W,ue,te,ae,J,X,j,se,g,re,Re,Ie,we,qe,Ae,De,Te,ze,$e,pt=($e=class extends We{constructor(t,a){super();I(this,g);I(this,N);I(this,p);I(this,le);I(this,T);I(this,Y);I(this,ee);I(this,G);I(this,W);I(this,ue);I(this,te);I(this,ae);I(this,J);I(this,X);I(this,j);I(this,se,new Set);this.options=a,b(this,N,t),b(this,W,null),b(this,G,Ke()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,p).addObserver(this),Be(n(this,p),this.options)?S(this,g,re).call(this):this.updateResult(),S(this,g,qe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pe(n(this,p),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pe(n(this,p),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,S(this,g,Ae).call(this),S(this,g,De).call(this),n(this,p).removeObserver(this)}setOptions(t){const a=this.options,i=n(this,p);if(this.options=n(this,N).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof x(this.options.enabled,n(this,p))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");S(this,g,Te).call(this),n(this,p).setOptions(this.options),a._defaulted&&!ye(this.options,a)&&n(this,N).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,p),observer:this});const l=this.hasListeners();l&&Ge(n(this,p),i,this.options,a)&&S(this,g,re).call(this),this.updateResult(),l&&(n(this,p)!==i||x(this.options.enabled,n(this,p))!==x(a.enabled,n(this,p))||oe(this.options.staleTime,n(this,p))!==oe(a.staleTime,n(this,p)))&&S(this,g,Re).call(this);const u=S(this,g,Ie).call(this);l&&(n(this,p)!==i||x(this.options.enabled,n(this,p))!==x(a.enabled,n(this,p))||u!==n(this,j))&&S(this,g,we).call(this,u)}getOptimisticResult(t){const a=n(this,N).getQueryCache().build(n(this,N),t),i=this.createResult(a,t);return yt(this,i)&&(b(this,T,i),b(this,ee,this.options),b(this,Y,n(this,p).state)),i}getCurrentResult(){return n(this,T)}trackResult(t,a){return new Proxy(t,{get:(i,l)=>(this.trackProp(l),a==null||a(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&n(this,G).status==="pending"&&n(this,G).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,l))})}trackProp(t){n(this,se).add(t)}getCurrentQuery(){return n(this,p)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=n(this,N).defaultQueryOptions(t),i=n(this,N).getQueryCache().build(n(this,N),a);return i.fetch().then(()=>this.createResult(i,a))}fetch(t){return S(this,g,re).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,T)))}createResult(t,a){var Ue;const i=n(this,p),l=this.options,u=n(this,T),d=n(this,Y),v=n(this,ee),F=t!==i?t.state:n(this,le),{state:k}=t;let f={...k},Q=!1,A;if(a._optimisticResults){const K=this.hasListeners(),de=!K&&Be(t,a),Z=K&&Ge(t,i,a,l);(de||Z)&&(f={...f,...rt(k.data,t.options)}),a._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:ne,errorUpdatedAt:ie,status:U}=f;A=f.data;let ce=!1;if(a.placeholderData!==void 0&&A===void 0&&U==="pending"){let K;u!=null&&u.isPlaceholderData&&a.placeholderData===(v==null?void 0:v.placeholderData)?(K=u.data,ce=!0):K=typeof a.placeholderData=="function"?a.placeholderData((Ue=n(this,ae))==null?void 0:Ue.state.data,n(this,ae)):a.placeholderData,K!==void 0&&(U="success",A=_e(u==null?void 0:u.data,K,a),Q=!0)}if(a.select&&A!==void 0&&!ce)if(u&&A===(d==null?void 0:d.data)&&a.select===n(this,ue))A=n(this,te);else try{b(this,ue,a.select),A=a.select(A),A=_e(u==null?void 0:u.data,A,a),b(this,te,A),b(this,W,null)}catch(K){b(this,W,K)}n(this,W)&&(ne=n(this,W),A=n(this,te),ie=Date.now(),U="error");const ve=f.fetchStatus==="fetching",fe=U==="pending",Se=U==="error",Le=fe&&ve,Me=A!==void 0,B={status:U,fetchStatus:f.fetchStatus,isPending:fe,isSuccess:U==="success",isError:Se,isInitialLoading:Le,isLoading:Le,data:A,dataUpdatedAt:f.dataUpdatedAt,error:ne,errorUpdatedAt:ie,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>F.dataUpdateCount||f.errorUpdateCount>F.errorUpdateCount,isFetching:ve,isRefetching:ve&&!fe,isLoadingError:Se&&!Me,isPaused:f.fetchStatus==="paused",isPlaceholderData:Q,isRefetchError:Se&&Me,isStale:Ne(t,a),refetch:this.refetch,promise:n(this,G),isEnabled:x(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=he=>{B.status==="error"?he.reject(B.error):B.data!==void 0&&he.resolve(B.data)},de=()=>{const he=b(this,G,B.promise=Ke());K(he)},Z=n(this,G);switch(Z.status){case"pending":t.queryHash===i.queryHash&&K(Z);break;case"fulfilled":(B.status==="error"||B.data!==Z.value)&&de();break;case"rejected":(B.status!=="error"||B.error!==Z.reason)&&de();break}}return B}updateResult(){const t=n(this,T),a=this.createResult(n(this,p),this.options);if(b(this,Y,n(this,p).state),b(this,ee,this.options),n(this,Y).data!==void 0&&b(this,ae,n(this,p)),ye(a,t))return;b(this,T,a);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!n(this,se).size)return!0;const d=new Set(u??n(this,se));return this.options.throwOnError&&d.add("error"),Object.keys(n(this,T)).some(v=>{const q=v;return n(this,T)[q]!==t[q]&&d.has(q)})};S(this,g,ze).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&S(this,g,qe).call(this)}},N=new WeakMap,p=new WeakMap,le=new WeakMap,T=new WeakMap,Y=new WeakMap,ee=new WeakMap,G=new WeakMap,W=new WeakMap,ue=new WeakMap,te=new WeakMap,ae=new WeakMap,J=new WeakMap,X=new WeakMap,j=new WeakMap,se=new WeakMap,g=new WeakSet,re=function(t){S(this,g,Te).call(this);let a=n(this,p).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(ge)),a},Re=function(){S(this,g,Ae).call(this);const t=oe(this.options.staleTime,n(this,p));if(Ce||n(this,T).isStale||!xe(t))return;const i=nt(n(this,T).dataUpdatedAt,t)+1;b(this,J,pe.setTimeout(()=>{n(this,T).isStale||this.updateResult()},i))},Ie=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,p)):this.options.refetchInterval)??!1},we=function(t){S(this,g,De).call(this),b(this,j,t),!(Ce||x(this.options.enabled,n(this,p))===!1||!xe(n(this,j))||n(this,j)===0)&&b(this,X,pe.setInterval(()=>{(this.options.refetchIntervalInBackground||it.isFocused())&&S(this,g,re).call(this)},n(this,j)))},qe=function(){S(this,g,Re).call(this),S(this,g,we).call(this,S(this,g,Ie).call(this))},Ae=function(){n(this,J)&&(pe.clearTimeout(n(this,J)),b(this,J,void 0))},De=function(){n(this,X)&&(pe.clearInterval(n(this,X)),b(this,X,void 0))},Te=function(){const t=n(this,N).getQueryCache().build(n(this,N),this.options);if(t===n(this,p))return;const a=n(this,p);b(this,p,t),b(this,le,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},ze=function(t){be.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(n(this,T))}),n(this,N).getQueryCache().notify({query:n(this,p),type:"observerResultsUpdated"})})},$e);function mt(e,t){return x(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Be(e,t){return mt(e,t)||e.state.data!==void 0&&Pe(e,t,t.refetchOnMount)}function Pe(e,t,a){if(x(t.enabled,e)!==!1&&oe(t.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&Ne(e,t)}return!1}function Ge(e,t,a,i){return(e!==t||x(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&Ne(e,a)}function Ne(e,t){return x(t.enabled,e)!==!1&&e.isStaleByTime(oe(t.staleTime,e))}function yt(e,t){return!ye(e.getCurrentResult(),t)}var H,z,L,$,V,me,Oe,Ve,gt=(Ve=class extends We{constructor(t,a){super();I(this,V);I(this,H);I(this,z);I(this,L);I(this,$);b(this,H,t),this.setOptions(a),this.bindMethods(),S(this,V,me).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const a=this.options;this.options=n(this,H).defaultMutationOptions(t),ye(this.options,a)||n(this,H).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,L),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Qe(a.mutationKey)!==Qe(this.options.mutationKey)?this.reset():((i=n(this,L))==null?void 0:i.state.status)==="pending"&&n(this,L).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=n(this,L))==null||t.removeObserver(this)}onMutationUpdate(t){S(this,V,me).call(this),S(this,V,Oe).call(this,t)}getCurrentResult(){return n(this,z)}reset(){var t;(t=n(this,L))==null||t.removeObserver(this),b(this,L,void 0),S(this,V,me).call(this),S(this,V,Oe).call(this)}mutate(t,a){var i;return b(this,$,a),(i=n(this,L))==null||i.removeObserver(this),b(this,L,n(this,H).getMutationCache().build(n(this,H),this.options)),n(this,L).addObserver(this),n(this,L).execute(t)}},H=new WeakMap,z=new WeakMap,L=new WeakMap,$=new WeakMap,V=new WeakSet,me=function(){var a;const t=((a=n(this,L))==null?void 0:a.state)??ot();b(this,z,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Oe=function(t){be.batch(()=>{var a,i,l,u,d,v,q,F;if(n(this,$)&&this.hasListeners()){const k=n(this,z).variables,f=n(this,z).context,Q={client:n(this,H),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(a=n(this,$)).onSuccess)==null||i.call(a,t.data,k,f,Q),(u=(l=n(this,$)).onSettled)==null||u.call(l,t.data,null,k,f,Q)):(t==null?void 0:t.type)==="error"&&((v=(d=n(this,$)).onError)==null||v.call(d,t.error,k,f,Q),(F=(q=n(this,$)).onSettled)==null||F.call(q,void 0,t.error,k,f,Q))}this.listeners.forEach(k=>{k(n(this,z))})})},Ve),Ye=M.createContext(!1),bt=()=>M.useContext(Ye);Ye.Provider;function vt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ft=M.createContext(vt()),St=()=>M.useContext(ft),Et=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ct=e=>{M.useEffect(()=>{e.clearReset()},[e])},Rt=({result:e,errorResetBoundary:t,throwOnError:a,query:i,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(l&&e.data===void 0||je(a,[e.error,i])),It=e=>{if(e.suspense){const a=l=>l==="static"?l:Math.max(l??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...l)=>a(i(...l)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wt=(e,t)=>e.isLoading&&e.isFetching&&!t,qt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,He=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function At(e,t,a){var f,Q,A,ne,ie;if(typeof e!="object"||Array.isArray(e))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const i=bt(),l=St(),u=P(),d=u.defaultQueryOptions(e);(Q=(f=u.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||Q.call(f,d),d.queryFn||console.error(`[${d.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`),d._optimisticResults=i?"isRestoring":"optimistic",It(d),Et(d,l),Ct(l);const v=!u.getQueryCache().get(d.queryHash),[q]=M.useState(()=>new t(u,d)),F=q.getOptimisticResult(d),k=!i&&e.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(U=>{const ce=k?q.subscribe(be.batchCalls(U)):ge;return q.updateResult(),ce},[q,k]),()=>q.getCurrentResult(),()=>q.getCurrentResult()),M.useEffect(()=>{q.setOptions(d)},[d,q]),qt(d,F))throw He(d,q,l);if(Rt({result:F,errorResetBoundary:l,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw F.error;if((ne=(A=u.getDefaultOptions().queries)==null?void 0:A._experimental_afterQuery)==null||ne.call(A,d,F),d.experimental_prefetchInRender&&!Ce&&wt(F,i)){const U=v?He(d,q,l):(ie=u.getQueryCache().get(d.queryHash))==null?void 0:ie.promise;U==null||U.catch(ge).finally(()=>{q.updateResult()})}return d.notifyOnChangeProps?F:q.trackResult(F)}function R(e,t){return At(e,pt)}function O(e,t){const a=P(),[i]=M.useState(()=>new gt(a,e));M.useEffect(()=>{i.setOptions(e)},[i,e]);const l=M.useSyncExternalStore(M.useCallback(d=>i.subscribe(be.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=M.useCallback((d,v)=>{i.mutate(d,v).catch(ge)},[i]);if(l.error&&je(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const Je=y.object({id:y.string(),name:y.string(),displayUsername:y.string().nullable(),email:y.string().email(),emailVerified:y.boolean(),image:y.string().nullable(),area:y.string().nullish(),gender:y.string().nullable().transform(e=>{if(!e)return null;const t=e.toLowerCase();return t==="male"||t==="female"?t:null}),dateOfBirth:y.coerce.date().nullable(),registeredDate:y.coerce.date(),lastLoginDate:y.coerce.date().nullish(),sports:y.array(y.string()),skillRatings:y.record(y.string(),y.object({rating:y.number(),confidence:y.string(),rd:y.number()})).nullable(),status:y.string().nullable().transform(e=>{if(!e)return null;const t=e.toLowerCase();return t==="active"||t==="inactive"||t==="suspended"?t:null}),completedOnboarding:y.boolean().default(!1)}),Dt=y.object({id:y.string(),email:y.string().email(),name:y.string(),role:y.string().optional(),status:y.enum(["PENDING","ACTIVE","SUSPENDED"]),createdAt:y.string(),image:y.string().nullable().optional(),updatedAt:y.string().optional(),expiresAt:y.string().optional()}),Tt=D(["DRAFT","SCHEDULED","ONGOING","COMPLETED","UNFINISHED","CANCELLED","VOID"]),Pt=D(["SINGLES","DOUBLES"]),Ot=D(["STANDARD","ONE_SET"]),Ft=D(["PENDING","ACCEPTED","DECLINED","EXPIRED","CANCELLED"]),Nt=D(["PERSONAL_EMERGENCY","INJURY","WEATHER","SCHEDULING_CONFLICT","ILLNESS","WORK_COMMITMENT","FAMILY_EMERGENCY","OTHER"]),Xe=D(["NO_SHOW","LATE_CANCELLATION","INJURY","PERSONAL_EMERGENCY","OTHER"]),Lt=D(["OPEN","UNDER_REVIEW","RESOLVED","REJECTED"]),Mt=D(["LOW","NORMAL","HIGH","URGENT"]),Ut=D(["FAKE_MATCH","RATING_MANIPULATION","INAPPROPRIATE_CONTENT","HARASSMENT","SPAM","OTHER"]);D(["league","friendly","all"]);const kt=c({setNumber:o().optional(),team1Games:o().optional(),team2Games:o().optional(),player1:o().optional(),player2:o().optional()});Fe([E(kt),c({sets:E(c({player1:o(),player2:o()}))}),c({games:E(c({player1:o(),player2:o()}))})]);const Kt=E(Fe([s(),w()])),xt=c({setNumber:o(),winner:o(),loser:o()}),_t=c({gameNumber:o(),winner:o(),loser:o()}),Qt=Fe([c({sets:E(xt)}),c({games:E(_t)})]),Bt=c({id:s(),userId:s(),matchId:s(),team:s().nullable().optional(),role:D(["CREATOR","OPPONENT","PARTNER","INVITED"]),invitationStatus:Ft,acceptedAt:w().nullable().optional(),didAttend:C().nullable().optional(),arrivedAt:w().nullable().optional(),wasLate:C().default(!1),isStarter:C().optional(),createdAt:w().optional(),user:c({id:s(),name:s(),username:s().nullable().optional(),displayUsername:s().nullable().optional(),image:s().nullable().optional()}).passthrough()}).passthrough(),Gt=c({id:s(),matchId:s(),setNumber:o(),player1Games:o(),player2Games:o(),hasTiebreak:C().default(!1),player1Tiebreak:o().nullable().optional(),player2Tiebreak:o().nullable().optional(),tiebreakType:D(["STANDARD_7PT","MATCH_10PT"]).nullable().optional(),createdAt:w().optional()}).passthrough(),Ht=c({id:s(),matchId:s().optional(),disputeCategory:D(["WRONG_SCORE","NO_SHOW","BEHAVIOR","OTHER"]).optional(),status:Lt,priority:Mt.optional(),disputedById:s().optional(),notes:s().nullable().optional(),evidenceUrl:s().nullable().optional(),createdAt:w().optional(),resolvedAt:w().nullable().optional(),disputedBy:c({id:s(),name:s(),username:s().nullable().optional()}).passthrough().optional()}).passthrough(),$t=c({id:s(),matchId:s(),reason:Xe,defaultingPlayerId:s(),winningPlayerId:s(),recordedAt:w(),recordedById:s().nullable().optional()}).passthrough(),Vt=c({id:s(),name:s(),level:s().optional(),gameType:s().optional(),genderCategory:s().nullable().optional(),season:c({id:s(),name:s(),status:D(["UPCOMING","ACTIVE","FINISHED","CANCELLED"]).optional()}).passthrough().nullable().optional(),league:c({id:s(),name:s(),sportType:s().optional()}).passthrough().nullable().optional()}).passthrough(),Wt=c({id:s(),sport:s(),matchType:Pt,format:Ot,isOneSet:C().default(!1),status:Tt,divisionId:s().nullable().optional(),leagueId:s().nullable().optional(),seasonId:s().nullable().optional(),createdById:s().nullable().optional(),matchDate:w(),scheduledTime:w().nullable().optional(),scheduledStartTime:w().nullable().optional(),actualStartTime:w().nullable().optional(),proposedTimes:Kt.nullable().optional(),location:s().nullable().optional(),venue:s().nullable().optional(),playerScore:o().nullable().optional(),opponentScore:o().nullable().optional(),team1Score:o().nullable().optional(),team2Score:o().nullable().optional(),outcome:s().nullable().optional(),setScores:ht().nullable().optional(),duration:o().nullable().optional(),resultSubmittedById:s().nullable().optional(),resultSubmittedAt:w().nullable().optional(),resultConfirmedById:s().nullable().optional(),resultConfirmedAt:w().nullable().optional(),resultComment:s().nullable().optional(),resultEvidence:s().nullable().optional(),isAutoApproved:C().default(!1),isWalkover:C().default(!1),isDisputed:C().default(!1),requiresAdminReview:C().default(!1),cancellationRequestedAt:w().nullable().optional(),isLateCancellation:C().default(!1),cancellationReason:Nt.nullable().optional(),cancelledById:s().nullable().optional(),cancelledAt:w().nullable().optional(),cancellationComment:s().nullable().optional(),walkoverReason:Xe.nullable().optional(),walkoverRecordedById:s().nullable().optional(),walkoverScore:Qt.nullable().optional(),adminNotes:s().nullable().optional(),notes:s().nullable().optional(),isHiddenFromPublic:C().default(!1),hiddenAt:w().nullable().optional(),hiddenByAdminId:s().nullable().optional(),hiddenReason:s().nullable().optional(),isReportedForAbuse:C().default(!1),reportedAt:w().nullable().optional(),reportedByAdminId:s().nullable().optional(),reportReason:s().nullable().optional(),reportCategory:Ut.nullable().optional(),rescheduledFromId:s().nullable().optional(),rescheduleCount:o().default(0),createdAt:w(),updatedAt:w(),division:Vt.nullable().optional(),participants:E(Bt).default([]),scores:E(Gt).default([]),disputes:E(Ht).default([]),walkover:$t.nullable().optional(),createdBy:c({id:s(),name:s(),username:s().nullable().optional()}).passthrough().nullable().optional(),resultSubmittedBy:c({id:s(),name:s(),username:s().nullable().optional()}).passthrough().nullable().optional(),courtBooked:C().nullable().optional(),set3Format:s().nullable().optional()}).passthrough(),jt=c({totalMatches:o(),byStatus:c({DRAFT:o(),SCHEDULED:o(),ONGOING:o(),COMPLETED:o(),UNFINISHED:o(),CANCELLED:o(),VOID:o()}),disputed:o(),pendingConfirmation:o(),lateCancellations:o(),walkovers:o(),requiresAdminReview:o()}),zt=c({id:s().optional(),leagueId:s().nullable().optional(),seasonId:s().nullable().optional(),inactivityThresholdDays:o().min(1).max(365),warningThresholdDays:o().nullable().optional(),autoMarkInactive:C().default(!0),excludeFromPairing:C().default(!0),sendReminderEmail:C().default(!0),reminderDaysBefore:o().nullable().optional(),isDefault:C().optional(),updatedByAdminId:s().optional(),updatedAt:w().optional(),createdAt:w().optional(),league:c({id:s(),name:s()}).nullable().optional(),season:c({id:s(),name:s()}).nullable().optional(),updatedBy:c({id:s(),userId:s(),user:c({name:s()}).optional()}).optional()}).passthrough(),Yt=c({total:o(),active:o(),inactive:o(),atRisk:o().optional()}).passthrough().transform(e=>({totalUsers:e.total,activeUsers:e.active,inactiveUsers:e.inactive,warningUsers:e.atRisk??0}));c({leagueId:s().optional(),seasonId:s().optional(),inactivityThresholdDays:o().min(1,"Threshold must be at least 1 day").max(365,"Threshold cannot exceed 365 days"),warningThresholdDays:o().min(1,"Warning threshold must be at least 1 day").optional(),autoMarkInactive:C().optional(),excludeFromPairing:C().optional(),sendReminderEmail:C().optional(),reminderDaysBefore:o().min(1).optional()}).refine(e=>e.warningThresholdDays&&e.inactivityThresholdDays?e.warningThresholdDays<e.inactivityThresholdDays:!0,{message:"Warning threshold must be less than inactivity threshold",path:["warningThresholdDays"]});const ua=c({inactivityThresholdDays:o().min(1,"Threshold must be at least 1 day").max(365,"Threshold cannot exceed 365 days"),warningThresholdDays:o().min(1,"Warning threshold must be at least 1 day").nullable().optional(),autoMarkInactive:C(),excludeFromPairing:C(),sendReminderEmail:C(),reminderDaysBefore:o().min(1).nullable().optional()}),Ze=c({totalUsers:o(),leagueParticipants:o(),conversionRate:o(),totalRevenue:o(),previousTotalUsers:o(),previousLeagueParticipants:o(),previousRevenue:o(),totalMatches:o(),previousMatches:o(),activeUsers:o(),previousActiveUsers:o()}),et=c({sport:s(),sportType:D(["TENNIS","PICKLEBALL","PADEL"]),users:o(),payingMembers:o(),revenue:o(),matches:o()}),tt=c({week:s(),date:s(),tennisLeague:o(),tennisFriendly:o(),pickleballLeague:o(),pickleballFriendly:o(),padelLeague:o(),padelFriendly:o()}),at=c({month:s(),totalUsers:o(),payingMembers:o()}),st=c({sport:s(),payingMembers:o(),revenue:o(),fill:s()});c({kpi:Ze,sportMetrics:E(et),matchActivity:E(tt),userGrowth:E(at),sportComparison:E(st)});const Jt=D(["PENDING","APPROVED","DENIED","CANCELLED"]),Xt=c({id:s(),userId:s(),user:c({id:s(),name:s(),email:s(),image:s().nullable().optional(),username:s()}).nullable().optional(),currentDivisionId:s(),currentDivision:c({id:s(),name:s()}).nullable().optional(),requestedDivisionId:s(),requestedDivision:c({id:s(),name:s()}).nullable().optional(),seasonId:s(),season:c({id:s(),name:s()}).nullable().optional(),reason:s().nullable().optional(),status:Jt,reviewedByAdminId:s().nullable().optional(),reviewedByAdmin:c({id:s(),user:c({name:s()}).nullable().optional()}).nullable().optional(),reviewedAt:s().nullable().optional(),adminNotes:s().nullable().optional(),createdAt:s(),updatedAt:s()}),Zt=E(Xt),ca=e=>({PENDING:"Pending",APPROVED:"Approved",DENIED:"Denied",CANCELLED:"Cancelled"})[e]||e,da=e=>({PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",APPROVED:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",DENIED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",CANCELLED:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"})[e]||"",h=lt.create({baseURL:"http://localhost:82",withCredentials:!0,timeout:3e4}),r={players:{all:["players"],list:()=>[...r.players.all,"list"],detail:e=>[...r.players.all,"detail",e],stats:()=>[...r.players.all,"stats"]},leagues:{all:["leagues"],list:()=>[...r.leagues.all,"list"],detail:e=>[...r.leagues.all,"detail",e]},seasons:{all:["seasons"],list:()=>[...r.seasons.all,"list"],detail:e=>[...r.seasons.all,"detail",e]},divisions:{all:["divisions"],list:()=>[...r.divisions.all,"list"],detail:e=>[...r.divisions.all,"detail",e]},admins:{all:["admins"],list:()=>[...r.admins.all,"list"],detail:e=>[...r.admins.all,"detail",e],session:()=>[...r.admins.all,"session"]},matches:{all:["matches"],lists:()=>[...r.matches.all,"list"],list:e=>[...r.matches.lists(),e],details:()=>[...r.matches.all,"detail"],detail:e=>[...r.matches.details(),e],stats:e=>[...r.matches.all,"stats",e]},disputes:{all:["disputes"],lists:()=>[...r.disputes.all,"list"],list:e=>[...r.disputes.lists(),e],detail:e=>[...r.disputes.all,"detail",e],openCount:()=>[...r.disputes.all,"openCount"]},inactivity:{all:["inactivity"],settings:e=>[...r.inactivity.all,"settings",e],allSettings:()=>[...r.inactivity.all,"allSettings"],stats:()=>[...r.inactivity.all,"stats"]},dashboard:{all:["dashboard"],stats:()=>[...r.dashboard.all,"stats"],kpi:()=>[...r.dashboard.all,"kpi"],sports:()=>[...r.dashboard.all,"sports"],matchActivity:e=>[...r.dashboard.all,"matchActivity",e],userGrowth:e=>[...r.dashboard.all,"userGrowth",e],sportComparison:()=>[...r.dashboard.all,"sportComparison"]},teamChangeRequests:{all:["teamChangeRequests"],lists:()=>[...r.teamChangeRequests.all,"list"],list:e=>[...r.teamChangeRequests.lists(),e],detail:e=>[...r.teamChangeRequests.all,"detail",e],pendingCount:()=>[...r.teamChangeRequests.all,"pendingCount"]},bug:{all:["bug"],app:e=>[...r.bug.all,"app",e],settings:e=>[...r.bug.all,"settings",e]}};function ha(){return R({queryKey:r.players.list(),queryFn:async()=>{const t=(await h.get("/api/player/")).data;return E(Je).parse(t.data)}})}function pa(e){return R({queryKey:r.players.detail(e),queryFn:async()=>{const t=await h.get(`/api/player/${e}`);return Je.parse(t.data.data)},enabled:!!e})}function ma(){return R({queryKey:r.leagues.list(),queryFn:async()=>{const t=(await h.get("/api/league/")).data;return E(ut).parse(t.data)}})}function ya(){return R({queryKey:r.seasons.list(),queryFn:async()=>{const t=(await h.get("/api/season/")).data;return E(ct).parse(t.data)}})}function ga(){return R({queryKey:r.divisions.list(),queryFn:async()=>{const t=(await h.get("/api/division/")).data;return E(dt).parse(t.data)}})}function ba(e){return R({queryKey:[...r.divisions.all,"stats",e],queryFn:async()=>{var u,d;const t=e?`/api/division/season/${e}`:"/api/division/",a=await h.get(t),i=((u=a.data)==null?void 0:u.data)||((d=a.data)==null?void 0:d.divisions)||a.data||[],l=Array.isArray(i)?i:[];return{total:l.length,active:l.filter(v=>v.isActive).length,inactive:l.filter(v=>!v.isActive).length,byLevel:{beginner:l.filter(v=>v.divisionLevel==="beginner").length,intermediate:l.filter(v=>v.divisionLevel==="intermediate").length,advanced:l.filter(v=>v.divisionLevel==="advanced").length},byGameType:{singles:l.filter(v=>v.gameType==="singles").length,doubles:l.filter(v=>v.gameType==="doubles").length}}}})}function va(){return R({queryKey:r.admins.list(),queryFn:async()=>{const t=(await h.get("/api/admin/getadmins")).data;return E(Dt).parse(t.data.getAllAdmins)}})}function fa(e={}){return R({queryKey:r.matches.list(e),queryFn:async()=>{const t=new URLSearchParams;if(e.leagueId&&t.append("leagueId",e.leagueId),e.seasonId&&t.append("seasonId",e.seasonId),e.divisionId&&t.append("divisionId",e.divisionId),e.status){const l=Array.isArray(e.status)?e.status:[e.status];t.append("status",l.join(","))}e.startDate&&t.append("startDate",e.startDate.toISOString()),e.endDate&&t.append("endDate",e.endDate.toISOString()),e.search&&t.append("search",e.search),e.isDisputed!==void 0&&t.append("isDisputed",String(e.isDisputed)),e.hasLateCancellation!==void 0&&t.append("hasLateCancellation",String(e.hasLateCancellation)),e.matchContext&&e.matchContext!=="all"&&t.append("matchContext",e.matchContext),e.showHidden!==void 0&&t.append("showHidden",String(e.showHidden)),e.showReported!==void 0&&t.append("showReported",String(e.showReported)),e.page&&t.append("page",String(e.page)),e.limit&&t.append("limit",String(e.limit));const a=await h.get(`${m.admin.matches.getAll}?${t.toString()}`),i=E(Wt).safeParse(a.data.matches);return i.success?{matches:i.data,total:a.data.total,page:a.data.page,limit:a.data.limit,totalPages:a.data.totalPages}:(console.error("Match schema validation failed:",i.error.issues),{matches:a.data.matches??[],total:a.data.total,page:a.data.page,limit:a.data.limit,totalPages:a.data.totalPages})},staleTime:3e4})}function Sa(e){return R({queryKey:r.matches.stats(e),queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.leagueId&&t.append("leagueId",e.leagueId),e!=null&&e.seasonId&&t.append("seasonId",e.seasonId),e!=null&&e.divisionId&&t.append("divisionId",e.divisionId);const a=await h.get(`${m.admin.matches.getStats}?${t.toString()}`),i=jt.safeParse(a.data);return i.success?i.data:(console.error("Match stats schema validation failed:",i.error.issues),a.data)}})}function Ea(){const e=P();return O({mutationFn:async({matchId:t,reason:a,notifyParticipants:i})=>(await h.post(m.admin.matches.voidMatch(t),{reason:a,notifyParticipants:i})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.matches.all}),e.invalidateQueries({queryKey:r.matches.detail(a.matchId)})},onError:t=>{console.error("Failed to void match:",_(t,"Unknown error"))}})}function Ca(){const e=P();return O({mutationFn:async({matchId:t,reason:a,defaultingPlayerId:i,winningPlayerId:l,notifyParticipants:u})=>(await h.post(m.admin.matches.convertWalkover(t),{reason:a,defaultingPlayerId:i,winningPlayerId:l,notifyParticipants:u})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.matches.all}),e.invalidateQueries({queryKey:r.matches.detail(a.matchId)})},onError:t=>{console.error("Failed to convert match to walkover:",_(t,"Unknown error"))}})}function Ra(){const e=P();return O({mutationFn:async({matchId:t,team1Score:a,team2Score:i,setScores:l,outcome:u,reason:d})=>(await h.post(m.admin.matches.editResult(t),{team1Score:a,team2Score:i,setScores:l,outcome:u,reason:d})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.matches.all}),e.invalidateQueries({queryKey:r.matches.detail(a.matchId)})},onError:t=>{console.error("Failed to edit match result:",_(t,"Unknown error"))}})}function Ia(){return O({mutationFn:async({matchId:e,subject:t,message:a,sendEmail:i,sendPush:l})=>(await h.post(m.admin.matches.messageParticipants(e),{subject:t,message:a,sendEmail:i,sendPush:l})).data,onError:e=>{console.error("Failed to message participants:",_(e,"Unknown error"))}})}function wa(){const e=P();return O({mutationFn:async({matchId:t,approved:a,applyPenalty:i,penaltySeverity:l,reason:u})=>(await h.post(m.admin.matches.reviewCancellation(t),{approved:a,applyPenalty:i,penaltySeverity:l,reason:u})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.matches.all}),e.invalidateQueries({queryKey:r.matches.detail(a.matchId)})},onError:t=>{console.error("Failed to review cancellation:",_(t,"Unknown error"))}})}function qa(e){return R({queryKey:r.disputes.list(e),queryFn:async()=>{const t=new URLSearchParams;return e!=null&&e.status&&t.append("status",e.status),e!=null&&e.priority&&t.append("priority",e.priority),e!=null&&e.page&&t.append("page",String(e.page)),e!=null&&e.limit&&t.append("limit",String(e.limit)),(await h.get(`${m.admin.disputes.getAll}?${t.toString()}`)).data}})}function Aa(){const e=P();return O({mutationFn:async t=>(await h.post(m.admin.disputes.startReview(t))).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.disputes.all}),e.invalidateQueries({queryKey:r.disputes.detail(a)})}})}function Da(){const e=P();return O({mutationFn:async({disputeId:t,action:a,finalScore:i,reason:l,notifyPlayers:u})=>(await h.post(m.admin.disputes.resolve(t),{action:a,finalScore:i,reason:l,notifyPlayers:u})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.disputes.all}),e.invalidateQueries({queryKey:r.disputes.detail(a.disputeId)}),e.invalidateQueries({queryKey:r.matches.all})}})}function Ta(){return R({queryKey:r.disputes.openCount(),queryFn:async()=>{var a;const e=new URLSearchParams;return e.append("status","OPEN,UNDER_REVIEW"),e.append("limit","1"),((a=(await h.get(`${m.admin.disputes.getAll}?${e.toString()}`)).data)==null?void 0:a.total)||0},staleTime:6e4,refetchInterval:6e4})}function Pa(){const e=P();return O({mutationFn:async({disputeId:t,note:a,isInternalOnly:i=!0})=>(await h.post(`${m.admin.disputes.getById(t)}/notes`,{note:a,isInternalOnly:i})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.disputes.detail(a.disputeId)})}})}function Oa(e,t,a){return R({queryKey:["availablePlayers",e,t,a],queryFn:async()=>{const i=new URLSearchParams;return t&&i.append("excludeMatchId",t),a&&i.append("search",a),(await h.get(`${m.admin.divisions.availablePlayers(e)}?${i.toString()}`)).data},enabled:!!e})}function Fa(){return O({mutationFn:async({matchId:e,participants:t})=>(await h.post(m.admin.matches.validateParticipants(e),{participants:t})).data})}function Na(){const e=P();return O({mutationFn:async({matchId:t,participants:a,reason:i})=>(await h.put(m.admin.matches.editParticipants(t),{participants:a,reason:i})).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.matches.all}),e.invalidateQueries({queryKey:r.matches.detail(a.matchId)})},onError:t=>{console.error("Failed to edit participants:",_(t,"Unknown error"))}})}function La(e){return R({queryKey:r.inactivity.settings(e),queryFn:async()=>{const t=new URLSearchParams,a=t.toString()?`${m.admin.inactivity.getSettings}?${t.toString()}`:m.admin.inactivity.getSettings,i=await h.get(a);return!i.data||!i.data.data?null:zt.parse(i.data.data)}})}function Ma(){return R({queryKey:r.inactivity.stats(),queryFn:async()=>{const e=await h.get(m.admin.inactivity.getStats);return Yt.parse(e.data.data)}})}function Ua(){const e=P();return O({mutationFn:async t=>(await h.put(m.admin.inactivity.updateSettings,t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:r.inactivity.all})},onError:t=>{console.error("Failed to update inactivity settings:",_(t,"Unknown error"))}})}function ka(){const e=P();return O({mutationFn:async t=>(await h.delete(m.admin.inactivity.deleteSettings(t))).data,onSuccess:()=>{e.invalidateQueries({queryKey:r.inactivity.all})},onError:t=>{console.error("Failed to delete inactivity settings:",_(t,"Unknown error"))}})}function Ka(){const e=P();return O({mutationFn:async()=>(await h.post(m.admin.inactivity.triggerCheck)).data,onSuccess:()=>{e.invalidateQueries({queryKey:r.inactivity.stats()}),e.invalidateQueries({queryKey:r.players.all})},onError:t=>{console.error("Failed to trigger inactivity check:",_(t,"Unknown error"))}})}function xa(){return R({queryKey:r.dashboard.kpi(),queryFn:async()=>{const e=await h.get(m.admin.dashboard.getKPI);return Ze.parse(e.data.data)},staleTime:6e4})}function _a(){return R({queryKey:r.dashboard.sports(),queryFn:async()=>{const e=await h.get(m.admin.dashboard.getSports);return E(et).parse(e.data.data)},staleTime:6e4})}function Qa(e){return R({queryKey:r.dashboard.matchActivity(e),queryFn:async()=>{const t=e?`?weeks=${e}`:"",a=await h.get(`${m.admin.dashboard.getMatchActivity}${t}`);return E(tt).parse(a.data.data)},staleTime:6e4})}function Ba(e){return R({queryKey:r.dashboard.userGrowth(e),queryFn:async()=>{const t=e?`?months=${e}`:"",a=await h.get(`${m.admin.dashboard.getUserGrowth}${t}`);return E(at).parse(a.data.data)},staleTime:6e4})}function Ga(){return R({queryKey:r.dashboard.sportComparison(),queryFn:async()=>{const e=await h.get(m.admin.dashboard.getSportComparison);return E(st).parse(e.data.data)},staleTime:6e4})}function Ha(e){return R({queryKey:r.teamChangeRequests.list(e),queryFn:async()=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.seasonId&&t.append("seasonId",e.seasonId);const a=t.toString()?`${m.teamChangeRequests.getAll}?${t.toString()}`:m.teamChangeRequests.getAll,i=await h.get(a);return Zt.parse(i.data)}})}function $a(){return R({queryKey:r.teamChangeRequests.pendingCount(),queryFn:async()=>(await h.get(m.teamChangeRequests.getPendingCount)).data.count||0})}function Va(){const e=P();return O({mutationFn:async({requestId:t,status:a,adminId:i,adminNotes:l})=>(await h.patch(m.teamChangeRequests.process(t),{status:a,adminId:i,adminNotes:l})).data,onSuccess:()=>{e.invalidateQueries({queryKey:r.teamChangeRequests.all})},onError:t=>{console.error("Failed to process team change request:",_(t,"Unknown error"))}})}function Wa(){return R({queryKey:r.bug.app("dla"),queryFn:async()=>{const e=await h.get(m.bug.init);return{appId:e.data.appId,name:e.data.name||"DLA"}},staleTime:1/0})}function ja(e){return R({queryKey:r.bug.settings(e||""),queryFn:async()=>e?(await h.get(m.bug.getSettings(e))).data:null,enabled:!!e})}function za(){const e=P();return O({mutationFn:async({appId:t,data:a})=>(await h.put(m.bug.updateSettings(t),a)).data,onSuccess:(t,a)=>{e.invalidateQueries({queryKey:r.bug.settings(a.appId)})},onError:t=>{console.error("Failed to update bug report settings:",_(t,"Unknown error"))}})}export{wa as A,fa as B,ba as C,qa as D,Da as E,Pa as F,Aa as G,xa as H,_a as I,r as J,pa as K,va as L,ha as M,Ba as N,Ga as O,Qa as P,$a as a,Ha as b,Va as c,da as d,La as e,Ma as f,ca as g,Ua as h,ka as i,Ka as j,ua as k,Wa as l,ja as m,za as n,Sa as o,ma as p,ya as q,ga as r,Ea as s,Ca as t,Ta as u,Ia as v,Ra as w,Na as x,Fa as y,Oa as z};
