import{E as ge,r as w,j as e,C as Be,e as rs,b as He,B as j,ac as Ee,a4 as De,f as fs,aj as Ae,ak as je,d as A,al as Ve,am as Ue,an as X,ab as Le,t as M,J as I,P as ae,Q as le,R as ne,V as te,ag as us,N as ke,af as Ye,K as Ns,W as xe,h as C,X as Ce,ah as Fe,Y as pe,ao as J,I as We,ai as ws,a5 as Ls,m as cs}from"./index-BkrdirJj.js";import{I as hs,m as Ge,e as Qe,c as vs,a as ys,S as Es}from"./site-header-Kxze_Hjr.js";import{P as As}from"./page-header-CXkMZbYq.js";import{r as js,T as Ie,p as Te,q as Pe}from"./use-notifications-DAD8UARx.js";import{t as Vs,v as Us,s as ks,w as Cs,x as Ss,y as Is,z as Ts,A as Ps,B as _s,C as Ms,D as zs,E as Rs,F as qe}from"./use-queries-m7g6rbxN.js";import{S as Q}from"./skeleton-DlnWNXWc.js";import{c as Os,d as Fs,e as Ws,t as Gs,f as $s,a as Bs}from"./animation-variants-Don9j8OV.js";import{I as O}from"./IconAlertTriangle-DaApYuDJ.js";import{I as be}from"./IconClock-BznNAGib.js";import{I as Se}from"./IconBan-BiX7GhUD.js";import{S as Hs}from"./search-input-veex4OsJ.js";import{F as qs}from"./filter-bar-JAx9hSdt.js";import{F as ve}from"./filter-select-BmR9Q8ze.js";import{I as se,a as Xs}from"./IconWalk-DeK999Ag.js";import{I as Je}from"./IconEye-CIb7EYSd.js";import{D as Ys,a as Qs,b as Js,f as F,d as Xe}from"./dropdown-menu-B0IwZsab.js";import{I as Ks}from"./IconDotsVertical-DPqaD84K.js";import{I as Ke}from"./IconEdit-qPC54Z9Z.js";import{I as Zs}from"./IconCopy-C7VMhzdL.js";import{g as H,a as ei,f as Me,b as ie}from"./constants-D_wQXR5Q.js";import{A as P,a as R,b as _}from"./avatar-C9ifX_Hl.js";import{I as si}from"./IconHash-dDjb19b3.js";import{I as ze}from"./IconChevronRight-Cv2TxIIM.js";import{I as ii}from"./IconMapPin-2ACc43Ib.js";import{I as ai}from"./IconNotes-CaSM0IBa.js";import{I as $e}from"./IconCrown-Bs6QJq7i.js";import{I as li}from"./IconMail-DVXC4StY.js";import{A as Re,a as Oe}from"./alert-g_waqKZE.js";import{T as ni,a as ti,b as mi,c as W,d as G}from"./table-DiiNXiTr.js";import{b as ri,c as ci}from"./animated-container-D3g4z90-.js";import{I as oi}from"./IconDownload-zvGsgDd5.js";import{I as di}from"./IconChevronLeft-CaO-LZYo.js";import"./external-CBw6adHz.js";import"./coerce-D7_fDuSg.js";import"./league-schema-BPwUAuXp.js";import"./season-schema-B9VBdruD.js";import"./division-schema-C1GhWsht.js";import"./index-Cj_5DdYs.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],Ni=ge("outline","clipboard-check","ClipboardCheck",ui);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M11.102 17.957c-3.204 -.307 -5.904 -2.294 -8.102 -5.957c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6a19.5 19.5 0 0 1 -.663 1.032",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]],Di=ge("outline","eye-check","EyeCheck",hi);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],xi=ge("outline","eye-off","EyeOff",gi);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=[["path",{d:"M5 5v16",key:"svg-0"}],["path",{d:"M19 5v9",key:"svg-1"}],["path",{d:"M7.641 3.645a5 5 0 0 1 4.359 1.355a5 5 0 0 0 7 0",key:"svg-2"}],["path",{d:"M5 14a5 5 0 0 1 7 0a4.984 4.984 0 0 0 3.437 1.429m3.019 -.966c.19 -.14 .371 -.294 .544 -.463",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],bi=ge("outline","flag-off","FlagOff",pi);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25",key:"svg-1"}],["path",{d:"M12.5 15.5l2 2",key:"svg-2"}],["path",{d:"M15 13l2 2",key:"svg-3"}]],Ze=ge("outline","heart-handshake","HeartHandshake",fi);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=[["path",{d:"M11.46 20.846a12 12 0 0 1 -7.96 -14.846a12 12 0 0 0 8.5 -3a12 12 0 0 0 8.5 3a12 12 0 0 1 -.09 7.06",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],Li=ge("outline","shield-check","ShieldCheck",wi);function vi({leagueId:s,seasonId:r,divisionId:c,leagueMatchCount:l,friendlyMatchCount:i}){const{data:t,isLoading:u,error:p,refetch:f}=Vs({leagueId:s,seasonId:r,divisionId:c}),a=w.useRef(!1);if(t&&(a.current=!0),u&&!a.current)return e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[...Array(5)].map((n,D)=>e.jsxDEV(Be,{children:[e.jsxDEV(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(Q,{className:"h-4 w-24"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:58,columnNumber:15},this),e.jsxDEV(Q,{className:"size-4 rounded-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:59,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:57,columnNumber:13},this),e.jsxDEV(He,{children:[e.jsxDEV(Q,{className:"h-7 w-16 mb-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:62,columnNumber:15},this),e.jsxDEV(Q,{className:"h-3 w-32"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:63,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:61,columnNumber:13},this)]},D,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:56,columnNumber:11},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:54,columnNumber:7},this);if(p)return e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:e.jsxDEV(Be,{className:"lg:col-span-5",children:e.jsxDEV(He,{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsxDEV(O,{className:"size-8 text-destructive mb-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-3",children:"Failed to load match statistics"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:78,columnNumber:13},this),e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>f(),className:"gap-2",children:[e.jsxDEV(hs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:87,columnNumber:15},this),"Retry"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:74,columnNumber:7},this);if(!t)return null;const d=[{title:"Total Matches",value:t.totalMatches,description:"All matches",icon:Ee,iconColor:"text-blue-500",breakdown:l!==void 0&&i!==void 0?{league:l,friendly:i}:void 0},{title:"Scheduled",value:t.byStatus.SCHEDULED,description:"Upcoming matches",icon:be,iconColor:"text-green-500"},{title:"Pending Confirmation",value:t.pendingConfirmation,description:"Awaiting approval",icon:De,iconColor:"text-yellow-500"},{title:"Disputed",value:t.disputed,description:"Under review",icon:O,iconColor:"text-red-500"},{title:"Requires Review",value:t.requiresAdminReview,description:"Admin action needed",icon:Se,iconColor:"text-orange-500"}];return e.jsxDEV(Ge.div,{initial:a.current?!1:"hidden",animate:"visible",variants:Os,className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:d.map(n=>{const D=n.icon;return e.jsxDEV(Ge.div,{variants:a.current?void 0:Ws,transition:Fs,children:e.jsxDEV(Be,{children:[e.jsxDEV(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(fs,{className:"text-sm font-medium",children:n.title},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:156,columnNumber:17},this),e.jsxDEV(D,{className:`size-4 ${n.iconColor}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:159,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(He,{children:n.breakdown?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:n.value},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:165,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxDEV("span",{className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[e.jsxDEV(Ee,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:168,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium tabular-nums",children:n.breakdown.league},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:169,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:167,columnNumber:25},this),e.jsxDEV("span",{className:"inline-flex items-center gap-1 text-pink-600 dark:text-pink-400",children:[e.jsxDEV(Ze,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:172,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium tabular-nums",children:n.breakdown.friendly},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:173,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:171,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:166,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:164,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:n.description},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:177,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:163,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:n.value},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:183,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:n.description},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:184,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:182,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:154,columnNumber:13},this)},n.title,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:149,columnNumber:11},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:140,columnNumber:5},this)}const os=[{value:"disputed",label:"Disputed",icon:O,colorClass:"text-red-500"},{value:"lateCancellation",label:"Late Cancel",icon:be,colorClass:"text-orange-500"},{value:"walkover",label:"Walkover",icon:se,colorClass:"text-amber-600"},{value:"requiresReview",label:"Needs Review",icon:Je,colorClass:"text-blue-500"}];function yi({value:s,onChange:r,className:c,triggerClassName:l}){const i=s?os.find(u=>u.value===s):null,t=u=>{r(u==="all"?void 0:u)};return e.jsxDEV(Ae,{value:s||"all",onValueChange:t,children:[e.jsxDEV(je,{className:A("w-[140px]",l,c),children:e.jsxDEV(Ve,{children:i?e.jsxDEV("span",{className:"flex items-center gap-1.5",children:[e.jsxDEV(i.icon,{className:A("size-4",i.colorClass)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:75,columnNumber:15},this),e.jsxDEV("span",{children:i.label},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:74,columnNumber:13},this):"All Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:71,columnNumber:7},this),e.jsxDEV(Ue,{children:[e.jsxDEV(X,{value:"all",children:"All Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:84,columnNumber:9},this),os.map(u=>{const p=u.icon;return e.jsxDEV(X,{value:u.value,children:e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV(p,{className:A("size-4",u.colorClass)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:90,columnNumber:17},this),e.jsxDEV("span",{children:u.label},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:89,columnNumber:15},this)},u.value,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:88,columnNumber:13},this)})]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/filter-flags-select.tsx",lineNumber:70,columnNumber:5},this)}const Ei=[{value:"DRAFT",label:"Draft"},{value:"SCHEDULED",label:"Scheduled"},{value:"ONGOING",label:"Ongoing"},{value:"COMPLETED",label:"Completed"},{value:"UNFINISHED",label:"Unfinished"},{value:"CANCELLED",label:"Cancelled"},{value:"VOID",label:"Void"}],Ai=[{value:"PICKLEBALL",label:"Pickleball"},{value:"TENNIS",label:"Tennis"},{value:"PADEL",label:"Padel"}];function ji({activeTab:s,selectedLeague:r,selectedSeason:c,selectedDivision:l,selectedStatus:i,selectedSport:t,searchQuery:u="",selectedFlag:p,onLeagueChange:f,onSeasonChange:a,onDivisionChange:d,onStatusChange:n,onSportChange:D,onSearchChange:g,onFlagChange:b,className:y=""}){const{data:h,isLoading:m}=Us(),{data:x,isLoading:v}=ks(),{data:V,isLoading:T}=Cs(),S=Le.useMemo(()=>x?r?x.filter(k=>{var ee;return(ee=k.leagues)==null?void 0:ee.some(N=>N.id===r)}):x:[],[x,r]),U=Le.useMemo(()=>V?c?V.filter(k=>k.seasonId===c):V:[],[V,c]),me=Le.useMemo(()=>(h==null?void 0:h.map(k=>({value:k.id,label:k.name})))||[],[h]),re=Le.useMemo(()=>S.map(k=>({value:k.id,label:k.name})),[S]),ce=Le.useMemo(()=>U.map(k=>({value:k.id,label:k.name})),[U]),K=()=>{f(void 0),a(void 0),d(void 0),n(void 0),D==null||D(void 0),g(""),b(void 0)},oe=r||c||l||i||t||u||p,Z=k=>{f(k),a(void 0),d(void 0)},fe=k=>{a(k),d(void 0)},Y=s==="league";return e.jsxDEV("div",{className:y,children:e.jsxDEV(qs,{onClearAll:K,showClearButton:!!oe,children:[e.jsxDEV(Hs,{value:u,onChange:g,placeholder:"Search matches...",className:"w-[200px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:136,columnNumber:9},this),Y&&e.jsxDEV(e.Fragment,{children:[m?e.jsxDEV(Q,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:148,columnNumber:15},this):e.jsxDEV(ve,{value:r,onChange:Z,options:me,allLabel:"All Leagues",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:150,columnNumber:15},this),v?e.jsxDEV(Q,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:161,columnNumber:15},this):e.jsxDEV(ve,{value:c,onChange:fe,options:re,allLabel:"All Seasons",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:163,columnNumber:15},this),T?e.jsxDEV(Q,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:174,columnNumber:15},this):e.jsxDEV(ve,{value:l,onChange:d,options:ce,allLabel:"All Divisions",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:145,columnNumber:11},this),!Y&&D&&e.jsxDEV(ve,{value:t,onChange:D,options:Ai,allLabel:"All Sports",triggerClassName:"w-[140px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:189,columnNumber:11},this),e.jsxDEV(ve,{value:i,onChange:k=>n(k),options:Ei,allLabel:"All Statuses",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:199,columnNumber:9},this),e.jsxDEV(yi,{value:p,onChange:b,triggerClassName:"w-[130px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:208,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:134,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:133,columnNumber:5},this)}function Vi({match:s,onView:r,onEdit:c,onEditParticipants:l,onVoid:i,onConvertToWalkover:t,onMessage:u,onReviewCancellation:p,onHideMatch:f,onUnhideMatch:a,onReportAbuse:d,onClearReport:n}){const D=s.status==="VOID",g=s.status==="CANCELLED",b=s.status==="COMPLETED",y=s.status==="ONGOING",h=!D&&!g,m=!D&&!g&&!s.isWalkover,x=b||y,v=!D&&!g&&!y,V=s.isLateCancellation&&g,T=!s.divisionId&&!s.leagueId&&!s.seasonId,S=s.isHiddenFromPublic,U=s.isReportedForAbuse;return e.jsxDEV(Ys,{children:[e.jsxDEV(Qs,{asChild:!0,children:e.jsxDEV(j,{variant:"ghost",size:"icon",className:"size-8",children:[e.jsxDEV(Ks,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("span",{className:"sr-only",children:"Open menu"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:78,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:77,columnNumber:7},this),e.jsxDEV(Js,{align:"end",className:"w-52",children:[e.jsxDEV(F,{onClick:()=>r(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Je,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:89,columnNumber:11},this),"View Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:85,columnNumber:9},this),x&&e.jsxDEV(F,{onClick:()=>c(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Ke,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:99,columnNumber:13},this),"Edit Result"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:95,columnNumber:11},this),v&&e.jsxDEV(F,{onClick:()=>l(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(De,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:110,columnNumber:13},this),"Edit Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:106,columnNumber:11},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV(F,{onClick:()=>{navigator.clipboard.writeText(s.id),M.success("Match ID copied to clipboard")},className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Zs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:125,columnNumber:11},this),"Copy Match ID"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV(F,{onClick:()=>u(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Qe,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:134,columnNumber:11},this),"Message Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:130,columnNumber:9},this),V&&p&&e.jsxDEV(F,{onClick:()=>p(s),className:"cursor-pointer text-orange-600 focus:bg-accent focus:text-orange-600",children:[e.jsxDEV(be,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:144,columnNumber:13},this),"Review Cancellation"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:140,columnNumber:11},this),m&&e.jsxDEV(F,{onClick:()=>t(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(se,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:155,columnNumber:13},this),"Convert to Walkover"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:151,columnNumber:11},this),T&&(f||a||d||n)&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:163,columnNumber:13},this),!S&&f&&e.jsxDEV(F,{onClick:()=>f(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(xi,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:169,columnNumber:17},this),"Hide from Public"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:165,columnNumber:15},this),S&&a&&e.jsxDEV(F,{onClick:()=>a(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Di,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:178,columnNumber:17},this),"Unhide Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:174,columnNumber:15},this),!U&&d&&e.jsxDEV(F,{onClick:()=>d(s),className:"cursor-pointer text-red-600 focus:bg-accent focus:text-red-600",children:[e.jsxDEV(Xs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:187,columnNumber:17},this),"Report Abuse"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:183,columnNumber:15},this),U&&n&&e.jsxDEV(F,{onClick:()=>n(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(bi,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:196,columnNumber:17},this),"Clear Report"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:162,columnNumber:11},this),h&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:206,columnNumber:13},this),e.jsxDEV(F,{variant:"destructive",onClick:()=>i(s),className:"cursor-pointer focus:bg-destructive focus:text-destructive-foreground",children:[e.jsxDEV(Se,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:212,columnNumber:15},this),"Void Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:76,columnNumber:5},this)}function Ds({status:s,className:r}){const c=H("MATCH",s),l=ei(s);return e.jsxDEV(I,{variant:"outline",className:A(c,r),children:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-status-badge.tsx",lineNumber:22,columnNumber:5},this)}const q=s=>(s==null?void 0:s.name)||(s==null?void 0:s.username)||"Unknown",Ui=s=>{if(!s||s<=0)return null;if(s<60)return`${s}m`;const r=Math.floor(s/60),c=s%60;return c>0?`${r}h ${c}m`:`${r}h`},ki=s=>{if(s.status!=="COMPLETED"||!s.resultSubmittedAt)return null;const r=s.actualStartTime||s.matchDate;if(!r)return null;const c=new Date(r),i=new Date(s.resultSubmittedAt).getTime()-c.getTime();return i<=0||i>720*60*1e3?null:Math.round(i/(1e3*60))},ye=s=>s?s.replace(/_/g," ").toLowerCase().replace(/\b\w/g,r=>r.toUpperCase()):"Not specified",Ci=s=>{if(!s)return"";try{const r=s instanceof Date?s:new Date(s);if(isNaN(r.getTime()))return"";const c=new Date,l=r.toDateString()===c.toDateString(),i=r.getFullYear()===c.getFullYear(),t=r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return l?`Today at ${t}`:`${r.toLocaleDateString("en-US",{month:"short",day:"numeric",...i?{}:{year:"numeric"}})} at ${t}`}catch{return""}},Si=s=>{var c,l,i,t,u,p,f;const r=[];if(s.createdAt&&r.push({id:"created",timestamp:new Date(s.createdAt),icon:e.jsxDEV(Ye,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:136,columnNumber:13},void 0),iconColor:"text-muted-foreground bg-muted",title:"created this match",user:s.createdBy?{name:s.createdBy.name||s.createdBy.username||"Unknown",image:s.createdBy.image}:void 0}),s.resultSubmittedAt){const a=s.resultSubmittedBy||((l=(c=s.participants)==null?void 0:c.find(d=>d.userId===s.resultSubmittedById))==null?void 0:l.user);r.push({id:"result-submitted",timestamp:new Date(s.resultSubmittedAt),icon:e.jsxDEV(Ni,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:155,columnNumber:13},void 0),iconColor:"text-amber-600 bg-amber-100 dark:bg-amber-900/30",title:"submitted the result",user:a?{name:a.name||a.username||"Unknown",image:a.image}:void 0,details:s.team1Score!==null&&s.team2Score!==null?`Score: ${s.team1Score} - ${s.team2Score}`:void 0})}if(s.resultConfirmedAt){const a=s.resultSubmittedById||s.createdById,d=a?(i=s.participants)==null?void 0:i.find(n=>n.userId!==a&&n.invitationStatus==="ACCEPTED"):null;r.push({id:"result-confirmed",timestamp:new Date(s.resultConfirmedAt),icon:e.jsxDEV(Li,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:181,columnNumber:13},void 0),iconColor:"text-green-600 bg-green-100 dark:bg-green-900/30",title:s.isAutoApproved?"Result auto-confirmed":d!=null&&d.user?"confirmed the result":"Result confirmed",user:!s.isAutoApproved&&(d!=null&&d.user)?{name:d.user.name||d.user.username||"Opponent",image:d.user.image||void 0}:void 0})}if(s.status==="COMPLETED"){const a=s.resultConfirmedAt||s.resultSubmittedAt||s.updatedAt;r.push({id:"completed",timestamp:new Date(a),icon:e.jsxDEV(Ee,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:201,columnNumber:13},void 0),iconColor:"text-green-600 bg-green-100 dark:bg-green-900/30",title:"Match completed"})}if(s.status==="CANCELLED"&&s.cancelledAt){const a=(t=s.participants)==null?void 0:t.find(d=>d.userId===s.cancelledById);r.push({id:"cancelled",timestamp:new Date(s.cancelledAt),icon:e.jsxDEV(ke,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:216,columnNumber:13},void 0),iconColor:"text-red-600 bg-red-100 dark:bg-red-900/30",title:a!=null&&a.user?"cancelled the match":"Match cancelled",user:a!=null&&a.user?{name:a.user.name||a.user.username||"Unknown",image:a.user.image||void 0}:void 0,details:s.cancellationReason?ye(s.cancellationReason):void 0})}if(s.isWalkover&&((u=s.walkover)!=null&&u.recordedAt)){const a=(p=s.participants)==null?void 0:p.find(d=>{var n;return d.userId===((n=s.walkover)==null?void 0:n.recordedById)});r.push({id:"walkover",timestamp:new Date(s.walkover.recordedAt),icon:e.jsxDEV(se,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:238,columnNumber:13},void 0),iconColor:"text-orange-600 bg-orange-100 dark:bg-orange-900/30",title:a!=null&&a.user?"recorded walkover":"Walkover recorded",user:a!=null&&a.user?{name:a.user.name||a.user.username||"Unknown",image:a.user.image||void 0}:void 0,details:s.walkover.reason?ye(s.walkover.reason):void 0})}return(f=s.disputes)==null||f.forEach((a,d)=>{var n;if(a.createdAt&&r.push({id:`dispute-${d}`,timestamp:new Date(a.createdAt),icon:e.jsxDEV(O,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:257,columnNumber:15},void 0),iconColor:"text-red-600 bg-red-100 dark:bg-red-900/30",title:a.disputedBy?"filed a dispute":"Dispute filed",user:a.disputedBy?{name:a.disputedBy.name||a.disputedBy.username||"Unknown"}:void 0,details:a.disputeCategory?ye(a.disputeCategory):void 0}),a.resolvedAt){const D=((n=a.status)==null?void 0:n.toLowerCase())||"resolved";r.push({id:`dispute-resolved-${d}`,timestamp:new Date(a.resolvedAt),icon:e.jsxDEV(Ns,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:274,columnNumber:15},void 0),iconColor:"text-green-600 bg-green-100 dark:bg-green-900/30",title:`Dispute ${D}`})}}),s.status==="VOID"&&r.push({id:"voided",timestamp:new Date(s.updatedAt),icon:e.jsxDEV(Se,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:286,columnNumber:13},void 0),iconColor:"text-red-600 bg-red-100 dark:bg-red-900/30",title:"Match voided by admin",details:s.adminNotes||void 0}),r.sort((a,d)=>a.timestamp.getTime()-d.timestamp.getTime())},Ii=s=>{switch(s==null?void 0:s.toLowerCase()){case"tennis":return{badge:"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800",accent:"bg-emerald-500",bg:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/30 dark:to-emerald-900/20"};case"badminton":return{badge:"text-rose-700 bg-rose-50 border-rose-200 dark:bg-rose-950/40 dark:text-rose-400 dark:border-rose-800",accent:"bg-rose-500",bg:"bg-gradient-to-br from-rose-50 to-rose-100/50 dark:from-rose-950/30 dark:to-rose-900/20"};case"pickleball":return{badge:"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800",accent:"bg-violet-500",bg:"bg-gradient-to-br from-violet-50 to-violet-100/50 dark:from-violet-950/30 dark:to-violet-900/20"};case"padel":return{badge:"text-sky-700 bg-sky-50 border-sky-200 dark:bg-sky-950/40 dark:text-sky-400 dark:border-sky-800",accent:"bg-sky-500",bg:"bg-gradient-to-br from-sky-50 to-sky-100/50 dark:from-sky-950/30 dark:to-sky-900/20"};default:return{badge:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700",accent:"bg-slate-500",bg:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-900/30 dark:to-slate-800/20"}}};function Ti({match:s,open:r,onOpenChange:c,onEdit:l,onVoid:i,onMessage:t,onEditParticipants:u}){var D,g,b,y;if(!s)return null;const p=Ii(s.sport),f=!s.divisionId&&!s.leagueId&&!s.seasonId,a=s.participants||[],d=s.status==="DRAFT",n=s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?s.team1Score>s.team2Score?"team1":s.team2Score>s.team1Score?"team2":null:null;return e.jsxDEV(ae,{open:r,onOpenChange:c,children:e.jsxDEV(le,{className:"sm:max-w-[640px] max-h-[90vh] overflow-y-auto p-0 gap-0",children:[e.jsxDEV(ne,{className:"px-6 pt-6 pb-4 space-y-3",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-4 pr-8",children:[e.jsxDEV("div",{className:"space-y-1.5 min-w-0",children:[e.jsxDEV(te,{className:"text-lg font-semibold tracking-tight",children:[s.matchType==="DOUBLES"?"Doubles":"Singles"," Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:371,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsxDEV(si,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:375,columnNumber:17},this),e.jsxDEV("code",{className:"font-mono text-[11px] select-all",children:s.id},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:376,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:374,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:370,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsxDEV(Ds,{status:s.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:380,columnNumber:15},this),s.isDisputed&&e.jsxDEV(I,{variant:"destructive",className:"gap-1 text-xs px-2",children:[e.jsxDEV(O,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:383,columnNumber:19},this),"Disputed"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:382,columnNumber:17},this),s.isWalkover&&e.jsxDEV(I,{variant:"outline",className:"gap-1 text-xs px-2",children:[e.jsxDEV(se,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:389,columnNumber:19},this),"W/O"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:379,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:369,columnNumber:11},this),f?e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-pink-50 dark:bg-pink-950/30 border border-pink-200 dark:border-pink-800",children:[e.jsxDEV(Ze,{className:"size-4 text-pink-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:399,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-pink-700 dark:text-pink-300",children:"Friendly Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:400,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-pink-600/70 dark:text-pink-400/70",children:"• Not linked to any league"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:398,columnNumber:13},this):s.division?e.jsxDEV("div",{className:A("flex items-center gap-2 px-3 py-2 rounded-lg border",p.bg,"border-transparent"),children:[e.jsxDEV(I,{variant:"outline",className:A("text-xs font-medium",p.badge),children:s.sport},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:405,columnNumber:15},this),s.division.league&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ze,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",children:s.division.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:411,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:409,columnNumber:17},this),s.division.season&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ze,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:416,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:s.division.season.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:417,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:415,columnNumber:17},this),s.division.name&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ze,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:422,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:s.division.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:423,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:404,columnNumber:13},this):e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50",children:e.jsxDEV(I,{variant:"outline",className:A("text-xs",p.badge),children:s.sport},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:429,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:368,columnNumber:9},this),e.jsxDEV("div",{className:"px-6 pb-6 space-y-5",children:[e.jsxDEV("div",{className:A("rounded-xl p-4",p.bg,"border border-border/50"),children:[s.matchType==="SINGLES"?e.jsxDEV(Pi,{participants:a,isDraft:d,score:s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?{team1:s.team1Score,team2:s.team2Score}:null,winningSide:n},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:440,columnNumber:15},this):e.jsxDEV(_i,{participants:a,isDraft:d,score:s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?{team1:s.team1Score,team2:s.team2Score}:null,winningSide:n},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:450,columnNumber:15},this),s.status==="COMPLETED"&&e.jsxDEV(zi,{setScores:s.setScores,sport:s.sport},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:462,columnNumber:46},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:438,columnNumber:11},this),s.status==="DRAFT"&&e.jsxDEV("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsxDEV("strong",{children:"Awaiting Responses"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:469,columnNumber:17},this),((D=s.participants)==null?void 0:D.some(h=>h.invitationStatus==="DECLINED"))&&e.jsxDEV("span",{className:"block mt-1 text-red-600 dark:text-red-400",children:"• Some invitations declined - creator needs to invite new players"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:471,columnNumber:19},this),((g=s.participants)==null?void 0:g.some(h=>h.invitationStatus==="EXPIRED"))&&e.jsxDEV("span",{className:"block mt-1 text-muted-foreground",children:"• Some invitations expired - needs resending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:476,columnNumber:19},this),((b=s.participants)==null?void 0:b.every(h=>h.invitationStatus==="PENDING"||h.invitationStatus==="ACCEPTED"))&&((y=s.participants)==null?void 0:y.some(h=>h.invitationStatus==="PENDING"))&&e.jsxDEV("span",{className:"block mt-1 text-muted-foreground",children:"• Waiting for all players to accept"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:482,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:468,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:467,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxDEV(_e,{icon:e.jsxDEV(vs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:493,columnNumber:21},this),label:"Date",value:new Date(s.matchDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:492,columnNumber:13},this),e.jsxDEV(_e,{icon:e.jsxDEV(ii,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:502,columnNumber:21},this),label:"Venue",value:s.venue||s.location||"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:501,columnNumber:13},this),(()=>{const h=ki(s);return h?e.jsxDEV(_e,{icon:e.jsxDEV(be,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:510,columnNumber:25},this),label:"Duration",value:Ui(h)||"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:509,columnNumber:17},this):null})(),e.jsxDEV(_e,{icon:s.matchType==="DOUBLES"?e.jsxDEV(De,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:517,columnNumber:53},this):e.jsxDEV(us,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:517,columnNumber:88},this),label:"Format",value:s.matchType==="DOUBLES"?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:516,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:491,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Activity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:525,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-lg border border-border/50 p-4",children:(()=>{const h=Si(s);return h.length>0?e.jsxDEV("div",{className:"space-y-0",children:h.map((m,x)=>e.jsxDEV(Ri,{event:m,isLast:x===h.length-1},m.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:534,columnNumber:23},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:532,columnNumber:19},this):e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No activity recorded"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:542,columnNumber:19},this)})()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:524,columnNumber:11},this),(s.adminNotes||s.notes)&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(ai,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:554,columnNumber:17},this),"Notes"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:553,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-lg",children:s.adminNotes||s.notes},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:557,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:552,columnNumber:13},this),s.isDisputed&&s.disputes&&s.disputes.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-destructive flex items-center gap-1.5",children:[e.jsxDEV(O,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:567,columnNumber:17},this),"Disputes"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:566,columnNumber:15},this),s.disputes.map(h=>{var m;return e.jsxDEV("div",{className:"p-3 bg-destructive/5 border border-destructive/20 rounded-lg text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-start gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:h.disputeCategory},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:576,columnNumber:21},this),e.jsxDEV(I,{variant:"outline",className:"text-[10px]",children:h.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:577,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:575,columnNumber:19},this),h.notes&&e.jsxDEV("p",{className:"mt-1.5 text-muted-foreground text-xs",children:h.notes},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:580,columnNumber:21},this),e.jsxDEV("p",{className:"mt-1.5 text-[10px] text-muted-foreground",children:["Filed by ",((m=h.disputedBy)==null?void 0:m.name)??"Unknown"," • ",Me(h.createdAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:582,columnNumber:19},this)]},h.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:571,columnNumber:17},this)})]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:565,columnNumber:13},this),s.isWalkover&&s.walkover&&(()=>{var x,v,V,T;const h=s.walkover.defaultingPlayer||((v=(x=s.participants)==null?void 0:x.find(S=>{var U;return S.userId===((U=s.walkover)==null?void 0:U.defaultingPlayerId)}))==null?void 0:v.user),m=s.walkover.winningPlayer||((T=(V=s.participants)==null?void 0:V.find(S=>{var U;return S.userId===((U=s.walkover)==null?void 0:U.winningPlayerId)}))==null?void 0:T.user);return e.jsxDEV("div",{className:"-mx-6 -mb-6 mt-4 pt-4 px-6 pb-4 bg-muted border-t border-border",children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(se,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:602,columnNumber:21},this),"Walkover"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:601,columnNumber:19},this),e.jsxDEV("div",{className:"rounded-lg border border-border bg-background divide-y divide-border/50",children:[e.jsxDEV("div",{className:"px-3 py-2.5 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-[11px] uppercase tracking-wider text-muted-foreground",children:"Reason"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:608,columnNumber:23},this),e.jsxDEV(I,{variant:"outline",className:"font-medium",children:ye(s.walkover.walkoverReason||s.walkover.reason)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:609,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:607,columnNumber:21},this),e.jsxDEV("div",{className:"px-3 py-2.5 flex items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsxDEV(P,{className:"size-6 border border-border",children:[e.jsxDEV(R,{src:(h==null?void 0:h.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:619,columnNumber:27},this),e.jsxDEV(_,{className:"text-[10px] bg-muted",children:ie((h==null?void 0:h.name)||"?")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:620,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:618,columnNumber:25},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"text-[10px] text-red-500 font-medium",children:"Forfeited"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:625,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm font-medium truncate",children:q(h)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:626,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:624,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:617,columnNumber:23},this),e.jsxDEV("span",{className:"text-[10px] text-muted-foreground font-medium shrink-0",children:"VS"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:632,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-2 min-w-0 flex-1 justify-end",children:[e.jsxDEV("div",{className:"min-w-0 text-right",children:[e.jsxDEV("p",{className:"text-[10px] text-green-600 font-medium",children:"Awarded Win"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:637,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm font-medium truncate",children:q(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:638,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:636,columnNumber:25},this),e.jsxDEV(P,{className:"size-6 border border-border",children:[e.jsxDEV(R,{src:(m==null?void 0:m.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:643,columnNumber:27},this),e.jsxDEV(_,{className:"text-[10px] bg-muted",children:ie((m==null?void 0:m.name)||"?")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:644,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:642,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:635,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:615,columnNumber:21},this),(s.walkover.walkoverReasonDetail||s.walkover.reasonDetail)&&e.jsxDEV("div",{className:"px-3 py-2.5",children:[e.jsxDEV("p",{className:"text-[11px] uppercase tracking-wider text-muted-foreground mb-1",children:"Details"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:654,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:["“",s.walkover.walkoverReasonDetail||s.walkover.reasonDetail,"”"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:655,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:653,columnNumber:23},this),e.jsxDEV("div",{className:"px-3 py-2 flex items-center justify-between text-[11px] text-muted-foreground bg-muted/30",children:e.jsxDEV("span",{children:["Recorded ",Me(s.walkover.createdAt||s.walkover.recordedAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:663,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:662,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:605,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:600,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:599,columnNumber:15},this)})(),s.status==="CANCELLED"&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(ke,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:675,columnNumber:17},this),"Cancellation Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:674,columnNumber:15},this),e.jsxDEV("div",{className:A("p-3 rounded-lg border",s.isLateCancellation?"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800":"bg-muted/50 border-border/50"),children:[s.isLateCancellation&&e.jsxDEV(I,{variant:"destructive",className:"mb-2 text-xs gap-1",children:[e.jsxDEV(O,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:686,columnNumber:21},this),"Late Cancellation"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:685,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[s.cancellationReason&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Reason:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:695,columnNumber:23},this),e.jsxDEV(I,{variant:"outline",children:ye(s.cancellationReason)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:696,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:694,columnNumber:21},this),s.cancellationComment&&e.jsxDEV("p",{className:"text-muted-foreground italic",children:["“",s.cancellationComment,"”"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:704,columnNumber:21},this),s.cancelledAt&&e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Cancelled ",Me(s.cancelledAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:711,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:691,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:678,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:673,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:436,columnNumber:9},this),(t||l||i||u)&&e.jsxDEV("div",{className:"px-6 pb-6 pt-3 border-t border-border/50",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[t&&e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>{t(s),c(!1)},children:[e.jsxDEV(Qe,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:732,columnNumber:19},this),"Message"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:727,columnNumber:17},this),u&&!["COMPLETED","VOID","CANCELLED","ONGOING"].includes(s.status)&&e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>{u(s),c(!1)},children:[e.jsxDEV(De,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:744,columnNumber:19},this),"Edit Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:739,columnNumber:17},this),l&&["COMPLETED","ONGOING"].includes(s.status)&&e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>{l(s),c(!1)},children:[e.jsxDEV(Ke,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:756,columnNumber:19},this),"Edit Result"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:751,columnNumber:17},this),i&&!["VOID","CANCELLED"].includes(s.status)&&e.jsxDEV(j,{variant:"destructive",size:"sm",onClick:()=>{i(s),c(!1)},children:[e.jsxDEV(Se,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:768,columnNumber:19},this),"Void Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:763,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:724,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:723,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:367,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:366,columnNumber:5},this)}function Pi({participants:s,isDraft:r,score:c,winningSide:l}){var u,p;const i=s==null?void 0:s[0],t=s==null?void 0:s[1];return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[l==="team1"&&e.jsxDEV($e,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:801,columnNumber:13},this),e.jsxDEV(P,{className:A("size-14 ring-2 ring-background shadow-sm",l==="team1"&&"ring-amber-400 ring-4"),children:[e.jsxDEV(R,{src:((u=i==null?void 0:i.user)==null?void 0:u.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:807,columnNumber:13},this),e.jsxDEV(_,{className:"text-base font-medium bg-muted",children:ie(q(i==null?void 0:i.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:808,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:803,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:799,columnNumber:9},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:A("font-semibold truncate",l==="team1"&&"text-amber-600 dark:text-amber-400"),children:q(i==null?void 0:i.user)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:814,columnNumber:11},this),r&&(i==null?void 0:i.invitationStatus)&&e.jsxDEV(I,{variant:"outline",className:A("text-[10px] mt-0.5",H("INVITATION",i.invitationStatus)),children:i.invitationStatus},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:818,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:813,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:798,columnNumber:7},this),e.jsxDEV("div",{className:"flex-shrink-0 text-center px-2",children:c?e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("div",{className:"font-mono text-2xl font-bold tracking-tight",children:[e.jsxDEV("span",{className:l==="team1"?"text-amber-600 dark:text-amber-400":"",children:c.team1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:833,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground mx-1",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:834,columnNumber:15},this),e.jsxDEV("span",{className:l==="team2"?"text-amber-600 dark:text-amber-400":"",children:c.team2},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:835,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:832,columnNumber:13},this),e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Final"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:837,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:831,columnNumber:11},this):e.jsxDEV("div",{className:"text-xl font-bold text-muted-foreground/50",children:"VS"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:840,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:829,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 flex items-center gap-3 justify-end text-right",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:A("font-semibold truncate",l==="team2"&&"text-amber-600 dark:text-amber-400"),children:t?q(t==null?void 0:t.user):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:847,columnNumber:11},this),r&&(t==null?void 0:t.invitationStatus)&&e.jsxDEV(I,{variant:"outline",className:A("text-[10px] mt-0.5",H("INVITATION",t.invitationStatus)),children:t.invitationStatus},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:851,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:846,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[l==="team2"&&e.jsxDEV($e,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:861,columnNumber:13},this),e.jsxDEV(P,{className:A("size-14 ring-2 ring-background shadow-sm",l==="team2"&&"ring-amber-400 ring-4"),children:[e.jsxDEV(R,{src:((p=t==null?void 0:t.user)==null?void 0:p.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:867,columnNumber:13},this),e.jsxDEV(_,{className:"text-base font-medium bg-muted",children:t?ie(q(t==null?void 0:t.user)):"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:868,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:863,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:859,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:845,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:796,columnNumber:5},this)}function _i({participants:s,isDraft:r,score:c,winningSide:l}){const i=(s==null?void 0:s.filter(a=>a.team==="team1"))||[],t=(s==null?void 0:s.filter(a=>a.team==="team2"))||[],u=a=>{if(!r)return null;const d=a.some(g=>g.invitationStatus==="DECLINED"),n=a.some(g=>g.invitationStatus==="EXPIRED"),D=a.some(g=>g.invitationStatus==="PENDING");return d?{status:"DECLINED",color:H("INVITATION","DECLINED")}:n?{status:"EXPIRED",color:H("INVITATION","EXPIRED")}:D?{status:"PENDING",color:H("INVITATION","PENDING")}:null},p=u(i),f=u(t);return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"relative",children:[l==="team1"&&e.jsxDEV($e,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm z-10"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:915,columnNumber:15},this),e.jsxDEV("div",{className:A("flex -space-x-2 rounded-full",l==="team1"&&"ring-4 ring-amber-400"),children:[i.slice(0,2).map(a=>{var d;return e.jsxDEV(P,{className:"size-10 ring-2 ring-background shadow-sm",children:[e.jsxDEV(R,{src:((d=a.user)==null?void 0:d.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:923,columnNumber:19},this),e.jsxDEV(_,{className:"text-xs font-medium bg-muted",children:ie(q(a.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:924,columnNumber:19},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:922,columnNumber:17},this)}),i.length===0&&e.jsxDEV(P,{className:"size-10 ring-2 ring-background",children:e.jsxDEV(_,{className:"text-xs",children:"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:931,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:930,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:917,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:913,columnNumber:11},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:A("font-semibold text-sm truncate",l==="team1"&&"text-amber-600 dark:text-amber-400"),children:i.length>0?i.map(a=>q(a.user).split(" ")[0]).join(" & "):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:937,columnNumber:13},this),p&&e.jsxDEV(I,{variant:"outline",className:A("text-[10px] mt-0.5",p.color),children:p.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:947,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:936,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:912,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:911,columnNumber:7},this),e.jsxDEV("div",{className:"flex-shrink-0 text-center px-2",children:c?e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("div",{className:"font-mono text-2xl font-bold tracking-tight",children:[e.jsxDEV("span",{className:l==="team1"?"text-amber-600 dark:text-amber-400":"",children:c.team1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:960,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground mx-1",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:961,columnNumber:15},this),e.jsxDEV("span",{className:l==="team2"?"text-amber-600 dark:text-amber-400":"",children:c.team2},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:962,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:959,columnNumber:13},this),e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Final"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:964,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:958,columnNumber:11},this):e.jsxDEV("div",{className:"text-xl font-bold text-muted-foreground/50",children:"VS"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:967,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:956,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-center gap-2 justify-end text-right",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:A("font-semibold text-sm truncate",l==="team2"&&"text-amber-600 dark:text-amber-400"),children:t.length>0?t.map(a=>q(a.user).split(" ")[0]).join(" & "):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:975,columnNumber:13},this),f&&e.jsxDEV(I,{variant:"outline",className:A("text-[10px] mt-0.5",f.color),children:f.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:985,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:974,columnNumber:11},this),e.jsxDEV("div",{className:"relative",children:[l==="team2"&&e.jsxDEV($e,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm z-10"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:992,columnNumber:15},this),e.jsxDEV("div",{className:A("flex -space-x-2 rounded-full",l==="team2"&&"ring-4 ring-amber-400"),children:[t.slice(0,2).map(a=>{var d;return e.jsxDEV(P,{className:"size-10 ring-2 ring-background shadow-sm",children:[e.jsxDEV(R,{src:((d=a.user)==null?void 0:d.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1e3,columnNumber:19},this),e.jsxDEV(_,{className:"text-xs font-medium bg-muted",children:ie(q(a.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1001,columnNumber:19},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:999,columnNumber:17},this)}),t.length===0&&e.jsxDEV(P,{className:"size-10 ring-2 ring-background",children:e.jsxDEV(_,{className:"text-xs",children:"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1008,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1007,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:994,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:990,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:973,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:972,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:909,columnNumber:5},this)}function _e({icon:s,label:r,value:c}){return e.jsxDEV("div",{className:"p-2.5 rounded-lg bg-muted/50 border border-border/50",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground mb-1",children:[s,e.jsxDEV("span",{className:"text-[10px] uppercase tracking-wider",children:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1025,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1023,columnNumber:7},this),e.jsxDEV("p",{className:"text-sm font-medium truncate",children:c},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1027,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1022,columnNumber:5},this)}function Mi(s,r){if(!s)return[];try{const c=typeof s=="string"?JSON.parse(s):s;return Array.isArray(c)?c.map((l,i)=>({setNumber:l.setNumber??i+1,team1Score:l.team1Games??l.player1Games??l.player1??l.team1Points??l.player1Points??0,team2Score:l.team2Games??l.player2Games??l.player2??l.team2Points??l.player2Points??0,team1Tiebreak:l.team1Tiebreak??l.player1Tiebreak,team2Tiebreak:l.team2Tiebreak??l.player2Tiebreak,hasTiebreak:l.hasTiebreak??(l.team1Tiebreak!==void 0||l.player1Tiebreak!==void 0)})):c.sets&&Array.isArray(c.sets)?c.sets.map((l,i)=>({setNumber:i+1,team1Score:l.player1??l.team1??0,team2Score:l.player2??l.team2??0})):c.games&&Array.isArray(c.games)?c.games.map((l,i)=>({setNumber:i+1,team1Score:l.player1??l.team1??l.player1Points??l.team1Points??0,team2Score:l.player2??l.team2??l.player2Points??l.team2Points??0})):[]}catch{return[]}}function zi({setScores:s,sport:r}){const c=Mi(s);if(c.length===0)return null;const i=(r==null?void 0:r.toLowerCase())==="pickleball"?"Game":"Set";return e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-border/50",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:c.map(t=>e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mb-0.5",children:[i," ",t.setNumber]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1099,columnNumber:13},this),e.jsxDEV("div",{className:"font-mono text-sm font-semibold",children:[t.team1Score,"-",t.team2Score,t.hasTiebreak&&t.team1Tiebreak!==void 0&&t.team2Tiebreak!==void 0&&e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-0.5",children:["(",t.team1Tiebreak,"-",t.team2Tiebreak,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1105,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1102,columnNumber:13},this)]},t.setNumber,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1098,columnNumber:11},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1096,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1095,columnNumber:5},this)}function Ri({event:s,isLast:r}){return e.jsxDEV("div",{className:"relative flex gap-3",children:[!r&&e.jsxDEV("div",{className:"absolute left-3 top-6 w-px bg-border -translate-x-1/2",style:{height:"calc(100% - 6px)"}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1129,columnNumber:9},this),e.jsxDEV("div",{className:"relative z-10 flex-shrink-0",children:e.jsxDEV("div",{className:A("size-6 rounded-full flex items-center justify-center",s.iconColor),children:s.icon},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1137,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1136,columnNumber:7},this),e.jsxDEV("div",{className:A("flex-1 min-w-0",!r&&"pb-4"),children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("div",{className:"text-sm min-w-0",children:s.user?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"font-medium",children:s.user.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1151,columnNumber:17},this),e.jsxDEV("span",{className:"text-muted-foreground",children:[" ",s.title]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1150,columnNumber:15},this):e.jsxDEV("span",{className:"font-medium",children:s.title},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1155,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1148,columnNumber:11},this),e.jsxDEV("span",{className:"text-[11px] text-muted-foreground flex-shrink-0 whitespace-nowrap",children:Ci(s.timestamp)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1158,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1147,columnNumber:9},this),s.details&&e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.details},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1163,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1146,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:1126,columnNumber:5},this)}function Oi({match:s,open:r,onOpenChange:c,onSuccess:l}){const[i,t]=w.useState(""),[u,p]=w.useState(!0),f=Ss(),a=async()=>{if(!(!s||!i.trim()))try{await f.mutateAsync({matchId:s.id,reason:i.trim(),notifyParticipants:u}),M.success("Match voided successfully"),c(!1),t(""),l==null||l()}catch{M.error("Failed to void match")}},d=n=>{n||(t(""),p(!0)),c(n)};return s?e.jsxDEV(ae,{open:r,onOpenChange:d,children:e.jsxDEV(le,{className:"sm:max-w-md",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-destructive/10",children:e.jsxDEV(Se,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:72,columnNumber:13},this),e.jsxDEV(te,{children:"Void Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:71,columnNumber:11},this),e.jsxDEV(xe,{children:"This action will void the match and mark it as invalid. This cannot be undone."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"reason",children:"Reason for voiding *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:85,columnNumber:13},this),e.jsxDEV(Ce,{id:"reason",placeholder:"Enter the reason for voiding this match...",value:i,onChange:n=>t(n.target.value),className:"min-h-[100px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Fe,{id:"notify",checked:u,onCheckedChange:n=>p(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:96,columnNumber:13},this),e.jsxDEV(C,{htmlFor:"notify",className:"text-sm font-normal cursor-pointer",children:"Notify participants about this change"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>d(!1),disabled:f.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:113,columnNumber:11},this),e.jsxDEV(j,{variant:"destructive",onClick:a,disabled:f.isPending||!i.trim(),children:f.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:127,columnNumber:17},this),"Voiding..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:126,columnNumber:15},this):"Void Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:68,columnNumber:5},this):null}const Fi=[{value:"NO_SHOW",label:"No Show"},{value:"LATE_CANCELLATION",label:"Late Cancellation"},{value:"INJURY",label:"Injury"},{value:"PERSONAL_EMERGENCY",label:"Personal Emergency"},{value:"OTHER",label:"Other"}];function Wi({match:s,open:r,onOpenChange:c,onSuccess:l}){const[i,t]=w.useState(""),[u,p]=w.useState(""),[f,a]=w.useState(!0),d=Is(),n=()=>{if(!s)return[];if(s.matchType==="SINGLES")return s.participants.map(m=>{var x,v;return{id:m.userId,label:((x=m.user)==null?void 0:x.name)||((v=m.user)==null?void 0:v.username)||"Unknown"}});{const m=s.participants.filter(V=>V.team==="team1"),x=s.participants.filter(V=>V.team==="team2"),v=[];if(m.length>0){const V=m.map(T=>{var S,U;return((S=T.user)==null?void 0:S.name)||((U=T.user)==null?void 0:U.username)||"Unknown"}).join(" & ");v.push({id:m[0].userId,label:`Team 1: ${V}`})}if(x.length>0){const V=x.map(T=>{var S,U;return((S=T.user)==null?void 0:S.name)||((U=T.user)==null?void 0:U.username)||"Unknown"}).join(" & ");v.push({id:x[0].userId,label:`Team 2: ${V}`})}return v}},D=()=>{if(!s||!u)return"";const x=n().find(v=>v.id!==u);return(x==null?void 0:x.id)||""},g=async()=>{if(!s||!i||!u)return;const m=D();if(!m){M.error("Could not determine winning player");return}try{await d.mutateAsync({matchId:s.id,reason:i,defaultingPlayerId:u,winningPlayerId:m,notifyParticipants:f}),M.success("Match converted to walkover successfully"),c(!1),b(),l==null||l()}catch{M.error("Failed to convert match to walkover")}},b=()=>{t(""),p(""),a(!0)},y=m=>{m||b(),c(m)};if(!s)return null;const h=n();return e.jsxDEV(ae,{open:r,onOpenChange:y,children:e.jsxDEV(le,{className:"sm:max-w-md",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(se,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:147,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:146,columnNumber:13},this),e.jsxDEV(te,{children:"Convert to Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:145,columnNumber:11},this),e.jsxDEV(xe,{children:"A walkover awards the match to one player/team when the opponent cannot or does not participate."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:144,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"defaulting",children:"Defaulting Player/Team *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV(Ae,{value:u,onValueChange:p,children:[e.jsxDEV(je,{children:e.jsxDEV(Ve,{placeholder:"Select who defaulted"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(Ue,{children:h.map(m=>e.jsxDEV(X,{value:m.id,children:m.label},m.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:169,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"reason",children:"Reason *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:178,columnNumber:13},this),e.jsxDEV(Ae,{value:i,onValueChange:m=>t(m),children:[e.jsxDEV(je,{children:e.jsxDEV(Ve,{placeholder:"Select walkover reason"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:184,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:183,columnNumber:15},this),e.jsxDEV(Ue,{children:Fi.map(m=>e.jsxDEV(X,{value:m.value,children:m.label},m.value,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:188,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Fe,{id:"notify-walkover",checked:f,onCheckedChange:m=>a(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV(C,{htmlFor:"notify-walkover",className:"text-sm font-normal cursor-pointer",children:"Notify participants about this change"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:196,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:157,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>y(!1),disabled:d.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:214,columnNumber:11},this),e.jsxDEV(j,{onClick:g,disabled:d.isPending||!i||!u,children:d.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:229,columnNumber:17},this),"Converting..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:228,columnNumber:15},this):"Convert to Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:213,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:143,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:142,columnNumber:5},this)}function Gi({match:s,open:r,onOpenChange:c,onSuccess:l}){const[i,t]=w.useState(""),[u,p]=w.useState(""),[f,a]=w.useState(!0),[d,n]=w.useState(!0),D=Ts(),g=async()=>{if(!(!s||!i.trim()||!u.trim()))try{await D.mutateAsync({matchId:s.id,subject:i.trim(),message:u.trim(),sendEmail:f,sendPush:d}),M.success("Message sent to participants"),c(!1),b(),l==null||l()}catch{M.error("Failed to send message")}},b=()=>{t(""),p(""),a(!0),n(!0)},y=m=>{m||b(),c(m)};if(!s)return null;const h=s.participants.map(m=>{var x,v;return((x=m.user)==null?void 0:x.name)||((v=m.user)==null?void 0:v.username)||"Unknown"}).join(", ");return e.jsxDEV(ae,{open:r,onOpenChange:y,children:e.jsxDEV(le,{className:"sm:max-w-lg",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(Qe,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(te,{children:"Message Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:86,columnNumber:11},this),e.jsxDEV(xe,{children:"Send a message to all participants in this match."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:85,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxDEV(C,{className:"text-xs text-muted-foreground",children:"Recipients"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm mt-1",children:h},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:99,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"subject",children:"Subject *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(We,{id:"subject",placeholder:"Enter message subject...",value:i,onChange:m=>t(m.target.value)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"message",children:"Message *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:115,columnNumber:13},this),e.jsxDEV(Ce,{id:"message",placeholder:"Enter your message...",value:u,onChange:m=>p(m.target.value),className:"min-h-[120px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(C,{className:"text-sm font-medium",children:"Delivery Options"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:126,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Fe,{id:"send-email",checked:f,onCheckedChange:m=>a(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:129,columnNumber:17},this),e.jsxDEV(C,{htmlFor:"send-email",className:"text-sm font-normal cursor-pointer flex items-center gap-2",children:[e.jsxDEV(li,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:138,columnNumber:19},this),"Send via Email"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Fe,{id:"send-push",checked:d,onCheckedChange:m=>n(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:143,columnNumber:17},this),e.jsxDEV(C,{htmlFor:"send-push",className:"text-sm font-normal cursor-pointer flex items-center gap-2",children:[e.jsxDEV(ys,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:152,columnNumber:19},this),"Send Push Notification"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:97,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>y(!1),disabled:D.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:161,columnNumber:11},this),e.jsxDEV(j,{onClick:g,disabled:D.isPending||!i.trim()||!u.trim()||!f&&!d,children:D.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:179,columnNumber:17},this),"Sending..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:178,columnNumber:15},this):"Send Message"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:160,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:84,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:83,columnNumber:5},this)}function $i({match:s,open:r,onOpenChange:c,onSuccess:l}){const[i,t]=w.useState(0),[u,p]=w.useState(0),[f,a]=w.useState(""),d=Ps();w.useEffect(()=>{s&&r&&(t(s.team1Score??0),p(s.team2Score??0),a(""))},[s,r]);const n=async()=>{if(!(!s||!f.trim()))try{await d.mutateAsync({matchId:s.id,team1Score:i,team2Score:u,reason:f.trim()}),M.success("Match result updated successfully"),c(!1),l==null||l()}catch{M.error("Failed to update match result")}},D=b=>{b||a(""),c(b)};if(!s)return null;const g=b=>{var y,h;if(s.matchType==="SINGLES"){const m=s.participants.find(x=>x.team===b);return((y=m==null?void 0:m.user)==null?void 0:y.name)||((h=m==null?void 0:m.user)==null?void 0:h.username)||`Team ${b.slice(-1)}`}else{const m=s.participants.filter(x=>x.team===b).map(x=>{var v,V;return((v=x.user)==null?void 0:v.name)||((V=x.user)==null?void 0:V.username)||"Unknown"});return m.length>0?m.join(" & "):`Team ${b.slice(-1)}`}};return e.jsxDEV(ae,{open:r,onOpenChange:D,children:e.jsxDEV(le,{className:"sm:max-w-md",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(Ke,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:98,columnNumber:13},this),e.jsxDEV(te,{children:"Edit Match Result"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:97,columnNumber:11},this),e.jsxDEV(xe,{children:"Update the match score. A reason is required for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 items-center",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"team1",className:"text-xs text-center block",children:g("team1")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(We,{id:"team1",type:"number",min:"0",value:i,onChange:b=>t(parseInt(b.target.value)||0),className:"text-center text-2xl font-bold h-14"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:111,columnNumber:13},this),e.jsxDEV("div",{className:"text-center text-2xl font-bold text-muted-foreground",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"team2",className:"text-xs text-center block",children:g("team2")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(We,{id:"team2",type:"number",min:"0",value:u,onChange:b=>p(parseInt(b.target.value)||0),className:"text-center text-2xl font-bold h-14"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"reason",children:"Reason for edit *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:143,columnNumber:13},this),e.jsxDEV(Ce,{id:"reason",placeholder:"Enter the reason for editing this result...",value:f,onChange:b=>a(b.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This will be recorded in the match history for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:151,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:108,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>D(!1),disabled:d.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV(j,{onClick:n,disabled:d.isPending||!f.trim(),children:d.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:171,columnNumber:17},this),"Saving..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:170,columnNumber:15},this):"Save Changes"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:95,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:94,columnNumber:5},this)}function Bi({match:s,open:r,onOpenChange:c,onSuccess:l}){const[i,t]=w.useState([]),[u,p]=w.useState(""),[f,a]=w.useState(""),[d,n]=w.useState(!1),[D,g]=w.useState("team1"),[b,y]=w.useState([]),[h,m]=w.useState([]),x=_s(),v=Ms(),{data:V,isLoading:T}=zs((s==null?void 0:s.divisionId)??void 0,s==null?void 0:s.id,f);w.useEffect(()=>{s&&r&&(t(s.participants.map(N=>({id:N.id,userId:N.userId,team:N.team,role:N.role,user:N.user}))),p(""),y([]),m([]),n(!1))},[s,r]);const S=w.useMemo(()=>i.filter(N=>N.team==="team1"),[i]),U=w.useMemo(()=>i.filter(N=>N.team==="team2"),[i]),me=w.useMemo(()=>{if(!V)return[];const N=new Set(i.map(L=>L.userId));return V.filter(L=>!N.has(L.id))},[V,i]),re=N=>{const L={id:`new-${Date.now()}`,userId:N.id,team:D,role:D==="team1"?"PARTNER":"OPPONENT",user:N};t([...i,L]),n(!1),a("")},ce=N=>{t(i.filter(L=>L.userId!==N))},K=(N,L)=>{t(i.map(E=>E.userId===N?{...E,team:L}:E))},oe=(N,L)=>{t(i.map(E=>E.userId===N?{...E,role:L}:E))},Z=async()=>{if(!s)return;const N=i.map(L=>({userId:L.userId,team:L.team,role:L.role}));try{const L=await v.mutateAsync({matchId:s.id,participants:N});return y(L.errors),m(L.warnings),L.isValid}catch{return M.error("Failed to validate participants"),!1}},fe=async()=>{if(!s||!u.trim())return;if(!await Z()){M.error("Please fix validation errors before saving");return}const L=i.map(E=>({userId:E.userId,team:E.team,role:E.role}));try{await x.mutateAsync({matchId:s.id,participants:L,reason:u.trim()}),M.success("Match participants updated successfully"),c(!1),l==null||l()}catch{M.error("Failed to update match participants")}},Y=N=>{N||(p(""),y([]),m([]),n(!1)),c(N)};if(!s)return null;const k=s.status==="COMPLETED",ee=s.matchType==="SINGLES"?2:4;return e.jsxDEV(ae,{open:r,onOpenChange:Y,children:e.jsxDEV(le,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(De,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:236,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:235,columnNumber:13},this),e.jsxDEV(te,{children:"Edit Match Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:234,columnNumber:11},this),e.jsxDEV(xe,{children:k?"Warning: Editing participants for a completed match will trigger rating and standings recalculation.":"Update the participants for this match."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:233,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-6 py-4",children:[k&&e.jsxDEV(Re,{variant:"destructive",children:[e.jsxDEV(O,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV(Oe,{children:"This match is completed. Changes will recalculate ratings and standings for all affected players."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:250,columnNumber:13},this),b.length>0&&e.jsxDEV(Re,{variant:"destructive",children:[e.jsxDEV(O,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV(Oe,{children:e.jsxDEV("ul",{className:"list-disc pl-4 space-y-1",children:b.map((N,L)=>e.jsxDEV("li",{children:N},L,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:265,columnNumber:21},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:263,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:260,columnNumber:13},this),h.length>0&&e.jsxDEV(Re,{children:[e.jsxDEV(O,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:275,columnNumber:15},this),e.jsxDEV(Oe,{children:e.jsxDEV("ul",{className:"list-disc pl-4 space-y-1",children:h.map((N,L)=>e.jsxDEV("li",{children:N},L,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:279,columnNumber:21},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:277,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:274,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(C,{className:"text-sm font-medium",children:"Team 1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(I,{variant:"outline",children:[S.length," players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 min-h-[100px] p-3 border rounded-lg bg-muted/30",children:[S.map(N=>e.jsxDEV(ds,{participant:N,onRemove:()=>ce(N.userId),onChangeRole:L=>oe(N.userId,L),onChangeTeam:L=>K(N.userId,L)},N.userId,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:296,columnNumber:19},this)),S.length<(s.matchType==="SINGLES"?1:2)&&e.jsxDEV(j,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{g("team1"),n(!0)},children:[e.jsxDEV(Ye,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:314,columnNumber:21},this),"Add Player"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:289,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(C,{className:"text-sm font-medium",children:"Team 2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:324,columnNumber:17},this),e.jsxDEV(I,{variant:"outline",children:[U.length," players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:325,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:323,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 min-h-[100px] p-3 border rounded-lg bg-muted/30",children:[U.map(N=>e.jsxDEV(ds,{participant:N,onRemove:()=>ce(N.userId),onChangeRole:L=>oe(N.userId,L),onChangeTeam:L=>K(N.userId,L)},N.userId,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:329,columnNumber:19},this)),U.length<(s.matchType==="SINGLES"?1:2)&&e.jsxDEV(j,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{g("team2"),n(!0)},children:[e.jsxDEV(Ye,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:347,columnNumber:21},this),"Add Player"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:338,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:327,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:322,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:287,columnNumber:11},this),d&&e.jsxDEV("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(C,{children:["Select Player for ",D==="team1"?"Team 1":"Team 2"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:359,columnNumber:17},this),e.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>n(!1),children:e.jsxDEV(ke,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:365,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:360,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:358,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:369,columnNumber:17},this),e.jsxDEV(We,{placeholder:"Search players...",value:f,onChange:N=>a(N.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:370,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:368,columnNumber:15},this),e.jsxDEV("div",{className:"max-h-48 overflow-y-auto space-y-1",children:T?e.jsxDEV("div",{className:"flex items-center justify-center py-4",children:e.jsxDEV(J,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:380,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:379,columnNumber:19},this):me.length===0?e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No available players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:383,columnNumber:19},this):me.map(N=>{var L,E;return e.jsxDEV("button",{className:"w-full flex items-center gap-3 p-2 rounded-md hover:bg-muted transition-colors",onClick:()=>re(N),children:[e.jsxDEV(P,{className:"h-8 w-8",children:[e.jsxDEV(R,{src:N.image??void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:394,columnNumber:25},this),e.jsxDEV(_,{children:((L=N.name)==null?void 0:L.charAt(0))||((E=N.username)==null?void 0:E.charAt(0))||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:395,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:393,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 text-left",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:N.name||N.username},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:400,columnNumber:25},this),N.rating&&e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Rating: ",N.rating]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:402,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:399,columnNumber:23},this)]},N.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:388,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:377,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:357,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[i.length," of ",ee," participants assigned"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:415,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"reason",children:"Reason for edit *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:421,columnNumber:13},this),e.jsxDEV(Ce,{id:"reason",placeholder:"Enter the reason for editing participants...",value:u,onChange:N=>p(N.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:422,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This will be recorded in the match history for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:420,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:247,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>Z(),disabled:v.isPending,children:[v.isPending?e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:442,columnNumber:15},this):null,"Validate"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:436,columnNumber:11},this),e.jsxDEV(j,{variant:"outline",onClick:()=>Y(!1),disabled:x.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:446,columnNumber:11},this),e.jsxDEV(j,{onClick:fe,disabled:x.isPending||!u.trim(),children:x.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:459,columnNumber:17},this),"Saving..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:458,columnNumber:15},this):"Save Changes"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:453,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:435,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:232,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:231,columnNumber:5},this)}function ds({participant:s,onRemove:r,onChangeRole:c,onChangeTeam:l}){var i,t,u,p,f,a,d;return e.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-background rounded-md border",children:[e.jsxDEV(P,{className:"h-8 w-8",children:[e.jsxDEV(R,{src:((i=s.user)==null?void 0:i.image)??void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:487,columnNumber:9},this),e.jsxDEV(_,{children:((u=(t=s.user)==null?void 0:t.name)==null?void 0:u.charAt(0))||((f=(p=s.user)==null?void 0:p.username)==null?void 0:f.charAt(0))||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:488,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:486,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-medium truncate",children:((a=s.user)==null?void 0:a.name)||((d=s.user)==null?void 0:d.username)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:495,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:e.jsxDEV(Ae,{value:s.role,onValueChange:n=>c(n),children:[e.jsxDEV(je,{className:"h-6 text-xs w-24",children:e.jsxDEV(Ve,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:504,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:503,columnNumber:13},this),e.jsxDEV(Ue,{children:[e.jsxDEV(X,{value:"CREATOR",children:"Creator"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:507,columnNumber:15},this),e.jsxDEV(X,{value:"OPPONENT",children:"Opponent"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:508,columnNumber:15},this),e.jsxDEV(X,{value:"PARTNER",children:"Partner"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:509,columnNumber:15},this),e.jsxDEV(X,{value:"INVITED",children:"Invited"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:510,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:506,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:499,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:494,columnNumber:7},this),e.jsxDEV(j,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:r,children:e.jsxDEV(ke,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:521,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:515,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:485,columnNumber:5},this)}const Hi=[{value:"WARNING",label:"Warning (No points deduction)"},{value:"POINTS_DEDUCTION",label:"Points Deduction"},{value:"SUSPENSION",label:"Suspension"}];function qi({match:s,open:r,onOpenChange:c,onSuccess:l}){var h,m;const[i,t]=w.useState(!1),[u,p]=w.useState(!1),[f,a]=w.useState("WARNING"),[d,n]=w.useState(""),D=Rs(),g=async()=>{if(s)try{await D.mutateAsync({matchId:s.id,approved:i,applyPenalty:!i&&u,penaltySeverity:!i&&u?f:void 0,reason:d.trim()||void 0}),M.success(i?"Late cancellation approved":u?"Cancellation denied - penalty applied":"Late cancellation denied"),b(!1),l==null||l()}catch{M.error("Failed to review cancellation")}},b=x=>{x||(t(!1),p(!1),a("WARNING"),n("")),c(x)};if(!s)return null;const y=s.participants.find(x=>x.userId===s.cancelledById);return e.jsxDEV(ae,{open:r,onOpenChange:b,children:e.jsxDEV(le,{className:"sm:max-w-lg",children:[e.jsxDEV(ne,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-100",children:e.jsxDEV(be,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:110,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:109,columnNumber:13},this),e.jsxDEV(te,{children:"Review Late Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:108,columnNumber:11},this),e.jsxDEV(xe,{children:"Review this late cancellation and decide whether to approve it or apply a penalty."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:107,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"rounded-lg border p-4 space-y-2 bg-muted/30",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Match Date:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:123,columnNumber:15},this),e.jsxDEV("span",{className:"font-medium",children:Me(s.matchDate)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:122,columnNumber:13},this),y&&e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Cancelled By:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:128,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:((h=y.user)==null?void 0:h.name)||((m=y.user)==null?void 0:m.username)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:127,columnNumber:15},this),s.cancellationReason&&e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Reason:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:136,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium capitalize",children:s.cancellationReason.toLowerCase().replace(/_/g," ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:135,columnNumber:15},this),s.cancellationComment&&e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Comment:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 text-sm",children:s.cancellationComment},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(C,{className:"text-sm font-medium",children:"Decision"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV(j,{type:"button",variant:i?"default":"outline",className:i?"bg-green-600 hover:bg-green-700":"",onClick:()=>{t(!0),p(!1)},children:[e.jsxDEV(Ns,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:163,columnNumber:17},this),"Approve"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(j,{type:"button",variant:i?"outline":"destructive",onClick:()=>t(!1),children:[e.jsxDEV(ke,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:171,columnNumber:17},this),"Deny"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:151,columnNumber:11},this),!i&&e.jsxDEV("div",{className:"space-y-4 pt-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(C,{htmlFor:"apply-penalty",className:"text-sm font-medium",children:"Apply Penalty"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:182,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Issue a penalty to the cancelling player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:185,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:181,columnNumber:17},this),e.jsxDEV(Ls,{id:"apply-penalty",checked:u,onCheckedChange:p},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:180,columnNumber:15},this),u&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"severity",children:"Penalty Severity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:198,columnNumber:19},this),e.jsxDEV(Ae,{value:f,onValueChange:a,children:[e.jsxDEV(je,{children:e.jsxDEV(Ve,{placeholder:"Select severity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:201,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:200,columnNumber:21},this),e.jsxDEV(Ue,{children:Hi.map(x=>e.jsxDEV(X,{value:x.value,children:x.label},x.value,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:205,columnNumber:25},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:203,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:199,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:197,columnNumber:17},this),u&&e.jsxDEV(Re,{children:[e.jsxDEV(O,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:216,columnNumber:19},this),e.jsxDEV(Oe,{children:"A penalty notification will be sent to the player and this action will be logged."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:179,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"reason",children:"Admin Notes (Optional)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:227,columnNumber:13},this),e.jsxDEV(Ce,{id:"reason",placeholder:"Add any notes about this decision...",value:d,onChange:x=>n(x.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:226,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV(pe,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(j,{variant:"outline",onClick:()=>b(!1),disabled:D.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:239,columnNumber:11},this),e.jsxDEV(j,{onClick:g,disabled:D.isPending,variant:i?"default":"destructive",children:D.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:253,columnNumber:17},this),"Processing..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:252,columnNumber:15},this):i?"Approve Cancellation":u?"Deny & Apply Penalty":"Deny Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:238,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:106,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:105,columnNumber:5},this)}const $=s=>{var r,c;return((r=s.user)==null?void 0:r.name)||((c=s.user)==null?void 0:c.username)||"Unknown"},he=s=>{const r=$(s);return ie(r)},Xi=s=>({PENDING:"Pending",ACCEPTED:"Accepted",DECLINED:"Declined",EXPIRED:"Expired",CANCELLED:"Cancelled"})[s]||s;function Yi({participants:s,matchType:r,maxDisplay:c=4,showTeams:l=!1,showInvitationStatus:i=!1,variant:t="inline"}){if(!s||s.length===0)return e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"No participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:49,columnNumber:12},this);const u=s.slice(0,c),p=Math.max(0,s.length-c),f=n=>{if(!i)return null;const D=n.filter(y=>y.invitationStatus==="PENDING").length,g=n.filter(y=>y.invitationStatus==="DECLINED").length,b=n.filter(y=>y.invitationStatus==="EXPIRED").length;return g>0?e.jsxDEV(I,{variant:"outline",className:A("text-[10px] px-1.5 py-0 ml-1",H("INVITATION","DECLINED")),children:"Declined"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:64,columnNumber:9},this):b>0?e.jsxDEV(I,{variant:"outline",className:A("text-[10px] px-1.5 py-0 ml-1",H("INVITATION","EXPIRED")),children:"Expired"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:71,columnNumber:9},this):D>0?e.jsxDEV(I,{variant:"outline",className:A("text-[10px] px-1.5 py-0 ml-1",H("INVITATION","PENDING")),children:"Pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:78,columnNumber:9},this):null};if(t==="stacked"){if(r==="SINGLES")return e.jsxDEV("div",{className:"flex flex-col gap-1",children:u.map(g=>{var b;return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(P,{className:"size-6",children:[e.jsxDEV(R,{src:((b=g.user)==null?void 0:b.image)||void 0,alt:$(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:94,columnNumber:17},this),e.jsxDEV(_,{className:"text-[10px]",children:he(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:93,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[140px]",children:$(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:102,columnNumber:15},this)]},g.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:92,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:90,columnNumber:9},this);const n=s.filter(g=>g.team==="team1"),D=s.filter(g=>g.team==="team2");return e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("div",{className:"flex -space-x-1.5",children:n.slice(0,2).map(g=>{var b;return e.jsxDEV(P,{className:"size-6 ring-2 ring-background",children:[e.jsxDEV(R,{src:((b=g.user)==null?void 0:b.image)||void 0,alt:$(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:123,columnNumber:17},this),e.jsxDEV(_,{className:"text-[10px]",children:he(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:127,columnNumber:17},this)]},g.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:119,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:117,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:n.map(g=>$(g).split(" ")[0]).join(" & ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground pl-1",children:"vs"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:138,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("div",{className:"flex -space-x-1.5",children:D.slice(0,2).map(g=>{var b;return e.jsxDEV(P,{className:"size-6 ring-2 ring-background",children:[e.jsxDEV(R,{src:((b=g.user)==null?void 0:b.image)||void 0,alt:$(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV(_,{className:"text-[10px]",children:he(g)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:151,columnNumber:17},this)]},g.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:143,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:141,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:D.map(g=>$(g).split(" ")[0]).join(" & ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:114,columnNumber:7},this)}if(r==="SINGLES")return e.jsxDEV("div",{className:"flex items-center gap-2",children:[u.map(n=>{var D;return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(P,{className:"size-6",children:[e.jsxDEV(R,{src:((D=n.user)==null?void 0:D.image)||void 0,alt:$(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:172,columnNumber:15},this),e.jsxDEV(_,{className:"text-xs",children:he(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium",children:$(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:180,columnNumber:13},this),i&&n.invitationStatus&&e.jsxDEV(I,{variant:"outline",className:A("text-[10px] px-1.5 py-0",H("INVITATION",n.invitationStatus)),children:Xi(n.invitationStatus)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:182,columnNumber:15},this)]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:170,columnNumber:11},this)}),p>0&&e.jsxDEV(I,{variant:"secondary",className:"text-xs",children:["+",p," more"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:168,columnNumber:7},this);const a=s.filter(n=>n.team==="team1"),d=s.filter(n=>n.team==="team2");return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[a.slice(0,2).map(n=>{var D;return e.jsxDEV(P,{className:"size-6 -ml-1 first:ml-0 ring-2 ring-background",children:[e.jsxDEV(R,{src:((D=n.user)==null?void 0:D.image)||void 0,alt:$(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV(_,{className:"text-[10px]",children:he(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:217,columnNumber:13},this)]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:209,columnNumber:11},this)}),l&&e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:"(Team 1)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:223,columnNumber:11},this),f(a)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:207,columnNumber:7},this),e.jsxDEV("span",{className:"text-muted-foreground",children:"vs"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:228,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[d.slice(0,2).map(n=>{var D;return e.jsxDEV(P,{className:"size-6 -ml-1 first:ml-0 ring-2 ring-background",children:[e.jsxDEV(R,{src:((D=n.user)==null?void 0:D.image)||void 0,alt:$(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:237,columnNumber:13},this),e.jsxDEV(_,{className:"text-[10px]",children:he(n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:241,columnNumber:13},this)]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:233,columnNumber:11},this)}),l&&e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:"(Team 2)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:247,columnNumber:11},this),f(d)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:231,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:205,columnNumber:5},this)}const Qi=s=>{switch(s==null?void 0:s.toLowerCase()){case"tennis":return"text-[#518516] bg-[#518516]/10 border border-[#518516]/30 dark:bg-[#518516]/20 dark:text-[#7cb82f] dark:border-[#518516]/40";case"badminton":return"text-rose-700 bg-rose-100 border border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800";case"pickleball":return"text-[#8e41e6] bg-[#8e41e6]/10 border border-[#8e41e6]/30 dark:bg-[#8e41e6]/20 dark:text-[#b57aff] dark:border-[#8e41e6]/40";case"padel":return"text-[#3880c0] bg-[#3880c0]/10 border border-[#3880c0]/30 dark:bg-[#3880c0]/20 dark:text-[#6ba8e0] dark:border-[#3880c0]/40";default:return"text-slate-600 bg-slate-100 border border-slate-200 dark:bg-slate-900/30 dark:text-slate-400 dark:border-slate-700"}},Ji=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"Unknown";function _a(){const[s,r]=w.useState("league"),[c,l]=w.useState(),[i,t]=w.useState(),[u,p]=w.useState(),[f,a]=w.useState(),[d,n]=w.useState(),[D,g]=w.useState(""),[b,y]=w.useState(),[h,m]=w.useState(1),[x,v]=w.useState(null),[V,T]=w.useState(!1),[S,U]=w.useState(!1),[me,re]=w.useState(!1),[ce,K]=w.useState(!1),[oe,Z]=w.useState(!1),[fe,Y]=w.useState(!1),[k,ee]=w.useState(!1),N=20,L=w.useMemo(()=>({isDisputed:b==="disputed"||void 0,hasLateCancellation:b==="lateCancellation"||void 0,isWalkover:b==="walkover"||void 0,requiresAdminReview:b==="requiresReview"||void 0}),[b]),{data:E,isLoading:gs,error:xs,refetch:es}=qe({leagueId:s==="league"?c:void 0,seasonId:s==="league"?i:void 0,divisionId:s==="league"?u:void 0,matchContext:s,status:f,search:D||void 0,...L,page:h,limit:N}),{data:de}=qe({matchContext:"league",page:1,limit:1}),{data:ue}=qe({matchContext:"friendly",page:1,limit:1}),ss=w.useMemo(()=>{if(!(E!=null&&E.matches))return[];let o=E.matches;return s==="friendly"&&d&&(o=o.filter(B=>{var z;return((z=B.sport)==null?void 0:z.toUpperCase())===d})),o},[E==null?void 0:E.matches,s,d]),we=w.useMemo(()=>({league:(de==null?void 0:de.total)??0,friendly:(ue==null?void 0:ue.total)??0}),[de==null?void 0:de.total,ue==null?void 0:ue.total]),is=o=>{r(o),m(1),o==="friendly"?(l(void 0),t(void 0),p(void 0)):n(void 0)},as=o=>{v(o),T(!0)},ls=o=>{v(o),U(!0)},ns=o=>{v(o),re(!0)},ts=o=>{v(o),K(!0)},ps=o=>{v(o),Z(!0)},ms=o=>{v(o),Y(!0)},bs=o=>{v(o),ee(!0)},Ne=()=>{es()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Es,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:177,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(As,{icon:Ee,title:"Matches Dashboard",description:"Manage and oversee all matches across the season",actions:e.jsxDEV(j,{variant:"outline",size:"sm",children:[e.jsxDEV(oi,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:181,columnNumber:17},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:180,columnNumber:139},this),children:[e.jsxDEV(vi,{leagueId:c,seasonId:i,divisionId:u,leagueMatchCount:we.league,friendlyMatchCount:we.friendly},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:184,columnNumber:13},this),e.jsxDEV(ri,{children:e.jsxDEV("div",{className:"flex items-center gap-3 w-full",children:[e.jsxDEV("div",{className:"inline-flex items-center rounded-md bg-muted/60 p-0.5 border border-border/50",children:[e.jsxDEV("button",{onClick:()=>is("league"),className:A("inline-flex items-center justify-center rounded px-3 py-1.5 text-xs font-medium transition-all cursor-pointer gap-1.5",s==="league"?"bg-background text-foreground shadow-sm border border-border/50":"text-foreground/70 hover:text-foreground"),children:[e.jsxDEV(Ee,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:192,columnNumber:21},this),"League",e.jsxDEV("span",{className:A("text-[10px] font-medium tabular-nums",s==="league"?"text-foreground/70":"text-foreground/50"),children:we.league},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:194,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:191,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>is("friendly"),className:A("inline-flex items-center justify-center rounded px-3 py-1.5 text-xs font-medium transition-all cursor-pointer gap-1.5",s==="friendly"?"bg-background text-foreground shadow-sm border border-border/50":"text-foreground/70 hover:text-foreground"),children:[e.jsxDEV(Ze,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:199,columnNumber:21},this),"Friendly",we.friendly>0&&e.jsxDEV("span",{className:A("inline-flex items-center justify-center h-4 min-w-4 px-1 text-[10px] font-semibold rounded-full tabular-nums",s==="friendly"?"bg-pink-500/15 text-pink-600 dark:text-pink-400":"bg-pink-500/10 text-pink-600/70 dark:text-pink-400/70"),children:we.friendly},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:201,columnNumber:48},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:198,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:190,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(ji,{activeTab:s,selectedLeague:c,selectedSeason:i,selectedDivision:u,selectedStatus:f,selectedSport:d,searchQuery:D,selectedFlag:b,onLeagueChange:o=>{l(o),m(1)},onSeasonChange:o=>{t(o),m(1)},onDivisionChange:o=>{p(o),m(1)},onStatusChange:o=>{a(o),m(1)},onSportChange:o=>{n(o),m(1)},onSearchChange:o=>{g(o),m(1)},onFlagChange:o=>{y(o),m(1)}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:209,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:188,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:180,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:[gs?e.jsxDEV("div",{className:"space-y-4",children:[...Array(5)].map((o,B)=>e.jsxDEV(Q,{className:"h-12 w-full"},B,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:238,columnNumber:46},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:237,columnNumber:26},this):xs?e.jsxDEV("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxDEV(O,{className:"size-12 text-destructive mb-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:240,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Matches"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:241,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4 max-w-md",children:"There was an error loading the matches data. Please try again."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:242,columnNumber:17},this),e.jsxDEV(j,{variant:"outline",onClick:()=>es(),className:"gap-2",children:[e.jsxDEV(hs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:246,columnNumber:19},this),"Retry"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:239,columnNumber:32},this):ss.length>0?e.jsxDEV(js,{children:e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(ni,{children:[e.jsxDEV(ti,{children:e.jsxDEV(mi,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(W,{className:"w-[40px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:254,columnNumber:25},this),e.jsxDEV(W,{className:"w-[95px] py-2.5 font-medium text-xs",children:"Sport"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:255,columnNumber:25},this),e.jsxDEV(W,{className:"w-[85px] py-2.5 font-medium text-xs",children:"Type"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:256,columnNumber:25},this),e.jsxDEV(W,{className:"w-[180px] py-2.5 font-medium text-xs",children:"Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:257,columnNumber:25},this),e.jsxDEV(W,{className:"w-[240px] py-2.5 font-medium text-xs",children:"League / Season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:258,columnNumber:25},this),e.jsxDEV(W,{className:"w-[85px] py-2.5 font-medium text-xs",children:"Date"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:259,columnNumber:25},this),e.jsxDEV(W,{className:"w-[110px] py-2.5 font-medium text-xs",children:"Venue"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:260,columnNumber:25},this),e.jsxDEV(W,{className:"w-[70px] py-2.5 font-medium text-xs text-center",children:"Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:261,columnNumber:25},this),e.jsxDEV(W,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:262,columnNumber:25},this),e.jsxDEV(W,{className:"w-[80px] py-2.5 font-medium text-xs",children:"Score"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:263,columnNumber:25},this),e.jsxDEV(W,{className:"w-[50px] py-2.5 pr-4 font-medium text-xs",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:264,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:253,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:252,columnNumber:21},this),e.jsxDEV(Ge.tbody,{initial:"hidden",animate:"visible",variants:Gs,children:ss.map((o,B)=>e.jsxDEV(Ge.tr,{variants:Bs,transition:$s,className:"border-b transition-colors hover:bg-muted/30 data-[state=selected]:bg-muted cursor-pointer",onClick:()=>as(o),children:[e.jsxDEV(G,{className:"py-3 pl-4 text-sm text-muted-foreground",children:(h-1)*N+B+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:269,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:e.jsxDEV("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Qi(o.sport)}`,children:Ji(o.sport)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:274,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:273,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.matchType==="DOUBLES"?e.jsxDEV(De,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:281,columnNumber:64},this):e.jsxDEV(us,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:281,columnNumber:99},this),e.jsxDEV("span",{children:o.matchType==="DOUBLES"?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:282,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:280,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:279,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:e.jsxDEV(Yi,{participants:o.participants,matchType:o.matchType,maxDisplay:4,variant:"stacked"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:289,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:288,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",onClick:z=>z.stopPropagation(),children:!o.division&&!o.leagueId?e.jsxDEV(I,{variant:"outline",className:"bg-pink-50 text-pink-600 border-pink-200 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-800",children:"Friendly"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:293,columnNumber:67},this):o.division?e.jsxDEV("div",{className:"space-y-0.5",children:[o.division.league&&e.jsxDEV(cs,{to:"/league/view/$leagueId",params:{leagueId:o.division.league.id},className:"text-sm font-medium hover:text-primary transition-colors block",children:o.division.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:296,columnNumber:59},this),o.division.season&&e.jsxDEV("span",{className:"text-xs text-muted-foreground block",children:o.division.season.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:301,columnNumber:59},this),e.jsxDEV(cs,{to:"/divisions/$divisionId",params:{divisionId:o.division.id},className:"text-xs text-muted-foreground/70 hover:text-primary transition-colors block",children:o.division.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:304,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:295,columnNumber:59},this):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:309,columnNumber:40},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:292,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:new Date(o.matchDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:313,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:new Date(o.matchDate).getFullYear()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:319,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:312,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:e.jsxDEV("span",{className:"text-sm truncate block max-w-[100px]",children:o.venue||o.location||"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:325,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:324,columnNumber:27},this),e.jsxDEV(G,{className:"py-3 text-center",children:o.isDisputed||o.isWalkover||o.requiresAdminReview||o.isLateCancellation?e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[o.isDisputed&&e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV(O,{className:"size-4 text-yellow-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:334,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:333,columnNumber:37},this),e.jsxDEV(Pe,{children:e.jsxDEV("p",{children:"Disputed"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:336,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:336,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:332,columnNumber:54},this),o.isWalkover&&e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV(se,{className:"size-4 text-orange-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:340,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:339,columnNumber:37},this),e.jsxDEV(Pe,{children:e.jsxDEV("p",{children:"Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:342,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:342,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:338,columnNumber:54},this),o.requiresAdminReview&&e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV(Je,{className:"size-4 text-blue-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:346,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:345,columnNumber:37},this),e.jsxDEV(Pe,{children:e.jsxDEV("p",{children:"Requires Admin Review"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:348,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:348,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:344,columnNumber:63},this),o.isLateCancellation&&e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV(be,{className:"size-4 text-orange-600"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:352,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:351,columnNumber:37},this),e.jsxDEV(Pe,{children:e.jsxDEV("p",{children:"Late Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:354,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:354,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:350,columnNumber:62},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:331,columnNumber:126},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:356,columnNumber:40},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:330,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:e.jsxDEV(Ds,{status:o.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:360,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:359,columnNumber:27},this),e.jsxDEV(G,{className:"py-3",children:o.status==="COMPLETED"&&o.team1Score!==null&&o.team2Score!==null?e.jsxDEV("span",{className:"font-mono text-sm font-medium",children:[o.team1Score," - ",o.team2Score]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:364,columnNumber:119},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:366,columnNumber:41},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:363,columnNumber:27},this),e.jsxDEV(G,{className:"py-3 pr-4",onClick:z=>z.stopPropagation(),children:e.jsxDEV(Vi,{match:o,onView:as,onEdit:ls,onEditParticipants:ns,onVoid:ts,onConvertToWalkover:ps,onMessage:ms,onReviewCancellation:bs},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:370,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:369,columnNumber:27},this)]},o.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:268,columnNumber:62},this))},`${s}-${f}-${d}-${b||""}-${c}-${i}-${u}-${D}`,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:251,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:250,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:249,columnNumber:53},this):e.jsxDEV(ci,{children:e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:s==="friendly"?"No friendly matches found":"No league matches found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:377,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:376,columnNumber:36},this),E&&E.totalPages>1&&e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",(h-1)*N+1," to"," ",Math.min(h*N,E.total)," of ",E.total," matches"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:383,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>m(o=>Math.max(1,o-1)),disabled:h===1,children:[e.jsxDEV(di,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:389,columnNumber:21},this),"Previous"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:388,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,E.totalPages)},(o,B)=>{let z;return E.totalPages<=5||h<=3?z=B+1:h>=E.totalPages-2?z=E.totalPages-4+B:z=h-2+B,e.jsxDEV(j,{variant:h===z?"default":"outline",size:"sm",className:"w-8 h-8 p-0",onClick:()=>m(z),children:z},z,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:406,columnNumber:26},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:392,columnNumber:19},this),e.jsxDEV(j,{variant:"outline",size:"sm",onClick:()=>m(o=>Math.min(E.totalPages,o+1)),disabled:h===E.totalPages,children:["Next",e.jsxDEV(ze,{className:"size-4 ml-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:413,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:411,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:387,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:382,columnNumber:45},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:236,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:179,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:178,columnNumber:7},this),e.jsxDEV(Ti,{match:x,open:V,onOpenChange:T,onEdit:ls,onVoid:ts,onMessage:ms,onEditParticipants:ns},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:421,columnNumber:7},this),e.jsxDEV($i,{match:x,open:S,onOpenChange:U,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:423,columnNumber:7},this),e.jsxDEV(Oi,{match:x,open:ce,onOpenChange:K,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:425,columnNumber:7},this),e.jsxDEV(Wi,{match:x,open:oe,onOpenChange:Z,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:427,columnNumber:7},this),e.jsxDEV(Gi,{match:x,open:fe,onOpenChange:Y,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:429,columnNumber:7},this),e.jsxDEV(Bi,{match:x,open:me,onOpenChange:re,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:431,columnNumber:7},this),e.jsxDEV(qi,{match:x,open:k,onOpenChange:ee,onSuccess:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:433,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:176,columnNumber:10},this)}export{_a as component};
