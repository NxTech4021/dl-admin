import{u as Ne,r as o,k as C,l as A,t as f,at as Y,j as e,B as L,I as De,aj as ge,ak as xe,al as ve,am as fe,an as K,ar as pe,m as he,ac as we,J as Q,iJ as Le,d as P,a4 as ye,ag as Ae,aa as Ee}from"./index-CFkz3MWb.js";import{t as je,f as Ve,a as Ue}from"./animation-variants-Don9j8OV.js";import{d as W}from"./division-schema-Cl8X_uGw.js";import{D as Ce}from"./division-create-modal-Cjjj0H0h.js";import{A as Se,a as ke,b as Te,c as Ie,d as Me,e as Re,f as ze,g as Oe}from"./alert-dialog-8Wkkzofd.js";import{T as Pe,a as Fe,b as Be,c as D,d as g}from"./table-BD0fGkWp.js";import{t as _e,T as $e,p as Ge,q as He}from"./use-notifications-CRjgkp5L.js";import{S as qe}from"./skeleton-BAYs53CJ.js";import{D as Je,a as Ye}from"./division-detail-modal-Diwduasp.js";import{A as S}from"./constants-DiLdiRGg.js";import{I as Ke}from"./IconAlertTriangle-Bq5xzP9J.js";import{I as Qe}from"./IconDownload-D6oadcVM.js";import{I as We,m as X}from"./site-header-BBYgEW2-.js";import{I as Xe}from"./IconChevronLeft-Ba9MGRJR.js";import{I as Ze}from"./IconChevronRight-VlgbLc3M.js";import"./IconPencil-D1_HT1iZ.js";import"./IconChartBar-DX5kutM1.js";import"./dropdown-menu-CvEA8VEj.js";import"./index-DrL3ftLH.js";import"./IconDotsVertical-mYhyDJAc.js";import"./IconEye-Bzz-Ssea.js";import"./IconEdit-_Z4tGi8r.js";import"./IconCopy-CbKSS4wH.js";import"./IconHash-Cqjt7y1U.js";import"./IconCrown-DeJ-DMYt.js";const ea=b=>{switch(b==null?void 0:b.toLowerCase()){case"beginner":return"text-sky-700 bg-sky-50 border-sky-200 dark:bg-sky-950/40 dark:text-sky-400 dark:border-sky-800";case"intermediate":case"upper_intermediate":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";case"advanced":return"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},aa=(b,N)=>{if(!N||N===0)return{percentage:0,colorClass:"bg-slate-400",textColor:"text-slate-600",label:b.toString()};const m=Math.min(b/N*100,100);return m>=100?{percentage:100,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Full"}:m>=90?{percentage:m,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Almost full"}:m>=70?{percentage:m,colorClass:"bg-amber-500",textColor:"text-amber-600 dark:text-amber-400",label:"Filling"}:{percentage:m,colorClass:"bg-emerald-500",textColor:"text-emerald-600 dark:text-emerald-400",label:""}};function ja(){const b=Ne(),[N,m]=o.useState([]),[Z,E]=o.useState(!0),[F,p]=o.useState(null),[j,ee]=o.useState(""),[ae,se]=o.useState([]),[V,ie]=o.useState("all"),[u,y]=o.useState(1),h=20,[te,B]=o.useState(null),[le,_]=o.useState(!1),[r,k]=o.useState(null),[ne,T]=o.useState(!1),[w,I]=o.useState(null),[oe,M]=o.useState(!1),[R,$]=o.useState(!1),x=o.useCallback(async()=>{var a,l,s,d;E(!0),p(null);try{const t=await C.get(A.division.getAll);if(!t.data){m([]),p("No data received from server"),f.error("No data received from server");return}let i=t.data;if(t.data.data&&Array.isArray(t.data.data))i=t.data.data;else if(t.data.divisions&&Array.isArray(t.data.divisions))i=t.data.divisions;else if(Array.isArray(t.data))i=t.data;else{m([]),p("Invalid data format from server"),f.error("Invalid data format from server");return}try{const n=Y(W).parse(i);m(n)}catch{m(i)}}catch(t){const i=((l=(a=t.response)==null?void 0:a.data)==null?void 0:l.message)||((d=(s=t.response)==null?void 0:s.data)==null?void 0:d.error)||t.message||S.ERROR.LOAD_FAILED;m([]),p(i),f.error(i)}finally{E(!1)}},[]),G=o.useCallback(async()=>{var a;try{const l=await C.get(A.season.getAll),s=((a=l.data)==null?void 0:a.data)||l.data||[];se(Array.isArray(s)?s:[])}catch(l){console.error("Failed to fetch seasons:",l)}},[]),z=o.useCallback(async a=>{var l,s,d,t;E(!0),p(null);try{const i=a==="all"?A.division.getAll:A.division.getBySeasonId(a),n=await C.get(i);let c=((l=n.data)==null?void 0:l.data)||((s=n.data)==null?void 0:s.divisions)||n.data||[];Array.isArray(c)||(c=[]);try{const O=Y(W).parse(c);m(O)}catch{m(c)}}catch(i){p(((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.message)||i.message||"Failed to load divisions"),m([])}finally{E(!1)}},[]),de=o.useCallback(()=>{if(N.length===0){f.error("No data to export");return}const a=["Name","Season","Level","Game Type","Gender","Max Singles","Max Doubles Teams","Current Singles","Current Doubles","Threshold","Prize Pool","Sponsor","Status","Auto Assignment","Created At","Updated At"],l=N.map(n=>{var c;return[n.name,((c=n.season)==null?void 0:c.name)||"",n.divisionLevel||"",n.gameType||"",n.genderCategory||"",n.maxSingles||"",n.maxDoublesTeams||"",n.currentSinglesCount||0,n.currentDoublesCount||0,n.threshold||"",n.prizePoolTotal||"",n.sponsoredDivisionName||"",n.isActive?"Active":"Inactive",n.autoAssignmentEnabled?"Yes":"No",n.createdAt,n.updatedAt]}),s=[a.join(","),...l.map(n=>n.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(","))].join(`
`),d=new Blob([s],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(d),i=document.createElement("a");i.href=t,i.download=`divisions-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t),f.success("Divisions exported successfully")},[N]);o.useEffect(()=>{x(),G()},[x,G]),o.useEffect(()=>{z(V)},[V,z]);const re=o.useCallback(a=>{B(a),_(!0)},[]),H=o.useCallback(a=>{k(a),T(!0)},[]),me=o.useCallback(a=>{I(a),M(!0)},[]),ce=o.useCallback(async()=>{var a,l,s,d,t;if(w)try{$(!0);const i=await C.delete(A.division.delete(w.id));f.success(((a=i.data)==null?void 0:a.message)??S.SUCCESS.DELETE),await x(),I(null),M(!1)}catch(i){const n=((s=(l=i.response)==null?void 0:l.data)==null?void 0:s.message)||((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.error)||i.message||S.ERROR.DELETE_FAILED;f.error(n)}finally{$(!1)}},[w,x]),ue=o.useCallback(async()=>{await x(),k(null),T(!1)},[x]),q=o.useCallback(a=>{b({to:`/divisions/${a.id}?tab=players`})},[b]),be=o.useMemo(()=>r?{id:r.id,seasonId:r.seasonId,name:r.name,description:r.description??null,threshold:r.threshold??null,divisionLevel:r.divisionLevel,gameType:r.gameType,genderCategory:r.genderCategory??null,maxSingles:r.maxSingles??null,maxDoublesTeams:r.maxDoublesTeams??null,autoAssignmentEnabled:r.autoAssignmentEnabled??!1,isActive:r.isActive,prizePoolTotal:r.prizePoolTotal??null,sponsoredDivisionName:r.sponsoredDivisionName??null}:null,[r]),U=o.useMemo(()=>{if(!j)return N;const a=j.toLowerCase();return N.filter(l=>{var s,d,t,i;return l.name.toLowerCase().includes(a)||((d=(s=l.season)==null?void 0:s.name)==null?void 0:d.toLowerCase().includes(a))||((t=l.divisionLevel)==null?void 0:t.toLowerCase().includes(a))||((i=l.gameType)==null?void 0:i.toLowerCase().includes(a))})},[N,j]),v=Math.ceil(U.length/h),J=U.slice((u-1)*h,u*h);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-4",children:[F&&e.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV(Ke,{className:"h-5 w-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:338,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold",children:"Error loading divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:340,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm mt-1",children:F},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:341,columnNumber:17},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:x,className:"mt-2",children:"Try Again"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:339,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:337,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:336,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full md:w-auto",children:[e.jsxDEV(De,{placeholder:"Search divisions...",value:j,onChange:a=>{ee(a.target.value),y(1)},className:"w-full sm:w-80"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV(ge,{value:V,onValueChange:a=>{ie(a),y(1)},children:[e.jsxDEV(xe,{className:"w-full sm:w-[200px]",children:e.jsxDEV(ve,{placeholder:"Filter by season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:361,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:360,columnNumber:15},this),e.jsxDEV(fe,{children:[e.jsxDEV(K,{value:"all",children:"All Seasons"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:364,columnNumber:17},this),ae.map(a=>e.jsxDEV(K,{value:a.id,children:a.name},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:366,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:363,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:352,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:de,children:[e.jsxDEV(Qe,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:375,columnNumber:15},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:374,columnNumber:13},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>z(V),children:[e.jsxDEV(We,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:379,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:351,columnNumber:9},this),Z?e.jsxDEV("div",{className:"space-y-4",children:[...Array(5)].map((a,l)=>e.jsxDEV(qe,{className:"h-12 w-full"},l,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:389,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:387,columnNumber:11},this):J.length>0?e.jsxDEV(_e,{children:e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(Pe,{children:[e.jsxDEV(Fe,{children:e.jsxDEV(Be,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(D,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:398,columnNumber:21},this),e.jsxDEV(D,{className:"py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:399,columnNumber:21},this),e.jsxDEV(D,{className:"w-[160px] py-2.5 font-medium text-xs",children:"Season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:400,columnNumber:21},this),e.jsxDEV(D,{className:"w-[110px] py-2.5 font-medium text-xs",children:"Level"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:401,columnNumber:21},this),e.jsxDEV(D,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Type"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:402,columnNumber:21},this),e.jsxDEV(D,{className:"w-[150px] py-2.5 font-medium text-xs",children:"Capacity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:403,columnNumber:21},this),e.jsxDEV(D,{className:"w-[90px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:404,columnNumber:21},this),e.jsxDEV(D,{className:"w-[60px] py-2.5 font-medium text-xs text-center",children:"Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:405,columnNumber:21},this),e.jsxDEV(D,{className:"w-[50px] py-2.5 pr-4 font-medium text-xs",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:406,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:397,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:396,columnNumber:17},this),e.jsxDEV(X.tbody,{initial:"hidden",animate:"visible",variants:je,children:J.map((a,l)=>{var c;const s=((c=a.gameType)==null?void 0:c.toLowerCase())==="doubles",d=s?a.currentDoublesCount||0:a.currentSinglesCount||0,t=s?a.maxDoublesTeams:a.maxSingles,i=aa(d,t),n=a.season;return e.jsxDEV(X.tr,{variants:Ue,transition:Ve,className:"hover:bg-muted/30 border-b transition-colors cursor-pointer",onClick:()=>b({to:"/divisions/$divisionId",params:{divisionId:a.id}}),children:[e.jsxDEV(g,{className:"py-3 pl-4 text-sm text-muted-foreground",children:(u-1)*h+l+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:430,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10",children:e.jsxDEV(pe,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:438,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:437,columnNumber:29},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV(he,{to:"/divisions/$divisionId",params:{divisionId:a.id},className:"font-medium hover:text-primary transition-colors block truncate max-w-[200px]",children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:441,columnNumber:31},this),a.threshold&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[a.threshold,"+ pts"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:449,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:440,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:436,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:435,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:n?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(we,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:461,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:n.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:462,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:460,columnNumber:29},this):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:465,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:458,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(Q,{variant:"outline",className:P("text-xs font-medium border",ea(a.divisionLevel)),children:Le(a.divisionLevel)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:471,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:470,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s?e.jsxDEV(ye,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:483,columnNumber:31},this):e.jsxDEV(Ae,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:485,columnNumber:31},this),e.jsxDEV("span",{children:s?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:487,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:481,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:480,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:t?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-14 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsxDEV("div",{className:P("h-full rounded-full transition-all",i.colorClass),style:{width:`${i.percentage}%`}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:496,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:495,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm font-medium",children:[d,e.jsxDEV("span",{className:"text-muted-foreground font-normal",children:["/",t]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:502,columnNumber:47},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:501,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:494,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm",children:[d," ",s?"teams":"players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:506,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:492,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(Q,{variant:"outline",className:P("text-xs",a.isActive?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-950/30 dark:text-emerald-400 dark:border-emerald-800":"bg-slate-50 text-slate-600 dark:bg-slate-900/30 dark:text-slate-400"),children:a.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:512,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:511,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 text-center",children:a.autoAssignmentEnabled?e.jsxDEV($e,{children:[e.jsxDEV(Ge,{asChild:!0,children:e.jsxDEV(Ee,{className:"size-4 text-blue-500 mx-auto"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:530,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:529,columnNumber:31},this),e.jsxDEV(He,{children:e.jsxDEV("p",{children:"Auto-assignment enabled"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:533,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:532,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:528,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:537,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:526,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 pr-4",onClick:O=>O.stopPropagation(),children:e.jsxDEV(Je,{division:a,onView:re,onEdit:H,onDelete:me,onManagePlayers:q},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:543,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:542,columnNumber:25},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:422,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:409,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:395,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:394,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:393,columnNumber:11},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No divisions found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:559,columnNumber:11},this),v>1&&e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",(u-1)*h+1," to ",Math.min(u*h,U.length)," of ",U.length," divisions"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:567,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.max(1,a-1)),disabled:u===1,children:[e.jsxDEV(Xe,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:577,columnNumber:17},this),"Previous"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:571,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,v)},(a,l)=>{let s;return v<=5||u<=3?s=l+1:u>=v-2?s=v-4+l:s=u-2+l,e.jsxDEV(L,{variant:u===s?"default":"outline",size:"sm",className:"w-8 h-8 p-0",onClick:()=>y(s),children:s},s,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:593,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:580,columnNumber:15},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.min(v,a+1)),disabled:u===v,children:["Next",e.jsxDEV(Ze,{className:"size-4 ml-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:612,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:605,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:570,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:566,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:333,columnNumber:7},this),e.jsxDEV(Ye,{division:te,open:le,onOpenChange:a=>{a||B(null),_(a)},onEdit:H,onManagePlayers:q},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:620,columnNumber:7},this),e.jsxDEV(Ce,{open:ne,onOpenChange:a=>{a||k(null),T(a)},onDivisionCreated:ue,mode:"edit",division:be},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:632,columnNumber:7},this),e.jsxDEV(Se,{open:oe,onOpenChange:a=>{a||I(null),M(a)},children:e.jsxDEV(ke,{children:[e.jsxDEV(Te,{children:[e.jsxDEV(Ie,{children:"Delete division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:653,columnNumber:13},this),e.jsxDEV(Me,{children:[S.DELETE_CONFIRM,e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:656,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold",children:(w==null?void 0:w.name)??"this division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:657,columnNumber:15},this),"? This action cannot be undone."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:654,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:652,columnNumber:11},this),e.jsxDEV(Re,{children:[e.jsxDEV(ze,{disabled:R,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:661,columnNumber:13},this),e.jsxDEV(Oe,{onClick:ce,disabled:R,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:R?"Deleting...":"Delete"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:662,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:660,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:651,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:644,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:332,columnNumber:5},this)}export{ja as DivisionsDataTable};
