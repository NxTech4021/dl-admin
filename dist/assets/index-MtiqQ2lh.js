import{E as ze,j as e,C as Fe,e as Qe,b as Be,B as E,f as os,_ as be,a0 as Y,h as V,t as T,J as C,d as j,N as me,P as te,Q as ce,R as re,K as Oe,r as L,V as xe,W as Le,X as ge,a1 as Z,a2 as Ie,a3 as Se,a4 as Pe,a5 as Te,a6 as le,I as _e,Z as ds,m as Ye}from"./index-Ij2MjCMG.js";import{I as ss,f as is,b as he,g as We,e as us,c as Ns,h as hs,a as Ds,S as xs}from"./site-header-ChC8Gm54.js";import{P as gs}from"./page-header-PSm3gb71.js";import{T as ps,a as Ee,b as Ae,c as Ve}from"./socket-context-YT7vDvYh.js";import{o as bs,p as fs,q as ws,r as Ls,s as vs,t as ys,v as Es,w as As,x as Vs,y as js,z as Us,A as ks,B as Cs}from"./use-queries-JP4P-EaB.js";import{S as J}from"./skeleton-DsMxincg.js";import{I as R}from"./IconAlertTriangle-ChA-5Fm0.js";import{I as ne}from"./IconClock-CN_NrCku.js";import{I as Re}from"./IconBan-75iclc5D.js";import{S as Is}from"./search-input-DIT7zmEo.js";import{F as Ss,a as Ps}from"./filter-bar-biTOAKSs.js";import{F as fe}from"./filter-select-BW-eKFyW.js";import{I as as,a as we}from"./IconWalk-COr_IOnu.js";import{D as Ts,a as _s,b as Ms,f as O,d as Ge}from"./dropdown-menu-v_1mVrol.js";import{I as zs}from"./IconDotsVertical-C1MKCg12.js";import{I as ls}from"./IconEye-Bpq-RU1C.js";import{I as $e}from"./IconEdit-CKHYPdQi.js";import{I as Os}from"./IconCopy-DNO-V7xE.js";import{g as W,a as Rs,f as ae,b as De}from"./constants-D_wQXR5Q.js";import{A as _,a as z,b as M}from"./avatar-DhR4deHc.js";import{I as Fs}from"./IconHash-DXJQKkhO.js";import{I as Ue}from"./IconChevronRight-UThN3CiE.js";import{I as Bs}from"./IconMapPin-1dPEezhs.js";import{I as ns}from"./IconUser-CvJEtqYD.js";import{I as Gs}from"./IconNotes-DU-tNIGW.js";import{I as Me}from"./IconCrown-BDEC-pdn.js";import{I as Ws}from"./IconMail-CTgy567s.js";import{A as ke,a as Ce}from"./alert-DBJTqW_Y.js";import{I as Je}from"./IconPlus-Czhrl-Iw.js";import{T as $s,a as Hs,b as Ke,c as F,d as Xs,e as B}from"./table-zAUa_nWa.js";import{I as qs}from"./IconDownload-qXy6FyN3.js";import{I as Qs}from"./IconChevronLeft-DygbHlUk.js";import"./scroll-area-Cl2459q0.js";import"./use-notifications-CtYciee-.js";import"./external-DCTon813.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";import"./league-schema-CW4CwVLH.js";import"./season-schema-DVFNm_2a.js";import"./division-schema-gPrDsMOQ.js";import"./index-pkjIqE3y.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M11.102 17.957c-3.204 -.307 -5.904 -2.294 -8.102 -5.957c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6a19.5 19.5 0 0 1 -.663 1.032",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]],Js=ze("outline","eye-check","EyeCheck",Ys);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],ms=ze("outline","eye-off","EyeOff",Ks);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["path",{d:"M5 5v16",key:"svg-0"}],["path",{d:"M19 5v9",key:"svg-1"}],["path",{d:"M7.641 3.645a5 5 0 0 1 4.359 1.355a5 5 0 0 0 7 0",key:"svg-2"}],["path",{d:"M5 14a5 5 0 0 1 7 0a4.984 4.984 0 0 0 3.437 1.429m3.019 -.966c.19 -.14 .371 -.294 .544 -.463",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],ei=ze("outline","flag-off","FlagOff",Zs);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25",key:"svg-1"}],["path",{d:"M12.5 15.5l2 2",key:"svg-2"}],["path",{d:"M15 13l2 2",key:"svg-3"}]],ii=ze("outline","heart-handshake","HeartHandshake",si);function ai({leagueId:s,seasonId:d,divisionId:r}){const{data:m,isLoading:i,error:t,refetch:u}=bs({leagueId:s,seasonId:d,divisionId:r});if(i)return e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[...Array(5)].map((D,o)=>e.jsxDEV(Fe,{children:[e.jsxDEV(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(J,{className:"h-4 w-24"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:39,columnNumber:15},this),e.jsxDEV(J,{className:"size-4 rounded-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:40,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:38,columnNumber:13},this),e.jsxDEV(Be,{children:[e.jsxDEV(J,{className:"h-7 w-16 mb-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:43,columnNumber:15},this),e.jsxDEV(J,{className:"h-3 w-32"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:44,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:42,columnNumber:13},this)]},o,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:37,columnNumber:11},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:35,columnNumber:7},this);if(t)return e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:e.jsxDEV(Fe,{className:"lg:col-span-5",children:e.jsxDEV(Be,{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsxDEV(R,{className:"size-8 text-destructive mb-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:58,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-3",children:"Failed to load match statistics"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:59,columnNumber:13},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>u(),className:"gap-2",children:[e.jsxDEV(ss,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:68,columnNumber:15},this),"Retry"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:62,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:57,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:55,columnNumber:7},this);if(!m)return null;const f=[{title:"Total Matches",value:m.totalMatches,description:"All matches",icon:is,iconColor:"text-blue-500"},{title:"Scheduled",value:m.byStatus.SCHEDULED,description:"Upcoming matches",icon:ne,iconColor:"text-green-500"},{title:"Pending Confirmation",value:m.pendingConfirmation,description:"Awaiting approval",icon:he,iconColor:"text-yellow-500"},{title:"Disputed",value:m.disputed,description:"Under review",icon:R,iconColor:"text-red-500"},{title:"Requires Review",value:m.requiresAdminReview,description:"Admin action needed",icon:Re,iconColor:"text-orange-500"}];return e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:f.map(D=>{const o=D.icon;return e.jsxDEV(Fe,{children:[e.jsxDEV(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(os,{className:"text-sm font-medium",children:D.title},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:124,columnNumber:15},this),e.jsxDEV(o,{className:`size-4 ${D.iconColor}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:127,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV(Be,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:D.value},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:130,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:D.description},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:129,columnNumber:13},this)]},D.title,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:122,columnNumber:11},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-stats-cards.tsx",lineNumber:118,columnNumber:5},this)}const li=[{value:"DRAFT",label:"Draft"},{value:"SCHEDULED",label:"Scheduled"},{value:"ONGOING",label:"Ongoing"},{value:"COMPLETED",label:"Completed"},{value:"UNFINISHED",label:"Unfinished"},{value:"CANCELLED",label:"Cancelled"},{value:"VOID",label:"Void"}],ni=[{value:"league",label:"League Matches"},{value:"friendly",label:"Friendly Matches"}];function mi({selectedLeague:s,selectedSeason:d,selectedDivision:r,selectedStatus:m,searchQuery:i="",showDisputedOnly:t=!1,showLateCancellations:u=!1,matchContext:f,showHidden:D=!1,showReported:o=!1,onLeagueChange:b,onSeasonChange:l,onDivisionChange:g,onStatusChange:N,onSearchChange:h,onDisputedChange:v,onLateCancellationChange:x,onMatchContextChange:a,onShowHiddenChange:p,onShowReportedChange:A,className:U=""}){const{data:I,isLoading:P}=fs(),{data:k,isLoading:oe}=ws(),{data:$,isLoading:de}=Ls(),X=be.useMemo(()=>k?s?k.filter(w=>{var ve;return(ve=w.leagues)==null?void 0:ve.some(ye=>ye.id===s)}):k:[],[k,s]),ee=be.useMemo(()=>$?d?$.filter(w=>w.seasonId===d):$:[],[$,d]),se=be.useMemo(()=>(I==null?void 0:I.map(w=>({value:w.id,label:w.name})))||[],[I]),pe=be.useMemo(()=>X.map(w=>({value:w.id,label:w.name})),[X]),ie=be.useMemo(()=>ee.map(w=>({value:w.id,label:w.name})),[ee]),H=()=>{b(void 0),l(void 0),g(void 0),N(void 0),h(""),v(!1),x==null||x(!1),a==null||a(void 0),p==null||p(!1),A==null||A(!1)},S=s||d||r||m||i||t||u||f||D||o,c=w=>{b(w),l(void 0),g(void 0)},y=w=>{l(w),g(void 0)};return e.jsxDEV("div",{className:U,children:e.jsxDEV(Ss,{onClearAll:H,showClearButton:!!S,children:[e.jsxDEV(Is,{value:i,onChange:h,placeholder:"Search matches...",className:"w-[200px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:147,columnNumber:9},this),P?e.jsxDEV(J,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:156,columnNumber:11},this):e.jsxDEV(fe,{value:s,onChange:c,options:se,allLabel:"All Leagues",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:158,columnNumber:11},this),oe?e.jsxDEV(J,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:169,columnNumber:11},this):e.jsxDEV(fe,{value:d,onChange:y,options:pe,allLabel:"All Seasons",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:171,columnNumber:11},this),de?e.jsxDEV(J,{className:"h-9 w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:182,columnNumber:11},this):e.jsxDEV(fe,{value:r,onChange:g,options:ie,allLabel:"All Divisions",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:184,columnNumber:11},this),e.jsxDEV(fe,{value:m,onChange:w=>N(w),options:li,allLabel:"All Statuses",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:194,columnNumber:9},this),a&&e.jsxDEV(fe,{value:f,onChange:w=>a(w),options:ni,allLabel:"All Matches",triggerClassName:"w-[160px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:204,columnNumber:11},this),e.jsxDEV(Ps,{children:[e.jsxDEV("div",{className:"flex items-center space-x-2 px-2",children:[e.jsxDEV(Y,{id:"disputed-only",checked:t,onCheckedChange:w=>v(w)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV(V,{htmlFor:"disputed-only",className:"text-sm font-normal cursor-pointer flex items-center gap-1.5",children:[e.jsxDEV(R,{className:"size-4 text-destructive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:225,columnNumber:15},this),"Disputed"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:215,columnNumber:11},this),x&&e.jsxDEV("div",{className:"flex items-center space-x-2 px-2",children:[e.jsxDEV(Y,{id:"late-cancellation",checked:u,onCheckedChange:w=>x(w)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:232,columnNumber:15},this),e.jsxDEV(V,{htmlFor:"late-cancellation",className:"text-sm font-normal cursor-pointer flex items-center gap-1.5",children:[e.jsxDEV(ne,{className:"size-4 text-orange-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:241,columnNumber:17},this),"Late Cancel"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:231,columnNumber:13},this),p&&e.jsxDEV("div",{className:"flex items-center space-x-2 px-2",children:[e.jsxDEV(Y,{id:"show-hidden",checked:D,onCheckedChange:w=>p(w)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:249,columnNumber:15},this),e.jsxDEV(V,{htmlFor:"show-hidden",className:"text-sm font-normal cursor-pointer flex items-center gap-1.5",children:[e.jsxDEV(ms,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:258,columnNumber:17},this),"Hidden"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:248,columnNumber:13},this),A&&e.jsxDEV("div",{className:"flex items-center space-x-2 px-2",children:[e.jsxDEV(Y,{id:"show-reported",checked:o,onCheckedChange:w=>A(w)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:266,columnNumber:15},this),e.jsxDEV(V,{htmlFor:"show-reported",className:"text-sm font-normal cursor-pointer flex items-center gap-1.5",children:[e.jsxDEV(as,{className:"size-4 text-red-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:275,columnNumber:17},this),"Reported"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:265,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:214,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:145,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-filters.tsx",lineNumber:144,columnNumber:5},this)}function ti({match:s,onView:d,onEdit:r,onEditParticipants:m,onVoid:i,onConvertToWalkover:t,onMessage:u,onReviewCancellation:f,onHideMatch:D,onUnhideMatch:o,onReportAbuse:b,onClearReport:l}){const g=s.status==="VOID",N=s.status==="CANCELLED",h=s.status==="COMPLETED",v=s.status==="ONGOING",x=!g&&!N,a=!g&&!N&&!s.isWalkover,p=h||v,A=!g&&!N&&!v,U=s.isLateCancellation&&N,I=!s.divisionId&&!s.leagueId&&!s.seasonId,P=s.isHiddenFromPublic,k=s.isReportedForAbuse;return e.jsxDEV(Ts,{children:[e.jsxDEV(_s,{asChild:!0,children:e.jsxDEV(E,{variant:"ghost",size:"icon",className:"size-8",children:[e.jsxDEV(zs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("span",{className:"sr-only",children:"Open menu"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:78,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:77,columnNumber:7},this),e.jsxDEV(Ms,{align:"end",className:"w-52",children:[e.jsxDEV(O,{onClick:()=>d(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(ls,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:89,columnNumber:11},this),"View Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:85,columnNumber:9},this),p&&e.jsxDEV(O,{onClick:()=>r(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV($e,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:99,columnNumber:13},this),"Edit Result"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:95,columnNumber:11},this),A&&e.jsxDEV(O,{onClick:()=>m(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(he,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:110,columnNumber:13},this),"Edit Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:106,columnNumber:11},this),e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV(O,{onClick:()=>{navigator.clipboard.writeText(s.id),T.success("Match ID copied to clipboard")},className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Os,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:125,columnNumber:11},this),"Copy Match ID"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV(O,{onClick:()=>u(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(We,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:134,columnNumber:11},this),"Message Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:130,columnNumber:9},this),U&&f&&e.jsxDEV(O,{onClick:()=>f(s),className:"cursor-pointer text-orange-600 focus:bg-accent focus:text-orange-600",children:[e.jsxDEV(ne,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:144,columnNumber:13},this),"Review Cancellation"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:140,columnNumber:11},this),a&&e.jsxDEV(O,{onClick:()=>t(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(we,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:155,columnNumber:13},this),"Convert to Walkover"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:151,columnNumber:11},this),I&&(D||o||b||l)&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:163,columnNumber:13},this),!P&&D&&e.jsxDEV(O,{onClick:()=>D(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(ms,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:169,columnNumber:17},this),"Hide from Public"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:165,columnNumber:15},this),P&&o&&e.jsxDEV(O,{onClick:()=>o(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(Js,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:178,columnNumber:17},this),"Unhide Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:174,columnNumber:15},this),!k&&b&&e.jsxDEV(O,{onClick:()=>b(s),className:"cursor-pointer text-red-600 focus:bg-accent focus:text-red-600",children:[e.jsxDEV(as,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:187,columnNumber:17},this),"Report Abuse"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:183,columnNumber:15},this),k&&l&&e.jsxDEV(O,{onClick:()=>l(s),className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",children:[e.jsxDEV(ei,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:196,columnNumber:17},this),"Clear Report"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:162,columnNumber:11},this),x&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:206,columnNumber:13},this),e.jsxDEV(O,{variant:"destructive",onClick:()=>i(s),className:"cursor-pointer focus:bg-destructive focus:text-destructive-foreground",children:[e.jsxDEV(Re,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:212,columnNumber:15},this),"Void Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-row-actions.tsx",lineNumber:76,columnNumber:5},this)}function ts({status:s,className:d}){const r=W("MATCH",s),m=Rs(s);return e.jsxDEV(C,{variant:"outline",className:j(r,d),children:m},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-status-badge.tsx",lineNumber:22,columnNumber:5},this)}const K=s=>(s==null?void 0:s.name)||(s==null?void 0:s.username)||"Unknown",ci=s=>{if(!s)return null;if(s<60)return`${s}m`;const d=Math.floor(s/60),r=s%60;return r>0?`${d}h ${r}m`:`${d}h`},ri=s=>s?s.replace(/_/g," ").toLowerCase().replace(/\b\w/g,d=>d.toUpperCase()):"Not specified",oi=s=>{switch(s==null?void 0:s.toLowerCase()){case"tennis":return{badge:"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800",accent:"bg-emerald-500",bg:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/30 dark:to-emerald-900/20"};case"badminton":return{badge:"text-rose-700 bg-rose-50 border-rose-200 dark:bg-rose-950/40 dark:text-rose-400 dark:border-rose-800",accent:"bg-rose-500",bg:"bg-gradient-to-br from-rose-50 to-rose-100/50 dark:from-rose-950/30 dark:to-rose-900/20"};case"pickleball":return{badge:"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800",accent:"bg-violet-500",bg:"bg-gradient-to-br from-violet-50 to-violet-100/50 dark:from-violet-950/30 dark:to-violet-900/20"};case"padel":return{badge:"text-sky-700 bg-sky-50 border-sky-200 dark:bg-sky-950/40 dark:text-sky-400 dark:border-sky-800",accent:"bg-sky-500",bg:"bg-gradient-to-br from-sky-50 to-sky-100/50 dark:from-sky-950/30 dark:to-sky-900/20"};default:return{badge:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700",accent:"bg-slate-500",bg:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-900/30 dark:to-slate-800/20"}}};function di({match:s,open:d,onOpenChange:r,onEdit:m,onVoid:i,onMessage:t,onEditParticipants:u}){var g,N,h,v;if(!s)return null;const f=oi(s.sport),D=!s.divisionId&&!s.leagueId&&!s.seasonId,o=s.participants||[],b=s.status==="DRAFT",l=s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?s.team1Score>s.team2Score?"team1":s.team2Score>s.team1Score?"team2":null:null;return e.jsxDEV(me,{open:d,onOpenChange:r,children:e.jsxDEV(te,{className:"sm:max-w-[640px] max-h-[90vh] overflow-y-auto p-0 gap-0",children:[e.jsxDEV(ce,{className:"px-6 pt-6 pb-4 space-y-3",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-4 pr-8",children:[e.jsxDEV("div",{className:"space-y-1.5 min-w-0",children:[e.jsxDEV(re,{className:"text-lg font-semibold tracking-tight",children:[s.matchType==="DOUBLES"?"Doubles":"Singles"," Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:132,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsxDEV(Fs,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:136,columnNumber:17},this),e.jsxDEV("code",{className:"font-mono text-[11px] select-all",children:s.id},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsxDEV(ts,{status:s.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:141,columnNumber:15},this),s.isDisputed&&e.jsxDEV(C,{variant:"destructive",className:"gap-1 text-xs px-2",children:[e.jsxDEV(R,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:144,columnNumber:19},this),"Disputed"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:143,columnNumber:17},this),s.isWalkover&&e.jsxDEV(C,{variant:"outline",className:"gap-1 text-xs px-2",children:[e.jsxDEV(we,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:150,columnNumber:19},this),"W/O"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:149,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:130,columnNumber:11},this),D?e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-pink-50 dark:bg-pink-950/30 border border-pink-200 dark:border-pink-800",children:[e.jsxDEV(ii,{className:"size-4 text-pink-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-pink-700 dark:text-pink-300",children:"Friendly Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-pink-600/70 dark:text-pink-400/70",children:"• Not linked to any league"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:159,columnNumber:13},this):s.division?e.jsxDEV("div",{className:j("flex items-center gap-2 px-3 py-2 rounded-lg border",f.bg,"border-transparent"),children:[e.jsxDEV(C,{variant:"outline",className:j("text-xs font-medium",f.badge),children:s.sport},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:166,columnNumber:15},this),s.division.league&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:171,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",children:s.division.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:172,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:170,columnNumber:17},this),s.division.season&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:177,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:s.division.season.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:176,columnNumber:17},this),s.division.name&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"size-3 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:183,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:s.division.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:182,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:165,columnNumber:13},this):e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50",children:e.jsxDEV(C,{variant:"outline",className:j("text-xs",f.badge),children:s.sport},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:129,columnNumber:9},this),e.jsxDEV("div",{className:"px-6 pb-6 space-y-5",children:[e.jsxDEV("div",{className:j("rounded-xl p-4",f.bg,"border border-border/50"),children:[s.matchType==="SINGLES"?e.jsxDEV(ui,{participants:o,isDraft:b,score:s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?{team1:s.team1Score,team2:s.team2Score}:null,winningSide:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:201,columnNumber:15},this):e.jsxDEV(Ni,{participants:o,isDraft:b,score:s.status==="COMPLETED"&&typeof s.team1Score=="number"&&typeof s.team2Score=="number"?{team1:s.team1Score,team2:s.team2Score}:null,winningSide:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:211,columnNumber:15},this),s.status==="COMPLETED"&&(()=>{const x=s.setScores;return x&&Array.isArray(x)&&x.length>0?e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-border/50 flex items-center justify-center gap-3",children:x.map((a,p)=>e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mb-0.5",children:["Set ",a.setNumber||p+1]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:234,columnNumber:25},this),e.jsxDEV("div",{className:"font-mono text-sm font-semibold",children:[a.team1Games,"-",a.team2Games]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:237,columnNumber:25},this)]},p,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:233,columnNumber:23},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:231,columnNumber:19},this):null})()]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:199,columnNumber:11},this),s.status==="DRAFT"&&e.jsxDEV("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsxDEV("strong",{children:"Awaiting Responses"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:253,columnNumber:17},this),((g=s.participants)==null?void 0:g.some(x=>x.invitationStatus==="DECLINED"))&&e.jsxDEV("span",{className:"block mt-1 text-red-600 dark:text-red-400",children:"• Some invitations declined - creator needs to invite new players"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:255,columnNumber:19},this),((N=s.participants)==null?void 0:N.some(x=>x.invitationStatus==="EXPIRED"))&&e.jsxDEV("span",{className:"block mt-1 text-muted-foreground",children:"• Some invitations expired - needs resending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:260,columnNumber:19},this),((h=s.participants)==null?void 0:h.every(x=>x.invitationStatus==="PENDING"||x.invitationStatus==="ACCEPTED"))&&((v=s.participants)==null?void 0:v.some(x=>x.invitationStatus==="PENDING"))&&e.jsxDEV("span",{className:"block mt-1 text-muted-foreground",children:"• Waiting for all players to accept"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:266,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:252,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:251,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxDEV(je,{icon:e.jsxDEV(us,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:277,columnNumber:21},this),label:"Date",value:new Date(s.matchDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:276,columnNumber:13},this),e.jsxDEV(je,{icon:e.jsxDEV(Bs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:286,columnNumber:21},this),label:"Venue",value:s.venue||s.location||"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:285,columnNumber:13},this),s.duration&&e.jsxDEV(je,{icon:e.jsxDEV(ne,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:292,columnNumber:23},this),label:"Duration",value:ci(s.duration)||"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:291,columnNumber:15},this),e.jsxDEV(je,{icon:s.matchType==="DOUBLES"?e.jsxDEV(he,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:298,columnNumber:53},this):e.jsxDEV(ns,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:298,columnNumber:88},this),label:"Format",value:s.matchType==="DOUBLES"?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:297,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:275,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Activity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:306,columnNumber:13},this),e.jsxDEV("div",{className:"rounded-lg border border-border/50 divide-y divide-border/50",children:[s.createdBy&&e.jsxDEV(Ze,{user:{name:s.createdBy.name||s.createdBy.username||"Unknown",image:s.createdBy.image},action:"created this match",date:ae(s.createdAt)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:309,columnNumber:17},this),s.status==="COMPLETED"&&s.resultSubmittedBy&&e.jsxDEV(Ze,{user:{name:s.resultSubmittedBy.name||s.resultSubmittedBy.username||"Unknown",image:s.resultSubmittedBy.image},action:"submitted result",date:s.resultSubmittedAt?ae(s.resultSubmittedAt):void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:319,columnNumber:17},this),s.updatedAt&&s.updatedAt!==s.createdAt&&e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground px-3 py-2.5 bg-muted/30",children:[e.jsxDEV(ne,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:330,columnNumber:19},this),e.jsxDEV("span",{children:["Last updated ",ae(s.updatedAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:331,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:329,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:307,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:305,columnNumber:11},this),(s.adminNotes||s.notes)&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(Gs,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:341,columnNumber:17},this),"Notes"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:340,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-lg",children:s.adminNotes||s.notes},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:344,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:339,columnNumber:13},this),s.isDisputed&&s.disputes&&s.disputes.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-destructive flex items-center gap-1.5",children:[e.jsxDEV(R,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:354,columnNumber:17},this),"Disputes"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:353,columnNumber:15},this),s.disputes.map(x=>{var a;return e.jsxDEV("div",{className:"p-3 bg-destructive/5 border border-destructive/20 rounded-lg text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-start gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:x.disputeCategory},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:363,columnNumber:21},this),e.jsxDEV(C,{variant:"outline",className:"text-[10px]",children:x.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:364,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:362,columnNumber:19},this),x.notes&&e.jsxDEV("p",{className:"mt-1.5 text-muted-foreground text-xs",children:x.notes},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:367,columnNumber:21},this),e.jsxDEV("p",{className:"mt-1.5 text-[10px] text-muted-foreground",children:["Filed by ",((a=x.disputedBy)==null?void 0:a.name)??"Unknown"," • ",ae(x.createdAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:369,columnNumber:19},this)]},x.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:358,columnNumber:17},this)})]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:352,columnNumber:13},this),s.isWalkover&&s.walkover&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(we,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:381,columnNumber:17},this),"Walkover"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:380,columnNumber:15},this),e.jsxDEV("div",{className:"p-3 bg-orange-50 dark:bg-orange-950/30 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsxDEV("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:s.walkover.reason},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:385,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 text-xs text-orange-600 dark:text-orange-400",children:["Recorded ",ae(s.walkover.recordedAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:379,columnNumber:13},this),s.status==="CANCELLED"&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground flex items-center gap-1.5",children:[e.jsxDEV(Oe,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:399,columnNumber:17},this),"Cancellation Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:398,columnNumber:15},this),e.jsxDEV("div",{className:j("p-3 rounded-lg border",s.isLateCancellation?"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800":"bg-muted/50 border-border/50"),children:[s.isLateCancellation&&e.jsxDEV(C,{variant:"destructive",className:"mb-2 text-xs gap-1",children:[e.jsxDEV(R,{className:"size-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:410,columnNumber:21},this),"Late Cancellation"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:409,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[s.cancellationReason&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Reason:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:419,columnNumber:23},this),e.jsxDEV(C,{variant:"outline",children:ri(s.cancellationReason)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:420,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:418,columnNumber:21},this),s.cancellationComment&&e.jsxDEV("p",{className:"text-muted-foreground italic",children:["“",s.cancellationComment,"”"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:428,columnNumber:21},this),s.cancelledAt&&e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Cancelled ",ae(s.cancelledAt)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:435,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:415,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:397,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:197,columnNumber:9},this),(t||m||i||u)&&e.jsxDEV("div",{className:"px-6 pb-6 pt-3 border-t border-border/50",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[t&&e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>{t(s),r(!1)},children:[e.jsxDEV(We,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:456,columnNumber:19},this),"Message"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:451,columnNumber:17},this),u&&!["COMPLETED","VOID","CANCELLED","ONGOING"].includes(s.status)&&e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>{u(s),r(!1)},children:[e.jsxDEV(he,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:468,columnNumber:19},this),"Edit Participants"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:463,columnNumber:17},this),m&&["COMPLETED","ONGOING"].includes(s.status)&&e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>{m(s),r(!1)},children:[e.jsxDEV($e,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:480,columnNumber:19},this),"Edit Result"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:475,columnNumber:17},this),i&&!["VOID","CANCELLED"].includes(s.status)&&e.jsxDEV(E,{variant:"destructive",size:"sm",onClick:()=>{i(s),r(!1)},children:[e.jsxDEV(Re,{className:"size-4 mr-1.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:492,columnNumber:19},this),"Void Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:487,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:448,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:447,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:128,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:127,columnNumber:5},this)}function ui({participants:s,isDraft:d,score:r,winningSide:m}){var u,f;const i=s==null?void 0:s[0],t=s==null?void 0:s[1];return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[m==="team1"&&e.jsxDEV(Me,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:525,columnNumber:13},this),e.jsxDEV(_,{className:j("size-14 ring-2 ring-background shadow-sm",m==="team1"&&"ring-amber-400 ring-4"),children:[e.jsxDEV(z,{src:((u=i==null?void 0:i.user)==null?void 0:u.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:531,columnNumber:13},this),e.jsxDEV(M,{className:"text-base font-medium bg-muted",children:De(K(i==null?void 0:i.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:532,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:527,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:523,columnNumber:9},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:j("font-semibold truncate",m==="team1"&&"text-amber-600 dark:text-amber-400"),children:K(i==null?void 0:i.user)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:538,columnNumber:11},this),d&&(i==null?void 0:i.invitationStatus)&&e.jsxDEV(C,{variant:"outline",className:j("text-[10px] mt-0.5",W("INVITATION",i.invitationStatus)),children:i.invitationStatus},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:542,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:537,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:522,columnNumber:7},this),e.jsxDEV("div",{className:"flex-shrink-0 text-center px-2",children:r?e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("div",{className:"font-mono text-2xl font-bold tracking-tight",children:[e.jsxDEV("span",{className:m==="team1"?"text-amber-600 dark:text-amber-400":"",children:r.team1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:557,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground mx-1",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:558,columnNumber:15},this),e.jsxDEV("span",{className:m==="team2"?"text-amber-600 dark:text-amber-400":"",children:r.team2},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:559,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:556,columnNumber:13},this),e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Final"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:561,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:555,columnNumber:11},this):e.jsxDEV("div",{className:"text-xl font-bold text-muted-foreground/50",children:"VS"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:564,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:553,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 flex items-center gap-3 justify-end text-right",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:j("font-semibold truncate",m==="team2"&&"text-amber-600 dark:text-amber-400"),children:t?K(t==null?void 0:t.user):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:571,columnNumber:11},this),d&&(t==null?void 0:t.invitationStatus)&&e.jsxDEV(C,{variant:"outline",className:j("text-[10px] mt-0.5",W("INVITATION",t.invitationStatus)),children:t.invitationStatus},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:575,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:570,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[m==="team2"&&e.jsxDEV(Me,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:585,columnNumber:13},this),e.jsxDEV(_,{className:j("size-14 ring-2 ring-background shadow-sm",m==="team2"&&"ring-amber-400 ring-4"),children:[e.jsxDEV(z,{src:((f=t==null?void 0:t.user)==null?void 0:f.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:591,columnNumber:13},this),e.jsxDEV(M,{className:"text-base font-medium bg-muted",children:t?De(K(t==null?void 0:t.user)):"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:592,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:587,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:583,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:569,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:520,columnNumber:5},this)}function Ni({participants:s,isDraft:d,score:r,winningSide:m}){const i=(s==null?void 0:s.filter(o=>o.team==="team1"))||[],t=(s==null?void 0:s.filter(o=>o.team==="team2"))||[],u=o=>{if(!d)return null;const b=o.some(N=>N.invitationStatus==="DECLINED"),l=o.some(N=>N.invitationStatus==="EXPIRED"),g=o.some(N=>N.invitationStatus==="PENDING");return b?{status:"DECLINED",color:W("INVITATION","DECLINED")}:l?{status:"EXPIRED",color:W("INVITATION","EXPIRED")}:g?{status:"PENDING",color:W("INVITATION","PENDING")}:null},f=u(i),D=u(t);return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"relative",children:[m==="team1"&&e.jsxDEV(Me,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm z-10"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:639,columnNumber:15},this),e.jsxDEV("div",{className:j("flex -space-x-2 rounded-full",m==="team1"&&"ring-4 ring-amber-400"),children:[i.slice(0,2).map(o=>{var b;return e.jsxDEV(_,{className:"size-10 ring-2 ring-background shadow-sm",children:[e.jsxDEV(z,{src:((b=o.user)==null?void 0:b.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:647,columnNumber:19},this),e.jsxDEV(M,{className:"text-xs font-medium bg-muted",children:De(K(o.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:648,columnNumber:19},this)]},o.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:646,columnNumber:17},this)}),i.length===0&&e.jsxDEV(_,{className:"size-10 ring-2 ring-background",children:e.jsxDEV(M,{className:"text-xs",children:"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:655,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:654,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:641,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:637,columnNumber:11},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:j("font-semibold text-sm truncate",m==="team1"&&"text-amber-600 dark:text-amber-400"),children:i.length>0?i.map(o=>K(o.user).split(" ")[0]).join(" & "):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:661,columnNumber:13},this),f&&e.jsxDEV(C,{variant:"outline",className:j("text-[10px] mt-0.5",f.color),children:f.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:671,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:660,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:636,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:635,columnNumber:7},this),e.jsxDEV("div",{className:"flex-shrink-0 text-center px-2",children:r?e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("div",{className:"font-mono text-2xl font-bold tracking-tight",children:[e.jsxDEV("span",{className:m==="team1"?"text-amber-600 dark:text-amber-400":"",children:r.team1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:684,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground mx-1",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:685,columnNumber:15},this),e.jsxDEV("span",{className:m==="team2"?"text-amber-600 dark:text-amber-400":"",children:r.team2},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:686,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:683,columnNumber:13},this),e.jsxDEV("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Final"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:688,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:682,columnNumber:11},this):e.jsxDEV("div",{className:"text-xl font-bold text-muted-foreground/50",children:"VS"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:691,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:680,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-center gap-2 justify-end text-right",children:[e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("p",{className:j("font-semibold text-sm truncate",m==="team2"&&"text-amber-600 dark:text-amber-400"),children:t.length>0?t.map(o=>K(o.user).split(" ")[0]).join(" & "):"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:699,columnNumber:13},this),D&&e.jsxDEV(C,{variant:"outline",className:j("text-[10px] mt-0.5",D.color),children:D.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:709,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:698,columnNumber:11},this),e.jsxDEV("div",{className:"relative",children:[m==="team2"&&e.jsxDEV(Me,{className:"absolute -top-3 left-1/2 -translate-x-1/2 size-5 text-amber-500 fill-amber-400 drop-shadow-sm z-10"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:716,columnNumber:15},this),e.jsxDEV("div",{className:j("flex -space-x-2 rounded-full",m==="team2"&&"ring-4 ring-amber-400"),children:[t.slice(0,2).map(o=>{var b;return e.jsxDEV(_,{className:"size-10 ring-2 ring-background shadow-sm",children:[e.jsxDEV(z,{src:((b=o.user)==null?void 0:b.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:724,columnNumber:19},this),e.jsxDEV(M,{className:"text-xs font-medium bg-muted",children:De(K(o.user))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:725,columnNumber:19},this)]},o.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:723,columnNumber:17},this)}),t.length===0&&e.jsxDEV(_,{className:"size-10 ring-2 ring-background",children:e.jsxDEV(M,{className:"text-xs",children:"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:732,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:731,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:718,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:714,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:697,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:696,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:633,columnNumber:5},this)}function je({icon:s,label:d,value:r}){return e.jsxDEV("div",{className:"p-2.5 rounded-lg bg-muted/50 border border-border/50",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground mb-1",children:[s,e.jsxDEV("span",{className:"text-[10px] uppercase tracking-wider",children:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:749,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:747,columnNumber:7},this),e.jsxDEV("p",{className:"text-sm font-medium truncate",children:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:751,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:746,columnNumber:5},this)}function Ze({user:s,action:d,date:r}){return e.jsxDEV("div",{className:"flex items-center gap-3 px-3 py-2.5",children:[e.jsxDEV(_,{className:"size-7 flex-shrink-0",children:[e.jsxDEV(z,{src:s.image||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:769,columnNumber:9},this),e.jsxDEV(M,{className:"text-[10px] bg-muted",children:De(s.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:770,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:768,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("span",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:774,columnNumber:11},this),e.jsxDEV("span",{className:"text-muted-foreground",children:[" ",d]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:775,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:773,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:772,columnNumber:7},this),r&&e.jsxDEV("span",{className:"text-[11px] text-muted-foreground flex-shrink-0",children:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:779,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-detail-modal.tsx",lineNumber:767,columnNumber:5},this)}function hi({match:s,open:d,onOpenChange:r,onSuccess:m}){const[i,t]=L.useState(""),[u,f]=L.useState(!0),D=vs(),o=async()=>{if(!(!s||!i.trim()))try{await D.mutateAsync({matchId:s.id,reason:i.trim(),notifyParticipants:u}),T.success("Match voided successfully"),r(!1),t(""),m==null||m()}catch{T.error("Failed to void match")}},b=l=>{l||(t(""),f(!0)),r(l)};return s?e.jsxDEV(me,{open:d,onOpenChange:b,children:e.jsxDEV(te,{className:"sm:max-w-md",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-destructive/10",children:e.jsxDEV(Re,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:72,columnNumber:13},this),e.jsxDEV(re,{children:"Void Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:71,columnNumber:11},this),e.jsxDEV(xe,{children:"This action will void the match and mark it as invalid. This cannot be undone."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"reason",children:"Reason for voiding *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:85,columnNumber:13},this),e.jsxDEV(Le,{id:"reason",placeholder:"Enter the reason for voiding this match...",value:i,onChange:l=>t(l.target.value),className:"min-h-[100px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Y,{id:"notify",checked:u,onCheckedChange:l=>f(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:96,columnNumber:13},this),e.jsxDEV(V,{htmlFor:"notify",className:"text-sm font-normal cursor-pointer",children:"Notify participants about this change"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>b(!1),disabled:D.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:113,columnNumber:11},this),e.jsxDEV(E,{variant:"destructive",onClick:o,disabled:D.isPending||!i.trim(),children:D.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:127,columnNumber:17},this),"Voiding..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:126,columnNumber:15},this):"Void Match"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/void-match-modal.tsx",lineNumber:68,columnNumber:5},this):null}const Di=[{value:"NO_SHOW",label:"No Show"},{value:"LATE_CANCELLATION",label:"Late Cancellation"},{value:"INJURY",label:"Injury"},{value:"PERSONAL_EMERGENCY",label:"Personal Emergency"},{value:"OTHER",label:"Other"}];function xi({match:s,open:d,onOpenChange:r,onSuccess:m}){const[i,t]=L.useState(""),[u,f]=L.useState(""),[D,o]=L.useState(!0),b=ys(),l=()=>{if(!s)return[];if(s.matchType==="SINGLES")return s.participants.map(a=>{var p,A;return{id:a.userId,label:((p=a.user)==null?void 0:p.name)||((A=a.user)==null?void 0:A.username)||"Unknown"}});{const a=s.participants.filter(U=>U.team==="team1"),p=s.participants.filter(U=>U.team==="team2"),A=[];if(a.length>0){const U=a.map(I=>{var P,k;return((P=I.user)==null?void 0:P.name)||((k=I.user)==null?void 0:k.username)||"Unknown"}).join(" & ");A.push({id:a[0].userId,label:`Team 1: ${U}`})}if(p.length>0){const U=p.map(I=>{var P,k;return((P=I.user)==null?void 0:P.name)||((k=I.user)==null?void 0:k.username)||"Unknown"}).join(" & ");A.push({id:p[0].userId,label:`Team 2: ${U}`})}return A}},g=()=>{if(!s||!u)return"";const p=l().find(A=>A.id!==u);return(p==null?void 0:p.id)||""},N=async()=>{if(!s||!i||!u)return;const a=g();if(!a){T.error("Could not determine winning player");return}try{await b.mutateAsync({matchId:s.id,reason:i,defaultingPlayerId:u,winningPlayerId:a,notifyParticipants:D}),T.success("Match converted to walkover successfully"),r(!1),h(),m==null||m()}catch{T.error("Failed to convert match to walkover")}},h=()=>{t(""),f(""),o(!0)},v=a=>{a||h(),r(a)};if(!s)return null;const x=l();return e.jsxDEV(me,{open:d,onOpenChange:v,children:e.jsxDEV(te,{className:"sm:max-w-md",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(we,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:147,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:146,columnNumber:13},this),e.jsxDEV(re,{children:"Convert to Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:145,columnNumber:11},this),e.jsxDEV(xe,{children:"A walkover awards the match to one player/team when the opponent cannot or does not participate."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:144,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"defaulting",children:"Defaulting Player/Team *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV(Ie,{value:u,onValueChange:f,children:[e.jsxDEV(Se,{children:e.jsxDEV(Pe,{placeholder:"Select who defaulted"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(Te,{children:x.map(a=>e.jsxDEV(le,{value:a.id,children:a.label},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:169,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"reason",children:"Reason *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:178,columnNumber:13},this),e.jsxDEV(Ie,{value:i,onValueChange:a=>t(a),children:[e.jsxDEV(Se,{children:e.jsxDEV(Pe,{placeholder:"Select walkover reason"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:184,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:183,columnNumber:15},this),e.jsxDEV(Te,{children:Di.map(a=>e.jsxDEV(le,{value:a.value,children:a.label},a.value,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:188,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Y,{id:"notify-walkover",checked:D,onCheckedChange:a=>o(a)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV(V,{htmlFor:"notify-walkover",className:"text-sm font-normal cursor-pointer",children:"Notify participants about this change"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:196,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:157,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>v(!1),disabled:b.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:214,columnNumber:11},this),e.jsxDEV(E,{onClick:N,disabled:b.isPending||!i||!u,children:b.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:229,columnNumber:17},this),"Converting..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:228,columnNumber:15},this):"Convert to Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:213,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:143,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/walkover-modal.tsx",lineNumber:142,columnNumber:5},this)}function gi({match:s,open:d,onOpenChange:r,onSuccess:m}){const[i,t]=L.useState(""),[u,f]=L.useState(""),[D,o]=L.useState(!0),[b,l]=L.useState(!0),g=Es(),N=async()=>{if(!(!s||!i.trim()||!u.trim()))try{await g.mutateAsync({matchId:s.id,subject:i.trim(),message:u.trim(),sendEmail:D,sendPush:b}),T.success("Message sent to participants"),r(!1),h(),m==null||m()}catch{T.error("Failed to send message")}},h=()=>{t(""),f(""),o(!0),l(!0)},v=a=>{a||h(),r(a)};if(!s)return null;const x=s.participants.map(a=>{var p,A;return((p=a.user)==null?void 0:p.name)||((A=a.user)==null?void 0:A.username)||"Unknown"}).join(", ");return e.jsxDEV(me,{open:d,onOpenChange:v,children:e.jsxDEV(te,{className:"sm:max-w-lg",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(We,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(re,{children:"Message Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:86,columnNumber:11},this),e.jsxDEV(xe,{children:"Send a message to all participants in this match."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:85,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxDEV(V,{className:"text-xs text-muted-foreground",children:"Recipients"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm mt-1",children:x},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:99,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"subject",children:"Subject *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(_e,{id:"subject",placeholder:"Enter message subject...",value:i,onChange:a=>t(a.target.value)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"message",children:"Message *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:115,columnNumber:13},this),e.jsxDEV(Le,{id:"message",placeholder:"Enter your message...",value:u,onChange:a=>f(a.target.value),className:"min-h-[120px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Delivery Options"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:126,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Y,{id:"send-email",checked:D,onCheckedChange:a=>o(a)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:129,columnNumber:17},this),e.jsxDEV(V,{htmlFor:"send-email",className:"text-sm font-normal cursor-pointer flex items-center gap-2",children:[e.jsxDEV(Ws,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:138,columnNumber:19},this),"Send via Email"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Y,{id:"send-push",checked:b,onCheckedChange:a=>l(a)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:143,columnNumber:17},this),e.jsxDEV(V,{htmlFor:"send-push",className:"text-sm font-normal cursor-pointer flex items-center gap-2",children:[e.jsxDEV(Ns,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:152,columnNumber:19},this),"Send Push Notification"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:97,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>v(!1),disabled:g.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:161,columnNumber:11},this),e.jsxDEV(E,{onClick:N,disabled:g.isPending||!i.trim()||!u.trim()||!D&&!b,children:g.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:179,columnNumber:17},this),"Sending..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:178,columnNumber:15},this):"Send Message"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:160,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:84,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/message-participants-modal.tsx",lineNumber:83,columnNumber:5},this)}function pi({match:s,open:d,onOpenChange:r,onSuccess:m}){const[i,t]=L.useState(0),[u,f]=L.useState(0),[D,o]=L.useState(""),b=As();L.useEffect(()=>{s&&d&&(t(s.team1Score??0),f(s.team2Score??0),o(""))},[s,d]);const l=async()=>{if(!(!s||!D.trim()))try{await b.mutateAsync({matchId:s.id,team1Score:i,team2Score:u,reason:D.trim()}),T.success("Match result updated successfully"),r(!1),m==null||m()}catch{T.error("Failed to update match result")}},g=h=>{h||o(""),r(h)};if(!s)return null;const N=h=>{var v,x;if(s.matchType==="SINGLES"){const a=s.participants.find(p=>p.team===h);return((v=a==null?void 0:a.user)==null?void 0:v.name)||((x=a==null?void 0:a.user)==null?void 0:x.username)||`Team ${h.slice(-1)}`}else{const a=s.participants.filter(p=>p.team===h).map(p=>{var A,U;return((A=p.user)==null?void 0:A.name)||((U=p.user)==null?void 0:U.username)||"Unknown"});return a.length>0?a.join(" & "):`Team ${h.slice(-1)}`}};return e.jsxDEV(me,{open:d,onOpenChange:g,children:e.jsxDEV(te,{className:"sm:max-w-md",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV($e,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:98,columnNumber:13},this),e.jsxDEV(re,{children:"Edit Match Result"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:97,columnNumber:11},this),e.jsxDEV(xe,{children:"Update the match score. A reason is required for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 items-center",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"team1",className:"text-xs text-center block",children:N("team1")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(_e,{id:"team1",type:"number",min:"0",value:i,onChange:h=>t(parseInt(h.target.value)||0),className:"text-center text-2xl font-bold h-14"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:111,columnNumber:13},this),e.jsxDEV("div",{className:"text-center text-2xl font-bold text-muted-foreground",children:"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"team2",className:"text-xs text-center block",children:N("team2")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(_e,{id:"team2",type:"number",min:"0",value:u,onChange:h=>f(parseInt(h.target.value)||0),className:"text-center text-2xl font-bold h-14"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"reason",children:"Reason for edit *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:143,columnNumber:13},this),e.jsxDEV(Le,{id:"reason",placeholder:"Enter the reason for editing this result...",value:D,onChange:h=>o(h.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This will be recorded in the match history for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:151,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:108,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>g(!1),disabled:b.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV(E,{onClick:l,disabled:b.isPending||!D.trim(),children:b.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:171,columnNumber:17},this),"Saving..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:170,columnNumber:15},this):"Save Changes"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:95,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-result-modal.tsx",lineNumber:94,columnNumber:5},this)}function bi({match:s,open:d,onOpenChange:r,onSuccess:m}){const[i,t]=L.useState([]),[u,f]=L.useState(""),[D,o]=L.useState(""),[b,l]=L.useState(!1),[g,N]=L.useState("team1"),[h,v]=L.useState([]),[x,a]=L.useState([]),p=Vs(),A=js(),{data:U,isLoading:I}=Us((s==null?void 0:s.divisionId)??void 0,s==null?void 0:s.id,D);L.useEffect(()=>{s&&d&&(t(s.participants.map(c=>({id:c.id,userId:c.userId,team:c.team,role:c.role,user:c.user}))),f(""),v([]),a([]),l(!1))},[s,d]);const P=L.useMemo(()=>i.filter(c=>c.team==="team1"),[i]),k=L.useMemo(()=>i.filter(c=>c.team==="team2"),[i]),oe=L.useMemo(()=>{if(!U)return[];const c=new Set(i.map(y=>y.userId));return U.filter(y=>!c.has(y.id))},[U,i]),$=c=>{const y={id:`new-${Date.now()}`,userId:c.id,team:g,role:g==="team1"?"PARTNER":"OPPONENT",user:c};t([...i,y]),l(!1),o("")},de=c=>{t(i.filter(y=>y.userId!==c))},X=(c,y)=>{t(i.map(w=>w.userId===c?{...w,team:y}:w))},ee=(c,y)=>{t(i.map(w=>w.userId===c?{...w,role:y}:w))},se=async()=>{if(!s)return;const c=i.map(y=>({userId:y.userId,team:y.team,role:y.role}));try{const y=await A.mutateAsync({matchId:s.id,participants:c});return v(y.errors),a(y.warnings),y.isValid}catch{return T.error("Failed to validate participants"),!1}},pe=async()=>{if(!s||!u.trim())return;if(!await se()){T.error("Please fix validation errors before saving");return}const y=i.map(w=>({userId:w.userId,team:w.team,role:w.role}));try{await p.mutateAsync({matchId:s.id,participants:y,reason:u.trim()}),T.success("Match participants updated successfully"),r(!1),m==null||m()}catch{T.error("Failed to update match participants")}},ie=c=>{c||(f(""),v([]),a([]),l(!1)),r(c)};if(!s)return null;const H=s.status==="COMPLETED",S=s.matchType==="SINGLES"?2:4;return e.jsxDEV(me,{open:d,onOpenChange:ie,children:e.jsxDEV(te,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:e.jsxDEV(he,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:236,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:235,columnNumber:13},this),e.jsxDEV(re,{children:"Edit Match Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:234,columnNumber:11},this),e.jsxDEV(xe,{children:H?"Warning: Editing participants for a completed match will trigger rating and standings recalculation.":"Update the participants for this match."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:233,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-6 py-4",children:[H&&e.jsxDEV(ke,{variant:"destructive",children:[e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV(Ce,{children:"This match is completed. Changes will recalculate ratings and standings for all affected players."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:250,columnNumber:13},this),h.length>0&&e.jsxDEV(ke,{variant:"destructive",children:[e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV(Ce,{children:e.jsxDEV("ul",{className:"list-disc pl-4 space-y-1",children:h.map((c,y)=>e.jsxDEV("li",{children:c},y,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:265,columnNumber:21},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:263,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:260,columnNumber:13},this),x.length>0&&e.jsxDEV(ke,{children:[e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:275,columnNumber:15},this),e.jsxDEV(Ce,{children:e.jsxDEV("ul",{className:"list-disc pl-4 space-y-1",children:x.map((c,y)=>e.jsxDEV("li",{children:c},y,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:279,columnNumber:21},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:277,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:274,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Team 1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(C,{variant:"outline",children:[P.length," players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 min-h-[100px] p-3 border rounded-lg bg-muted/30",children:[P.map(c=>e.jsxDEV(es,{participant:c,onRemove:()=>de(c.userId),onChangeRole:y=>ee(c.userId,y),onChangeTeam:y=>X(c.userId,y)},c.userId,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:296,columnNumber:19},this)),P.length<(s.matchType==="SINGLES"?1:2)&&e.jsxDEV(E,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{N("team1"),l(!0)},children:[e.jsxDEV(Je,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:314,columnNumber:21},this),"Add Player"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:289,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Team 2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:324,columnNumber:17},this),e.jsxDEV(C,{variant:"outline",children:[k.length," players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:325,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:323,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 min-h-[100px] p-3 border rounded-lg bg-muted/30",children:[k.map(c=>e.jsxDEV(es,{participant:c,onRemove:()=>de(c.userId),onChangeRole:y=>ee(c.userId,y),onChangeTeam:y=>X(c.userId,y)},c.userId,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:329,columnNumber:19},this)),k.length<(s.matchType==="SINGLES"?1:2)&&e.jsxDEV(E,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{N("team2"),l(!0)},children:[e.jsxDEV(Je,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:347,columnNumber:21},this),"Add Player"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:338,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:327,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:322,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:287,columnNumber:11},this),b&&e.jsxDEV("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(V,{children:["Select Player for ",g==="team1"?"Team 1":"Team 2"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:359,columnNumber:17},this),e.jsxDEV(E,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:e.jsxDEV(Oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:365,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:360,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:358,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:369,columnNumber:17},this),e.jsxDEV(_e,{placeholder:"Search players...",value:D,onChange:c=>o(c.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:370,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:368,columnNumber:15},this),e.jsxDEV("div",{className:"max-h-48 overflow-y-auto space-y-1",children:I?e.jsxDEV("div",{className:"flex items-center justify-center py-4",children:e.jsxDEV(Z,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:380,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:379,columnNumber:19},this):oe.length===0?e.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No available players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:383,columnNumber:19},this):oe.map(c=>{var y,w;return e.jsxDEV("button",{className:"w-full flex items-center gap-3 p-2 rounded-md hover:bg-muted transition-colors",onClick:()=>$(c),children:[e.jsxDEV(_,{className:"h-8 w-8",children:[e.jsxDEV(z,{src:c.image??void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:394,columnNumber:25},this),e.jsxDEV(M,{children:((y=c.name)==null?void 0:y.charAt(0))||((w=c.username)==null?void 0:w.charAt(0))||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:395,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:393,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 text-left",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:c.name||c.username},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:400,columnNumber:25},this),c.rating&&e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Rating: ",c.rating]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:402,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:399,columnNumber:23},this)]},c.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:388,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:377,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:357,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[i.length," of ",S," participants assigned"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:415,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"reason",children:"Reason for edit *"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:421,columnNumber:13},this),e.jsxDEV(Le,{id:"reason",placeholder:"Enter the reason for editing participants...",value:u,onChange:c=>f(c.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:422,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This will be recorded in the match history for audit purposes."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:420,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:247,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>se(),disabled:A.isPending,children:[A.isPending?e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:442,columnNumber:15},this):null,"Validate"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:436,columnNumber:11},this),e.jsxDEV(E,{variant:"outline",onClick:()=>ie(!1),disabled:p.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:446,columnNumber:11},this),e.jsxDEV(E,{onClick:pe,disabled:p.isPending||!u.trim(),children:p.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:459,columnNumber:17},this),"Saving..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:458,columnNumber:15},this):"Save Changes"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:453,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:435,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:232,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:231,columnNumber:5},this)}function es({participant:s,onRemove:d,onChangeRole:r,onChangeTeam:m}){var i,t,u,f,D,o,b;return e.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-background rounded-md border",children:[e.jsxDEV(_,{className:"h-8 w-8",children:[e.jsxDEV(z,{src:((i=s.user)==null?void 0:i.image)??void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:487,columnNumber:9},this),e.jsxDEV(M,{children:((u=(t=s.user)==null?void 0:t.name)==null?void 0:u.charAt(0))||((D=(f=s.user)==null?void 0:f.username)==null?void 0:D.charAt(0))||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:488,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:486,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-medium truncate",children:((o=s.user)==null?void 0:o.name)||((b=s.user)==null?void 0:b.username)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:495,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:e.jsxDEV(Ie,{value:s.role,onValueChange:l=>r(l),children:[e.jsxDEV(Se,{className:"h-6 text-xs w-24",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:504,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:503,columnNumber:13},this),e.jsxDEV(Te,{children:[e.jsxDEV(le,{value:"CREATOR",children:"Creator"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:507,columnNumber:15},this),e.jsxDEV(le,{value:"OPPONENT",children:"Opponent"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:508,columnNumber:15},this),e.jsxDEV(le,{value:"PARTNER",children:"Partner"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:509,columnNumber:15},this),e.jsxDEV(le,{value:"INVITED",children:"Invited"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:510,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:506,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:499,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:494,columnNumber:7},this),e.jsxDEV(E,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:d,children:e.jsxDEV(Oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:521,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:515,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/edit-participants-modal.tsx",lineNumber:485,columnNumber:5},this)}const fi=[{value:"WARNING",label:"Warning (No points deduction)"},{value:"POINTS_DEDUCTION",label:"Points Deduction"},{value:"SUSPENSION",label:"Suspension"}];function wi({match:s,open:d,onOpenChange:r,onSuccess:m}){var x,a;const[i,t]=L.useState(!1),[u,f]=L.useState(!1),[D,o]=L.useState("WARNING"),[b,l]=L.useState(""),g=ks(),N=async()=>{if(s)try{await g.mutateAsync({matchId:s.id,approved:i,applyPenalty:!i&&u,penaltySeverity:!i&&u?D:void 0,reason:b.trim()||void 0}),T.success(i?"Late cancellation approved":u?"Cancellation denied - penalty applied":"Late cancellation denied"),h(!1),m==null||m()}catch{T.error("Failed to review cancellation")}},h=p=>{p||(t(!1),f(!1),o("WARNING"),l("")),r(p)};if(!s)return null;const v=s.participants.find(p=>p.userId===s.cancelledById);return e.jsxDEV(me,{open:d,onOpenChange:h,children:e.jsxDEV(te,{className:"sm:max-w-lg",children:[e.jsxDEV(ce,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-100",children:e.jsxDEV(ne,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:110,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:109,columnNumber:13},this),e.jsxDEV(re,{children:"Review Late Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:108,columnNumber:11},this),e.jsxDEV(xe,{children:"Review this late cancellation and decide whether to approve it or apply a penalty."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:107,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"rounded-lg border p-4 space-y-2 bg-muted/30",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Match Date:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:123,columnNumber:15},this),e.jsxDEV("span",{className:"font-medium",children:ae(s.matchDate)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:122,columnNumber:13},this),v&&e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Cancelled By:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:128,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:((x=v.user)==null?void 0:x.name)||((a=v.user)==null?void 0:a.username)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:127,columnNumber:15},this),s.cancellationReason&&e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Reason:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:136,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium capitalize",children:s.cancellationReason.toLowerCase().replace(/_/g," ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:135,columnNumber:15},this),s.cancellationComment&&e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Comment:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 text-sm",children:s.cancellationComment},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Decision"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV(E,{type:"button",variant:i?"default":"outline",className:i?"bg-green-600 hover:bg-green-700":"",onClick:()=>{t(!0),f(!1)},children:[e.jsxDEV(Ds,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:163,columnNumber:17},this),"Approve"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(E,{type:"button",variant:i?"outline":"destructive",onClick:()=>t(!1),children:[e.jsxDEV(Oe,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:171,columnNumber:17},this),"Deny"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:151,columnNumber:11},this),!i&&e.jsxDEV("div",{className:"space-y-4 pt-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(V,{htmlFor:"apply-penalty",className:"text-sm font-medium",children:"Apply Penalty"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:182,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Issue a penalty to the cancelling player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:185,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:181,columnNumber:17},this),e.jsxDEV(ds,{id:"apply-penalty",checked:u,onCheckedChange:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:180,columnNumber:15},this),u&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"severity",children:"Penalty Severity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:198,columnNumber:19},this),e.jsxDEV(Ie,{value:D,onValueChange:o,children:[e.jsxDEV(Se,{children:e.jsxDEV(Pe,{placeholder:"Select severity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:201,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:200,columnNumber:21},this),e.jsxDEV(Te,{children:fi.map(p=>e.jsxDEV(le,{value:p.value,children:p.label},p.value,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:205,columnNumber:25},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:203,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:199,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:197,columnNumber:17},this),u&&e.jsxDEV(ke,{children:[e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:216,columnNumber:19},this),e.jsxDEV(Ce,{children:"A penalty notification will be sent to the player and this action will be logged."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:179,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(V,{htmlFor:"reason",children:"Admin Notes (Optional)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:227,columnNumber:13},this),e.jsxDEV(Le,{id:"reason",placeholder:"Add any notes about this decision...",value:b,onChange:p=>l(p.target.value),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:226,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV(ge,{className:"flex gap-2 sm:gap-2",children:[e.jsxDEV(E,{variant:"outline",onClick:()=>h(!1),disabled:g.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:239,columnNumber:11},this),e.jsxDEV(E,{onClick:N,disabled:g.isPending,variant:i?"default":"destructive",children:g.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:253,columnNumber:17},this),"Processing..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:252,columnNumber:15},this):i?"Approve Cancellation":u?"Deny & Apply Penalty":"Deny Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:238,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:106,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/cancellation-review-modal.tsx",lineNumber:105,columnNumber:5},this)}const G=s=>{var d,r;return((d=s.user)==null?void 0:d.name)||((r=s.user)==null?void 0:r.username)||"Unknown"},Ne=s=>{const d=G(s);return De(d)},Li=s=>({PENDING:"Pending",ACCEPTED:"Accepted",DECLINED:"Declined",EXPIRED:"Expired",CANCELLED:"Cancelled"})[s]||s;function vi({participants:s,matchType:d,maxDisplay:r=4,showTeams:m=!1,showInvitationStatus:i=!1,variant:t="inline"}){if(!s||s.length===0)return e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"No participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:49,columnNumber:12},this);const u=s.slice(0,r),f=Math.max(0,s.length-r),D=l=>{if(!i)return null;const g=l.filter(v=>v.invitationStatus==="PENDING").length,N=l.filter(v=>v.invitationStatus==="DECLINED").length,h=l.filter(v=>v.invitationStatus==="EXPIRED").length;return N>0?e.jsxDEV(C,{variant:"outline",className:j("text-[10px] px-1.5 py-0 ml-1",W("INVITATION","DECLINED")),children:"Declined"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:64,columnNumber:9},this):h>0?e.jsxDEV(C,{variant:"outline",className:j("text-[10px] px-1.5 py-0 ml-1",W("INVITATION","EXPIRED")),children:"Expired"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:71,columnNumber:9},this):g>0?e.jsxDEV(C,{variant:"outline",className:j("text-[10px] px-1.5 py-0 ml-1",W("INVITATION","PENDING")),children:"Pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:78,columnNumber:9},this):null};if(t==="stacked"){if(d==="SINGLES")return e.jsxDEV("div",{className:"flex flex-col gap-1",children:u.map(N=>{var h;return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_,{className:"size-6",children:[e.jsxDEV(z,{src:((h=N.user)==null?void 0:h.image)||void 0,alt:G(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:94,columnNumber:17},this),e.jsxDEV(M,{className:"text-[10px]",children:Ne(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:93,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[140px]",children:G(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:102,columnNumber:15},this)]},N.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:92,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:90,columnNumber:9},this);const l=s.filter(N=>N.team==="team1"),g=s.filter(N=>N.team==="team2");return e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("div",{className:"flex -space-x-1.5",children:l.slice(0,2).map(N=>{var h;return e.jsxDEV(_,{className:"size-6 ring-2 ring-background",children:[e.jsxDEV(z,{src:((h=N.user)==null?void 0:h.image)||void 0,alt:G(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:123,columnNumber:17},this),e.jsxDEV(M,{className:"text-[10px]",children:Ne(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:127,columnNumber:17},this)]},N.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:119,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:117,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:l.map(N=>G(N).split(" ")[0]).join(" & ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground pl-1",children:"vs"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:138,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("div",{className:"flex -space-x-1.5",children:g.slice(0,2).map(N=>{var h;return e.jsxDEV(_,{className:"size-6 ring-2 ring-background",children:[e.jsxDEV(z,{src:((h=N.user)==null?void 0:h.image)||void 0,alt:G(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV(M,{className:"text-[10px]",children:Ne(N)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:151,columnNumber:17},this)]},N.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:143,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:141,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:g.map(N=>G(N).split(" ")[0]).join(" & ")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:114,columnNumber:7},this)}if(d==="SINGLES")return e.jsxDEV("div",{className:"flex items-center gap-2",children:[u.map(l=>{var g;return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_,{className:"size-6",children:[e.jsxDEV(z,{src:((g=l.user)==null?void 0:g.image)||void 0,alt:G(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:172,columnNumber:15},this),e.jsxDEV(M,{className:"text-xs",children:Ne(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium",children:G(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:180,columnNumber:13},this),i&&l.invitationStatus&&e.jsxDEV(C,{variant:"outline",className:j("text-[10px] px-1.5 py-0",W("INVITATION",l.invitationStatus)),children:Li(l.invitationStatus)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:182,columnNumber:15},this)]},l.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:170,columnNumber:11},this)}),f>0&&e.jsxDEV(C,{variant:"secondary",className:"text-xs",children:["+",f," more"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:168,columnNumber:7},this);const o=s.filter(l=>l.team==="team1"),b=s.filter(l=>l.team==="team2");return e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[o.slice(0,2).map(l=>{var g;return e.jsxDEV(_,{className:"size-6 -ml-1 first:ml-0 ring-2 ring-background",children:[e.jsxDEV(z,{src:((g=l.user)==null?void 0:g.image)||void 0,alt:G(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV(M,{className:"text-[10px]",children:Ne(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:217,columnNumber:13},this)]},l.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:209,columnNumber:11},this)}),m&&e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:"(Team 1)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:223,columnNumber:11},this),D(o)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:207,columnNumber:7},this),e.jsxDEV("span",{className:"text-muted-foreground",children:"vs"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:228,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[b.slice(0,2).map(l=>{var g;return e.jsxDEV(_,{className:"size-6 -ml-1 first:ml-0 ring-2 ring-background",children:[e.jsxDEV(z,{src:((g=l.user)==null?void 0:g.image)||void 0,alt:G(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:237,columnNumber:13},this),e.jsxDEV(M,{className:"text-[10px]",children:Ne(l)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:241,columnNumber:13},this)]},l.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:233,columnNumber:11},this)}),m&&e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:"(Team 2)"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:247,columnNumber:11},this),D(b)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:231,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/match/match-participants-display.tsx",lineNumber:205,columnNumber:5},this)}const yi=s=>{switch(s==null?void 0:s.toLowerCase()){case"tennis":return"text-[#518516] bg-[#518516]/10 border border-[#518516]/30 dark:bg-[#518516]/20 dark:text-[#7cb82f] dark:border-[#518516]/40";case"badminton":return"text-rose-700 bg-rose-100 border border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800";case"pickleball":return"text-[#8e41e6] bg-[#8e41e6]/10 border border-[#8e41e6]/30 dark:bg-[#8e41e6]/20 dark:text-[#b57aff] dark:border-[#8e41e6]/40";case"padel":return"text-[#3880c0] bg-[#3880c0]/10 border border-[#3880c0]/30 dark:bg-[#3880c0]/20 dark:text-[#6ba8e0] dark:border-[#3880c0]/40";default:return"text-slate-600 bg-slate-100 border border-slate-200 dark:bg-slate-900/30 dark:text-slate-400 dark:border-slate-700"}},Ei=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"Unknown";function ha(){const[s,d]=L.useState(),[r,m]=L.useState(),[i,t]=L.useState(),[u,f]=L.useState(),[D,o]=L.useState(""),[b,l]=L.useState(!1),[g,N]=L.useState(!1),[h,v]=L.useState(1),[x,a]=L.useState(null),[p,A]=L.useState(!1),[U,I]=L.useState(!1),[P,k]=L.useState(!1),[oe,$]=L.useState(!1),[de,X]=L.useState(!1),[ee,se]=L.useState(!1),[pe,ie]=L.useState(!1),H=20,{data:S,isLoading:c,error:y,refetch:w}=Cs({leagueId:s,seasonId:r,divisionId:i,status:u,search:D||void 0,isDisputed:b||void 0,hasLateCancellation:g||void 0,page:h,limit:H}),ve=n=>{a(n),A(!0)},ye=n=>{a(n),I(!0)},He=n=>{a(n),k(!0)},Xe=n=>{a(n),$(!0)},cs=n=>{a(n),X(!0)},qe=n=>{a(n),se(!0)},rs=n=>{a(n),ie(!0)},ue=()=>{w()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(xs,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:110,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(gs,{icon:is,title:"Matches Dashboard",description:"Manage and oversee all matches across the season",actions:e.jsxDEV(E,{variant:"outline",size:"sm",children:[e.jsxDEV(qs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:114,columnNumber:17},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:113,columnNumber:139},this),children:[e.jsxDEV(ai,{leagueId:s,seasonId:r,divisionId:i},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:117,columnNumber:13},this),e.jsxDEV(mi,{selectedLeague:s,selectedSeason:r,selectedDivision:i,selectedStatus:u,searchQuery:D,showDisputedOnly:b,showLateCancellations:g,onLeagueChange:n=>{d(n),v(1)},onSeasonChange:n=>{m(n),v(1)},onDivisionChange:n=>{t(n),v(1)},onStatusChange:n=>{f(n),v(1)},onSearchChange:n=>{o(n),v(1)},onDisputedChange:n=>{l(n),v(1)},onLateCancellationChange:n=>{N(n),v(1)}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:113,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:[c?e.jsxDEV("div",{className:"space-y-4",children:[...Array(5)].map((n,q)=>e.jsxDEV(J,{className:"h-12 w-full"},q,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:145,columnNumber:46},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:144,columnNumber:26},this):y?e.jsxDEV("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxDEV(R,{className:"size-12 text-destructive mb-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:147,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Matches"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:148,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4 max-w-md",children:"There was an error loading the matches data. Please try again."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:149,columnNumber:17},this),e.jsxDEV(E,{variant:"outline",onClick:()=>w(),className:"gap-2",children:[e.jsxDEV(ss,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:153,columnNumber:19},this),"Retry"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:146,columnNumber:32},this):S&&S.matches.length>0?e.jsxDEV(ps,{children:e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV($s,{children:[e.jsxDEV(Hs,{children:e.jsxDEV(Ke,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(F,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:161,columnNumber:25},this),e.jsxDEV(F,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Sport"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:162,columnNumber:25},this),e.jsxDEV(F,{className:"w-[90px] py-2.5 font-medium text-xs",children:"Type"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:163,columnNumber:25},this),e.jsxDEV(F,{className:"py-2.5 font-medium text-xs",children:"Participants"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:164,columnNumber:25},this),e.jsxDEV(F,{className:"w-[180px] py-2.5 font-medium text-xs",children:"League / Season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:165,columnNumber:25},this),e.jsxDEV(F,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Date"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:166,columnNumber:25},this),e.jsxDEV(F,{className:"w-[120px] py-2.5 font-medium text-xs",children:"Venue"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:167,columnNumber:25},this),e.jsxDEV(F,{className:"w-[70px] py-2.5 font-medium text-xs text-center",children:"Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:168,columnNumber:25},this),e.jsxDEV(F,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:169,columnNumber:25},this),e.jsxDEV(F,{className:"w-[80px] py-2.5 font-medium text-xs",children:"Score"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:170,columnNumber:25},this),e.jsxDEV(F,{className:"w-[50px] py-2.5 pr-4 font-medium text-xs",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:171,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:160,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:159,columnNumber:21},this),e.jsxDEV(Xs,{children:S.matches.map((n,q)=>e.jsxDEV(Ke,{className:"hover:bg-muted/30",children:[e.jsxDEV(B,{className:"py-3 pl-4 text-sm text-muted-foreground",children:(h-1)*H+q+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:176,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:e.jsxDEV("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${yi(n.sport)}`,children:Ei(n.sport)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:181,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:180,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.matchType==="DOUBLES"?e.jsxDEV(he,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:188,columnNumber:64},this):e.jsxDEV(ns,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:188,columnNumber:99},this),e.jsxDEV("span",{children:n.matchType==="DOUBLES"?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:189,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:187,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:186,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:e.jsxDEV(vi,{participants:n.participants,matchType:n.matchType,maxDisplay:4,variant:"stacked"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:196,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:195,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:!n.division&&!n.leagueId?e.jsxDEV(C,{variant:"outline",className:"bg-pink-50 text-pink-600 border-pink-200 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-800",children:"Friendly"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:200,columnNumber:67},this):n.division?e.jsxDEV("div",{className:"space-y-0.5",children:[n.division.league&&e.jsxDEV(Ye,{to:"/league/view/$leagueId",params:{leagueId:n.division.league.id},className:"text-sm font-medium hover:text-primary transition-colors block truncate max-w-[160px]",children:n.division.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:203,columnNumber:59},this),n.division.season&&e.jsxDEV("span",{className:"text-xs text-muted-foreground block truncate max-w-[160px]",children:n.division.season.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:208,columnNumber:59},this),e.jsxDEV(Ye,{to:"/divisions/$divisionId",params:{divisionId:n.division.id},className:"text-xs text-muted-foreground/70 hover:text-primary transition-colors block truncate max-w-[160px]",children:n.division.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:211,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:202,columnNumber:59},this):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:216,columnNumber:40},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:199,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:new Date(n.matchDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:220,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:new Date(n.matchDate).getFullYear()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:226,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:219,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:e.jsxDEV("span",{className:"text-sm truncate block max-w-[100px]",children:n.venue||n.location||"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:232,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:231,columnNumber:27},this),e.jsxDEV(B,{className:"py-3 text-center",children:n.isDisputed||n.isWalkover||n.requiresAdminReview||n.isLateCancellation?e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[n.isDisputed&&e.jsxDEV(Ee,{children:[e.jsxDEV(Ae,{asChild:!0,children:e.jsxDEV(R,{className:"size-4 text-yellow-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:241,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:240,columnNumber:37},this),e.jsxDEV(Ve,{children:e.jsxDEV("p",{children:"Disputed"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:243,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:243,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:239,columnNumber:54},this),n.isWalkover&&e.jsxDEV(Ee,{children:[e.jsxDEV(Ae,{asChild:!0,children:e.jsxDEV(we,{className:"size-4 text-orange-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:247,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:246,columnNumber:37},this),e.jsxDEV(Ve,{children:e.jsxDEV("p",{children:"Walkover"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:249,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:249,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:245,columnNumber:54},this),n.requiresAdminReview&&e.jsxDEV(Ee,{children:[e.jsxDEV(Ae,{asChild:!0,children:e.jsxDEV(ls,{className:"size-4 text-blue-500"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:253,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:252,columnNumber:37},this),e.jsxDEV(Ve,{children:e.jsxDEV("p",{children:"Requires Admin Review"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:255,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:255,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:251,columnNumber:63},this),n.isLateCancellation&&e.jsxDEV(Ee,{children:[e.jsxDEV(Ae,{asChild:!0,children:e.jsxDEV(ne,{className:"size-4 text-orange-600"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:259,columnNumber:39},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:258,columnNumber:37},this),e.jsxDEV(Ve,{children:e.jsxDEV("p",{children:"Late Cancellation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:261,columnNumber:53},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:261,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:257,columnNumber:62},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:238,columnNumber:126},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:263,columnNumber:40},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:237,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:e.jsxDEV(ts,{status:n.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:267,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:266,columnNumber:27},this),e.jsxDEV(B,{className:"py-3",children:n.status==="COMPLETED"&&n.team1Score!==null&&n.team2Score!==null?e.jsxDEV("span",{className:"font-mono text-sm font-medium",children:[n.team1Score," - ",n.team2Score]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:271,columnNumber:119},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:273,columnNumber:41},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:270,columnNumber:27},this),e.jsxDEV(B,{className:"py-3 pr-4",children:e.jsxDEV(ti,{match:n,onView:ve,onEdit:ye,onEditParticipants:He,onVoid:Xe,onConvertToWalkover:cs,onMessage:qe,onReviewCancellation:rs},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:277,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:276,columnNumber:27},this)]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:175,columnNumber:59},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:174,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:158,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:157,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:156,columnNumber:58},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No matches found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:283,columnNumber:36},this),S&&S.totalPages>1&&e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",(h-1)*H+1," to"," ",Math.min(h*H,S.total)," of ",S.total," matches"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:288,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>v(n=>Math.max(1,n-1)),disabled:h===1,children:[e.jsxDEV(Qs,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:294,columnNumber:21},this),"Previous"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:293,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,S.totalPages)},(n,q)=>{let Q;return S.totalPages<=5||h<=3?Q=q+1:h>=S.totalPages-2?Q=S.totalPages-4+q:Q=h-2+q,e.jsxDEV(E,{variant:h===Q?"default":"outline",size:"sm",className:"w-8 h-8 p-0",onClick:()=>v(Q),children:Q},Q,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:311,columnNumber:26},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:297,columnNumber:19},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>v(n=>Math.min(S.totalPages,n+1)),disabled:h===S.totalPages,children:["Next",e.jsxDEV(Ue,{className:"size-4 ml-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:318,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:316,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:287,columnNumber:45},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:112,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:111,columnNumber:7},this),e.jsxDEV(di,{match:x,open:p,onOpenChange:A,onEdit:ye,onVoid:Xe,onMessage:qe,onEditParticipants:He},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:326,columnNumber:7},this),e.jsxDEV(pi,{match:x,open:U,onOpenChange:I,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:328,columnNumber:7},this),e.jsxDEV(hi,{match:x,open:oe,onOpenChange:$,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:330,columnNumber:7},this),e.jsxDEV(xi,{match:x,open:de,onOpenChange:X,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:332,columnNumber:7},this),e.jsxDEV(gi,{match:x,open:ee,onOpenChange:se,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:334,columnNumber:7},this),e.jsxDEV(bi,{match:x,open:P,onOpenChange:k,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:336,columnNumber:7},this),e.jsxDEV(wi,{match:x,open:pe,onOpenChange:ie,onSuccess:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:338,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/matches/index.tsx?tsr-split=component",lineNumber:109,columnNumber:10},this)}export{ha as component};
