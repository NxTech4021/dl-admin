import{Y as Le,r as b,j as e,N as ns,P as is,Q as as,d as T,E as ve,aj as we,R as ls,V as rs,F as C,h as os,am as ts,an as ms,ao as ds,ap as us,aq as cs,B as ie,ar as ps,ah as gs,t as ne,k as He,l as Ke,al as Ns,I as Qe,K as We}from"./index-CyUfinnt.js";import{T as Ds,a as xs,b as qe,c as Ye}from"./tabs-CPj9Lgbd.js";import{T as bs,a as fs,b as Je,c as $,d as v}from"./table-C8EVIzcl.js";import{t as hs,T as ys,p as vs,q as ws}from"./use-notifications-DjWw6umv.js";import{t as Ls,f as Xe,a as Me}from"./animation-variants-Don9j8OV.js";import{A as xe,a as be,b as fe}from"./avatar-BoChKG7U.js";import{F as As}from"./filter-select-yeyTcvL6.js";import{C as Es}from"./confirmation-modal-DgTWM4_B.js";import{I as Us}from"./IconChartBar-0VfBaEGA.js";import{I as Ze}from"./IconTarget-B8ageLUn.js";import{I as js}from"./IconAlertTriangle-DVPmxQ8J.js";import{m as ye}from"./site-header-SOpv2JXk.js";import"./index-BRINdKbK.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],Ss=Le("outline","arrows-sort","ArrowsSort",Vs);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],Ts=Le("outline","sort-ascending","SortAscending",Cs);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],ks=Le("outline","sort-descending","SortDescending",Ps),Is=t=>t>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":t>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":t>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":t>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700",zs=t=>t?t.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2):"?",Rs=t=>{const g=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!t)return g[0];const D=t.split("").reduce((c,G)=>c+G.charCodeAt(0),0);return g[D%g.length]};function Bs({isOpen:t,onOpenChange:g,member:D,teamMembers:c,divisions:G,seasonId:ae,onAssigned:m,adminId:le,getSportRating:P,gameType:Ae}){var H,K,S,X,de,M;const w=c&&c.length>0,[k,Q]=b.useState(""),[V,F]=b.useState(!1),[I,_]=b.useState(!1),[z,W]=b.useState(null);b.useEffect(()=>{var a;if(t){const u=(D==null?void 0:D.divisionId)||((a=c==null?void 0:c[0])==null?void 0:a.divisionId)||"";Q(u)}},[t,D,c]);const re=a=>{if(!a)return"Unassigned";const u=G.find(h=>h.id===a);return u?u.name:"Unassigned"},R=()=>G.find(a=>a.id===k),oe=(D==null?void 0:D.divisionId)||((H=c==null?void 0:c[0])==null?void 0:H.divisionId)||((K=c==null?void 0:c[1])==null?void 0:K.divisionId)||null,U=!!oe,te=()=>{const a=R();if(!(a!=null&&a.threshold)||!P)return!1;const u=a.threshold;return w&&c?c.some(h=>P(h).value>u):D?P(D).value>u:!1},me=async(a=!1)=>{var u,h;if(!D||!k){ne.error("Please select a division");return}F(!0);try{w&&c?(await Promise.all(c.map(L=>He.post(Ke.division.assignPlayer,{userId:L.userId,divisionId:k,seasonId:ae,assignedBy:le,overrideThreshold:a}))),ne.success("Team assigned to division successfully!")):(await He.post(Ke.division.assignPlayer,{userId:D.userId,divisionId:k,seasonId:ae,assignedBy:le,overrideThreshold:a}),ne.success("Player assigned to division successfully!")),g(!1),m&&await m()}catch(L){ne.error(((h=(u=L.response)==null?void 0:u.data)==null?void 0:h.error)||`Failed to assign ${w?"team":"player"} to division`)}finally{F(!1),W(null)}},q=async()=>{if(!D||!k){ne.error("Please select a division");return}if(te()){W(()=>()=>me(!0)),_(!0);return}await me(!1)},Y=()=>{_(!1),z&&z()},J=w&&c?c:D?[D]:[];return e.jsxDEV(ns,{open:t,onOpenChange:g,children:[e.jsxDEV(is,{className:"sm:max-w-md p-0 gap-0 overflow-hidden",children:[e.jsxDEV("div",{className:"bg-muted/30 border-b border-border/50",children:e.jsxDEV(as,{className:"px-5 pt-5 pb-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:T("flex items-center justify-center size-10 rounded-xl",U?"bg-amber-100 dark:bg-amber-900/30":"bg-primary/10"),children:w?e.jsxDEV(ve,{className:T("size-5",U?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:242,columnNumber:19},this):e.jsxDEV(we,{className:T("size-5",U?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:247,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(ls,{className:"text-base font-semibold",children:U?w?"Reassign Team":"Reassign Player":w?"Assign Team to Division":"Assign to Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:254,columnNumber:17},this),e.jsxDEV(rs,{className:"text-sm text-muted-foreground",children:U?"Select a new division for this assignment":"Select a division to assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:233,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:232,columnNumber:9},this),e.jsxDEV("div",{className:"px-5 py-4 space-y-4",children:[e.jsxDEV("div",{className:"rounded-xl border border-border/50 bg-muted/20 overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 border-b border-border/50",children:[w?e.jsxDEV(ve,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:274,columnNumber:17},this):e.jsxDEV(we,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:276,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:w?"Team Members":"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:272,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 space-y-2",children:J.map(a=>{var h,L,O,Z,ue,ce,ee;const u=P?P(a):null;return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxDEV(xe,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(be,{src:((h=a.user)==null?void 0:h.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:292,columnNumber:25},this),e.jsxDEV(fe,{className:`text-white font-semibold text-xs ${Rs((L=a.user)==null?void 0:L.name)}`,children:zs((O=a.user)==null?void 0:O.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:293,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:291,columnNumber:23},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((Z=a.user)==null?void 0:Z.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:298,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",((ue=a.user)==null?void 0:ue.username)||((ee=(ce=a.user)==null?void 0:ce.email)==null?void 0:ee.split("@")[0])||"unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:301,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:297,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:290,columnNumber:21},this),u&&e.jsxDEV(C,{variant:"outline",className:T("text-xs font-mono border shrink-0",u.value>0?Is(u.value):"text-muted-foreground"),children:[e.jsxDEV(Us,{className:"size-3 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:314,columnNumber:25},this),u.display]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:307,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:286,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:271,columnNumber:11},this),U&&e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxDEV(Ze,{className:"size-4 text-muted-foreground shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Current:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:328,columnNumber:15},this),e.jsxDEV(C,{variant:"outline",className:"text-xs font-normal",children:re(oe)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:329,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(os,{className:"text-sm font-medium flex items-center gap-1.5",children:[e.jsxDEV(Ze,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:338,columnNumber:15},this),U?"New Division":"Division",e.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:337,columnNumber:13},this),e.jsxDEV(ts,{value:k,onValueChange:Q,children:[e.jsxDEV(ms,{className:"h-10",children:e.jsxDEV(ds,{placeholder:"Select a division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:347,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:346,columnNumber:15},this),e.jsxDEV(us,{children:G.map(a=>{const u=a.threshold!==null&&a.threshold!==void 0;return e.jsxDEV(cs,{value:a.id,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:355,columnNumber:25},this),u&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(max: ",a.threshold,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:357,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:354,columnNumber:23},this)},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:353,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:336,columnNumber:11},this),k&&te()&&e.jsxDEV("div",{className:"flex items-start gap-3 px-3 py-2.5 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800",children:[e.jsxDEV(js,{className:"size-4 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Rating exceeds threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:374,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[w?"One or more team members have":"This player has"," a rating above the division threshold of ",(S=R())==null?void 0:S.threshold,". You can still proceed."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:377,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:371,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:269,columnNumber:9},this),e.jsxDEV("div",{className:"bg-muted/20 border-t border-border/50 px-5 py-4",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-3",children:[e.jsxDEV(ie,{variant:"ghost",onClick:()=>g(!1),disabled:V,className:"text-muted-foreground hover:text-foreground",children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:388,columnNumber:13},this),e.jsxDEV(ie,{onClick:q,disabled:V||!k,className:T("gap-2 min-w-[120px]",U&&"bg-amber-600 hover:bg-amber-700 text-white"),children:V?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ps,{className:"size-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:406,columnNumber:19},this),U?"Reassigning...":"Assigning..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:405,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[U?"Reassign":"Assign",e.jsxDEV(gs,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:410,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:396,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:387,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:386,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:230,columnNumber:7},this),e.jsxDEV(Es,{open:I,onOpenChange:_,title:"Rating Exceeds Division Threshold",description:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("p",{children:w?`One or more team members have ratings that exceed the division threshold of ${((X=R())==null?void 0:X.threshold)||0} points.`:`This player's rating exceeds the division threshold of ${((de=R())==null?void 0:de.threshold)||0} points.`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:427,columnNumber:13},this),P&&e.jsxDEV("div",{className:"rounded-lg border border-border/50 bg-muted/30 p-3 space-y-2",children:[e.jsxDEV("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Current Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:438,columnNumber:17},this),J.map(a=>{var L,O;const u=P(a),h=u.value>(((L=R())==null?void 0:L.threshold)||0);return e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{children:((O=a.user)==null?void 0:O.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:446,columnNumber:23},this),e.jsxDEV(C,{variant:"outline",className:T("text-xs font-mono",h?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":""),children:u.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:447,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:445,columnNumber:21},this)}),e.jsxDEV("div",{className:"pt-2 mt-2 border-t border-border/50 flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Division Threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:462,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium",children:((M=R())==null?void 0:M.threshold)||0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:463,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:461,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:437,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Do you want to proceed with this assignment?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:467,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:426,columnNumber:11},this),confirmText:"Proceed Anyway",cancelText:"Cancel",onConfirm:Y,variant:"default"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:421,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:229,columnNumber:5},this)}const es=t=>{switch(t==null?void 0:t.toUpperCase()){case"ACTIVE":return"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800";case"PENDING":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},ss=t=>t>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":t>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":t>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":t>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700";function Ms({memberships:t,divisions:g=[],sportType:D,seasonId:c,onMembershipUpdated:G,adminId:ae,season:m}){const[le,P]=b.useState(!1),[Ae,w]=b.useState(null),[k,Q]=b.useState(null),[V,F]=b.useState(""),[I,_]=b.useState(void 0),[z,W]=b.useState(""),[re,R]=b.useState("active"),[oe,U]=b.useState(null),[te,me]=b.useState(null),q=s=>s?s.split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2):"?",Y=s=>{const n=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!s)return n[0];const l=s.split("").reduce((i,x)=>i+x.charCodeAt(0),0);return n[l%n.length]},J=s=>{if(!s)return"Unassigned";const n=g.find(l=>l.id===s);return n?n.name:"Unassigned"},H=s=>{var n;return s&&(s.displayUsername||s.username||((n=s.email)==null?void 0:n.split("@")[0]))||"unknown"},K=()=>{var l,i,x,o;const s=((l=m==null?void 0:m.category)==null?void 0:l.gameType)||((i=m==null?void 0:m.category)==null?void 0:i.game_type);if(s){const p=String(s).toUpperCase().trim();if(p==="DOUBLES")return"DOUBLES";if(p==="SINGLES")return"SINGLES"}const n=(o=(x=m==null?void 0:m.leagues)==null?void 0:x[0])==null?void 0:o.gameType;if(n){const p=String(n).toUpperCase().trim();if(p==="DOUBLES")return"DOUBLES";if(p==="SINGLES")return"SINGLES"}if(m!=null&&m.partnerships&&m.partnerships.length>0)return"DOUBLES";if(g&&g.length>0){if(g.find(A=>{const d=A.gameType||A.gameType;return d&&String(d).toUpperCase().trim()==="DOUBLES"}))return"DOUBLES";if(g.find(A=>{const d=A.gameType||A.gameType;return d&&String(d).toUpperCase().trim()==="SINGLES"}))return"SINGLES"}return"SINGLES"},S=s=>{var B,A,d,j,E,f;const n=(A=(B=m==null?void 0:m.leagues)==null?void 0:B[0])==null?void 0:A.sportType,l=K();if(!l)return{display:"N/A",value:0,color:"gray"};let i=(j=(d=s.user)==null?void 0:d.questionnaireResponses)==null?void 0:j.find(N=>n&&N.sport&&N.sport.toLowerCase()===n.toLowerCase()&&N.completedAt&&N.result);if(i!=null&&i.result||(i=(f=(E=s.user)==null?void 0:E.questionnaireResponses)==null?void 0:f.find(N=>N.completedAt&&N.result)),!(i!=null&&i.result))return{display:"N/A",value:0,color:"gray"};const x=l==="DOUBLES";let o;if(x?(o=i.result.doubles,(!o||o===0)&&(o=i.result.singles)):(o=i.result.singles,(!o||o===0)&&(o=i.result.doubles)),!o||o===0){const N=i.result.rating;N&&N>0&&(o=N)}if(!o||o===0)return{display:"N/A",value:0,color:"gray"};let p="green";return o>=4500?p="purple":o>=4e3?p="blue":o>=3500?p="green":o>=3e3?p="yellow":p="gray",{display:o.toString(),value:o,color:p}},X=s=>{var n;return(n=m==null?void 0:m.partnerships)==null?void 0:n.find(l=>l.captainId===s||l.partnerId===s)},de=s=>t.find(n=>n.userId===s),M=s=>{var l;if(s.divisionId!==null&&s.divisionId!==void 0)return!0;const n=(l=m==null?void 0:m.partnerships)==null?void 0:l.find(i=>i.captainId===s.userId||i.partnerId===s.userId);return(n==null?void 0:n.divisionId)!==null&&(n==null?void 0:n.divisionId)!==void 0},a=s=>{if(s.divisionId)return s.divisionId;const n=X(s.userId||"");return(n==null?void 0:n.divisionId)||null},u=b.useMemo(()=>{let s=t;if(V.trim()){const l=V.toLowerCase().trim();s=s.filter(i=>{var B,A,d,j,E,f;const x=((A=(B=i.user)==null?void 0:B.name)==null?void 0:A.toLowerCase())||"",o=((j=(d=i.user)==null?void 0:d.username)==null?void 0:j.toLowerCase())||"",p=((f=(E=i.user)==null?void 0:E.email)==null?void 0:f.toLowerCase())||"";return x.includes(l)||o.includes(l)||p.includes(l)})}I&&(s=s.filter(l=>a(l)===I));const n=parseInt(z);return!isNaN(n)&&n>0&&(s=s.filter(l=>S(l).value>=n)),s},[t,V,I,z]),h=u.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&M(s)),L=u.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&!M(s)),O=g.map(s=>({value:s.id,label:s.name})),Z=V||I||z,ue=()=>{F(""),_(void 0),W("")},ce=s=>{const n=new Set,l=[];for(const i of s){if(n.has(i.userId||""))continue;const x=X(i.userId||"");if(x){const o=x.captainId===i.userId?x.partnerId:x.captainId,p=de(o);p?(l.push({type:"partnership",memberships:[i,p],partnership:x}),n.add(i.userId||""),n.add(o)):(l.push({type:"individual",memberships:[i]}),n.add(i.userId||""))}else l.push({type:"individual",memberships:[i]}),n.add(i.userId||"")}return l},ee=(s,n=!1)=>{n&&Array.isArray(s)?(w(s[0]),Q(s)):(w(Array.isArray(s)?s[0]:s),Q(null)),P(!0)},he=b.useRef(!1),pe=`${re}-${V}-${I}-${z}`,Ee=b.useRef(pe);pe!==Ee.current&&(he.current=!1,Ee.current=pe);const Ue=({players:s,isWaitlistTab:n=!1,sortDirection:l,onSortChange:i})=>{const x=ce(s);K();const o=d=>{if(d.type==="partnership"&&d.memberships.length===2){const[j,E]=d.memberships,f=S(j),N=S(E);return f.value>0&&N.value>0?Math.round((f.value+N.value)/2):f.value>0?f.value:N.value}else return S(d.memberships[0]).value},p=l?[...x].sort((d,j)=>{const E=o(d),f=o(j);return l==="desc"?f-E:E-f}):x,B=()=>{i(l===null?"desc":l==="desc"?"asc":null)},A=l==="desc"?ks:l==="asc"?Ts:Ss;return e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(bs,{children:[e.jsxDEV(fs,{children:e.jsxDEV(Je,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV($,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:509,columnNumber:15},this),e.jsxDEV($,{className:"py-2.5 font-medium text-xs min-w-[240px]",children:"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:510,columnNumber:15},this),e.jsxDEV($,{className:"w-[140px] py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:511,columnNumber:15},this),e.jsxDEV($,{className:"w-[100px] py-2.5 font-medium text-xs",children:e.jsxDEV("button",{onClick:B,className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Rating",e.jsxDEV(A,{className:T("size-3.5",l?"text-foreground":"text-muted-foreground")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:518,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:513,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:512,columnNumber:15},this),e.jsxDEV($,{className:"w-[120px] py-2.5 font-medium text-xs",children:"Joined"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:521,columnNumber:15},this),e.jsxDEV($,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:522,columnNumber:15},this),e.jsxDEV($,{className:"w-[140px] py-2.5 pr-4 font-medium text-xs text-right",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:523,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:508,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:507,columnNumber:11},this),e.jsxDEV(ye.tbody,{initial:he.current?!1:"hidden",animate:"visible",variants:Ls,onAnimationComplete:()=>{he.current=!0},children:p.length>0?p.map((d,j)=>{var E,f,N,je,Ve,Se,Ce,Te,Pe,ke,Ie,ze,Re,Be,Ge,Oe,$e,Fe;if(d.type==="partnership"&&d.memberships.length===2){const[r,y]=d.memberships,se=S(r),ge=S(y),Ne=d.partnership,De=se.value>0&&ge.value>0?Math.round((se.value+ge.value)/2):se.value>0?se.value:ge.value,_e=(Ne==null?void 0:Ne.divisionId)||r.divisionId||y.divisionId||null;return e.jsxDEV(ye.tr,{variants:Me,transition:Xe,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(v,{className:"py-3 pl-4 text-sm text-muted-foreground",children:j+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:557,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex -space-x-2",children:[e.jsxDEV(xe,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(be,{src:((E=r.user)==null?void 0:E.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:566,columnNumber:31},this),e.jsxDEV(fe,{className:`text-white font-semibold text-[10px] ${Y((f=r.user)==null?void 0:f.name)}`,children:q((N=r.user)==null?void 0:N.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:567,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:565,columnNumber:29},this),e.jsxDEV(xe,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(be,{src:((je=y.user)==null?void 0:je.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:572,columnNumber:31},this),e.jsxDEV(fe,{className:`text-white font-semibold text-[10px] ${Y((Ve=y.user)==null?void 0:Ve.name)}`,children:q((Se=y.user)==null?void 0:Se.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:573,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:571,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:564,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:[((Ce=r.user)==null?void 0:Ce.name)||"Unknown"," & ",((Te=y.user)==null?void 0:Te.name)||"Unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:580,columnNumber:31},this),e.jsxDEV(C,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-4 shrink-0",children:[e.jsxDEV(ve,{className:"size-2.5 mr-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:584,columnNumber:33},this),"Team"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:583,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:579,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",H(r.user)," & @",H(y.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:588,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:578,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:563,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:562,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV(C,{variant:"outline",className:"text-xs font-normal",children:J(_e)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:597,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:596,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:De>0?e.jsxDEV(ys,{children:[e.jsxDEV(vs,{asChild:!0,children:e.jsxDEV(C,{variant:"outline",className:T("text-xs font-mono cursor-help border",ss(De)),children:De},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:607,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:606,columnNumber:29},this),e.jsxDEV(ws,{side:"top",className:"text-xs",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"font-medium text-muted-foreground mb-1",children:"Individual Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:616,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((ke=(Pe=r.user)==null?void 0:Pe.name)==null?void 0:ke.split(" ")[0])||"Player 1",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:618,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:se.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:619,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:617,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((ze=(Ie=y.user)==null?void 0:Ie.name)==null?void 0:ze.split(" ")[0])||"Player 2",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:622,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:ge.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:623,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:621,columnNumber:33},this),e.jsxDEV("div",{className:"border-t pt-1 mt-1 flex items-center justify-between gap-4",children:[e.jsxDEV("span",{className:"font-medium",children:"Average:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:626,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-semibold",children:De},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:627,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:625,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:615,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:614,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:605,columnNumber:27},this):e.jsxDEV(C,{variant:"outline",className:"text-xs font-mono text-muted-foreground",children:"N/A"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:633,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:603,columnNumber:23},this),e.jsxDEV(v,{className:"py-3 text-sm text-muted-foreground",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:640,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV(C,{variant:"outline",className:T("text-xs font-medium border capitalize",es(r.status==="ACTIVE"||y.status==="ACTIVE"?"ACTIVE":r.status)),children:r.status==="ACTIVE"||y.status==="ACTIVE"?"Active":((Re=r.status)==null?void 0:Re.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:652,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:651,columnNumber:23},this),e.jsxDEV(v,{className:"py-3 pr-4 text-right",children:e.jsxDEV(ie,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>ee([r,y],!0),children:_e?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:666,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:665,columnNumber:23},this)]},`partnership-${Ne.id}`,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:550,columnNumber:21},this)}else{const r=d.memberships[0],y=S(r);return e.jsxDEV(ye.tr,{variants:Me,transition:Xe,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(v,{className:"py-3 pl-4 text-sm text-muted-foreground",children:j+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:690,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(xe,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(be,{src:((Be=r.user)==null?void 0:Be.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:698,columnNumber:29},this),e.jsxDEV(fe,{className:`text-white font-semibold text-[10px] ${Y((Ge=r.user)==null?void 0:Ge.name)}`,children:q((Oe=r.user)==null?void 0:Oe.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:699,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:697,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:(($e=r.user)==null?void 0:$e.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:704,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",H(r.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:707,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:703,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:696,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:695,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV(C,{variant:"outline",className:"text-xs font-normal",children:J(r.divisionId??null)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:716,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:715,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV(C,{variant:"outline",className:T("text-xs font-mono border",y.value>0?ss(y.value):"text-muted-foreground"),children:y.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:723,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:722,columnNumber:23},this),e.jsxDEV(v,{className:"py-3 text-sm text-muted-foreground",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:735,columnNumber:23},this),e.jsxDEV(v,{className:"py-3",children:e.jsxDEV(C,{variant:"outline",className:T("text-xs font-medium border capitalize",es(r.status)),children:((Fe=r==null?void 0:r.status)==null?void 0:Fe.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:747,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:746,columnNumber:23},this),e.jsxDEV(v,{className:"py-3 pr-4 text-right",children:e.jsxDEV(ie,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>ee(r,!1),children:r.divisionId?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:757,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:756,columnNumber:23},this)]},r.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:683,columnNumber:21},this)}}):e.jsxDEV(Je,{children:e.jsxDEV(v,{colSpan:7,className:"h-32 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:e.jsxDEV(we,{className:"size-6 opacity-50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:775,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:774,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"No players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:778,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs",children:Z?"Try adjusting your filters":n?"All players have been assigned to divisions":"Players will appear here once they are assigned to divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:779,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:777,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:773,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:772,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:771,columnNumber:15},this)},pe,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:526,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:506,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:505,columnNumber:7},this)};return e.jsxDEV(hs,{children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold tracking-tight",children:["Season Players (",t.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:802,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:808,columnNumber:15},this),e.jsxDEV(Qe,{type:"text",placeholder:"Search players...",value:V,onChange:s=>F(s.target.value),className:"w-full sm:w-56 pl-9 pr-9 h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:809,columnNumber:15},this),V&&e.jsxDEV("button",{onClick:()=>F(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsxDEV(We,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:821,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:817,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:807,columnNumber:13},this),g.length>0&&e.jsxDEV(As,{value:I,onChange:_,options:O,placeholder:"Division",allLabel:"All Divisions",triggerClassName:"w-[150px] h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:828,columnNumber:15},this),e.jsxDEV(Qe,{type:"number",placeholder:"Min rating",value:z,onChange:s=>W(s.target.value),className:"w-28 h-9",min:0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:839,columnNumber:13},this),Z&&e.jsxDEV(ie,{variant:"ghost",size:"sm",onClick:ue,className:"h-9 px-2 text-muted-foreground hover:text-foreground",children:[e.jsxDEV(We,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:856,columnNumber:17},this),"Clear"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:850,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:805,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:801,columnNumber:9},this),e.jsxDEV(Ds,{value:re,onValueChange:R,className:"w-full",children:[e.jsxDEV(xs,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxDEV(qe,{value:"active",className:"text-sm",children:["In Division (",h.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:866,columnNumber:13},this),e.jsxDEV(qe,{value:"waitlisted",className:"text-sm",children:["Awaiting Division (",L.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:869,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:865,columnNumber:11},this),e.jsxDEV(Ye,{value:"active",className:"mt-0",children:e.jsxDEV(Ue,{players:h,isWaitlistTab:!1,sortDirection:oe,onSortChange:U},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:874,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:873,columnNumber:11},this),e.jsxDEV(Ye,{value:"waitlisted",className:"mt-0",children:e.jsxDEV(Ue,{players:L,isWaitlistTab:!0,sortDirection:te,onSortChange:me},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:882,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:881,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:864,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:799,columnNumber:7},this),e.jsxDEV(Bs,{isOpen:le,onOpenChange:P,member:Ae,teamMembers:k,divisions:g,seasonId:c,onAssigned:G,adminId:ae||"",getSportRating:S,gameType:K()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:892,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:798,columnNumber:5},this)}export{Ms as default};
