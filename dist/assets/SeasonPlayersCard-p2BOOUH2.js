import{r as A,j as e,P as Ge,Q as Fe,R as $e,d as S,a4 as Ne,ag as De,V as He,W as Qe,J as U,h as We,aj as Je,ak as qe,al as Xe,am as Ye,an as _e,B as se,ao as Ke,ae as Ze,t as ee,k as je,l as Ve,ai as Me,I as Ce,N as Se}from"./index-BkrdirJj.js";import{T as es,a as ss,b as Te,c as Pe}from"./tabs-Ck_7DR3b.js";import{T as ns,a as is,b as Ie,c as G,d as b}from"./table-DiiNXiTr.js";import{r as as,T as ls,p as rs,q as os}from"./use-notifications-DAD8UARx.js";import{t as ms,f as ke,a as ze}from"./animation-variants-Don9j8OV.js";import{A as de,a as ue,b as ce}from"./avatar-C9ifX_Hl.js";import{F as ts}from"./filter-select-BmR9Q8ze.js";import{C as ds}from"./confirmation-modal-BFWwAiu1.js";import{I as us}from"./IconChartBar-G2KS-nVU.js";import{I as Be}from"./IconTarget-BtcaR0VX.js";import{I as cs}from"./IconAlertTriangle-DaApYuDJ.js";import{m as ge}from"./site-header-Kxze_Hjr.js";import"./index-Cj_5DdYs.js";const ps=m=>m>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":m>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":m>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":m>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700",gs=m=>m?m.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2):"?",Ns=m=>{const g=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!m)return g[0];const N=m.split("").reduce((d,B)=>d+B.charCodeAt(0),0);return g[N%g.length]};function Ds({isOpen:m,onOpenChange:g,member:N,teamMembers:d,divisions:B,seasonId:ne,onAssigned:t,adminId:ie,getSportRating:E,gameType:xe}){var le,Y,_,K,re,Z;const f=d&&d.length>0,[j,Q]=A.useState(""),[V,F]=A.useState(!1),[R,$]=A.useState(!1),[O,W]=A.useState(null);A.useEffect(()=>{var a;if(m){const u=(N==null?void 0:N.divisionId)||((a=d==null?void 0:d[0])==null?void 0:a.divisionId)||"";Q(u)}},[m,N,d]);const J=a=>{if(!a)return"Unassigned";const u=B.find(D=>D.id===a);return u?u.name:"Unassigned"},C=()=>B.find(a=>a.id===j),q=(N==null?void 0:N.divisionId)||((le=d==null?void 0:d[0])==null?void 0:le.divisionId)||((Y=d==null?void 0:d[1])==null?void 0:Y.divisionId)||null,y=!!q,H=()=>{const a=C();if(!(a!=null&&a.threshold)||!E)return!1;const u=a.threshold;return f&&d?d.some(D=>E(D).value>u):N?E(N).value>u:!1},P=async(a=!1)=>{var u,D;if(!N||!j){ee.error("Please select a division");return}F(!0);try{f&&d?(await Promise.all(d.map(L=>je.post(Ve.division.assignPlayer,{userId:L.userId,divisionId:j,seasonId:ne,assignedBy:ie,overrideThreshold:a}))),ee.success("Team assigned to division successfully!")):(await je.post(Ve.division.assignPlayer,{userId:N.userId,divisionId:j,seasonId:ne,assignedBy:ie,overrideThreshold:a}),ee.success("Player assigned to division successfully!")),g(!1),t&&await t()}catch(L){ee.error(((D=(u=L.response)==null?void 0:u.data)==null?void 0:D.error)||`Failed to assign ${f?"team":"player"} to division`)}finally{F(!1),W(null)}},ae=async()=>{if(!N||!j){ee.error("Please select a division");return}if(H()){W(()=>()=>P(!0)),$(!0);return}await P(!1)},pe=()=>{$(!1),O&&O()},X=f&&d?d:N?[N]:[];return e.jsxDEV(Ge,{open:m,onOpenChange:g,children:[e.jsxDEV(Fe,{className:"sm:max-w-md p-0 gap-0 overflow-hidden",children:[e.jsxDEV("div",{className:"bg-muted/30 border-b border-border/50",children:e.jsxDEV($e,{className:"px-5 pt-5 pb-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:S("flex items-center justify-center size-10 rounded-xl",y?"bg-amber-100 dark:bg-amber-900/30":"bg-primary/10"),children:f?e.jsxDEV(Ne,{className:S("size-5",y?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:242,columnNumber:19},this):e.jsxDEV(De,{className:S("size-5",y?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:247,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(He,{className:"text-base font-semibold",children:y?f?"Reassign Team":"Reassign Player":f?"Assign Team to Division":"Assign to Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:254,columnNumber:17},this),e.jsxDEV(Qe,{className:"text-sm text-muted-foreground",children:y?"Select a new division for this assignment":"Select a division to assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:233,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:232,columnNumber:9},this),e.jsxDEV("div",{className:"px-5 py-4 space-y-4",children:[e.jsxDEV("div",{className:"rounded-xl border border-border/50 bg-muted/20 overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 border-b border-border/50",children:[f?e.jsxDEV(Ne,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:274,columnNumber:17},this):e.jsxDEV(De,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:276,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:f?"Team Members":"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:272,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 space-y-2",children:X.map(a=>{var D,L,s,n,l,i,p;const u=E?E(a):null;return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxDEV(de,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(ue,{src:((D=a.user)==null?void 0:D.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:292,columnNumber:25},this),e.jsxDEV(ce,{className:`text-white font-semibold text-xs ${Ns((L=a.user)==null?void 0:L.name)}`,children:gs((s=a.user)==null?void 0:s.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:293,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:291,columnNumber:23},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((n=a.user)==null?void 0:n.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:298,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",((l=a.user)==null?void 0:l.username)||((p=(i=a.user)==null?void 0:i.email)==null?void 0:p.split("@")[0])||"unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:301,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:297,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:290,columnNumber:21},this),u&&e.jsxDEV(U,{variant:"outline",className:S("text-xs font-mono border shrink-0",u.value>0?ps(u.value):"text-muted-foreground"),children:[e.jsxDEV(us,{className:"size-3 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:314,columnNumber:25},this),u.display]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:307,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:286,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:271,columnNumber:11},this),y&&e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxDEV(Be,{className:"size-4 text-muted-foreground shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Current:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:328,columnNumber:15},this),e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:J(q)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:329,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(We,{className:"text-sm font-medium flex items-center gap-1.5",children:[e.jsxDEV(Be,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:338,columnNumber:15},this),y?"New Division":"Division",e.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:337,columnNumber:13},this),e.jsxDEV(Je,{value:j,onValueChange:Q,children:[e.jsxDEV(qe,{className:"h-10",children:e.jsxDEV(Xe,{placeholder:"Select a division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:347,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:346,columnNumber:15},this),e.jsxDEV(Ye,{children:B.map(a=>{const u=a.threshold!==null&&a.threshold!==void 0;return e.jsxDEV(_e,{value:a.id,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:355,columnNumber:25},this),u&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(max: ",a.threshold,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:357,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:354,columnNumber:23},this)},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:353,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:336,columnNumber:11},this),j&&H()&&e.jsxDEV("div",{className:"flex items-start gap-3 px-3 py-2.5 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800",children:[e.jsxDEV(cs,{className:"size-4 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Rating exceeds threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:374,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[f?"One or more team members have":"This player has"," a rating above the division threshold of ",(_=C())==null?void 0:_.threshold,". You can still proceed."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:377,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:371,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:269,columnNumber:9},this),e.jsxDEV("div",{className:"bg-muted/20 border-t border-border/50 px-5 py-4",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-3",children:[e.jsxDEV(se,{variant:"ghost",onClick:()=>g(!1),disabled:V,className:"text-muted-foreground hover:text-foreground",children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:388,columnNumber:13},this),e.jsxDEV(se,{onClick:ae,disabled:V||!j,className:S("gap-2 min-w-[120px]",y&&"bg-amber-600 hover:bg-amber-700 text-white"),children:V?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ke,{className:"size-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:406,columnNumber:19},this),y?"Reassigning...":"Assigning..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:405,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[y?"Reassign":"Assign",e.jsxDEV(Ze,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:410,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:396,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:387,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:386,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:230,columnNumber:7},this),e.jsxDEV(ds,{open:R,onOpenChange:$,title:"Rating Exceeds Division Threshold",description:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("p",{children:f?`One or more team members have ratings that exceed the division threshold of ${((K=C())==null?void 0:K.threshold)||0} points.`:`This player's rating exceeds the division threshold of ${((re=C())==null?void 0:re.threshold)||0} points.`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:427,columnNumber:13},this),E&&e.jsxDEV("div",{className:"rounded-lg border border-border/50 bg-muted/30 p-3 space-y-2",children:[e.jsxDEV("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Current Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:438,columnNumber:17},this),X.map(a=>{var L,s;const u=E(a),D=u.value>(((L=C())==null?void 0:L.threshold)||0);return e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{children:((s=a.user)==null?void 0:s.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:446,columnNumber:23},this),e.jsxDEV(U,{variant:"outline",className:S("text-xs font-mono",D?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":""),children:u.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:447,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:445,columnNumber:21},this)}),e.jsxDEV("div",{className:"pt-2 mt-2 border-t border-border/50 flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Division Threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:462,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium",children:((Z=C())==null?void 0:Z.threshold)||0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:463,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:461,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:437,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Do you want to proceed with this assignment?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:467,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:426,columnNumber:11},this),confirmText:"Proceed Anyway",cancelText:"Cancel",onConfirm:pe,variant:"default"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:421,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:229,columnNumber:5},this)}const Re=m=>{switch(m==null?void 0:m.toUpperCase()){case"ACTIVE":return"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800";case"PENDING":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},Oe=m=>m>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":m>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":m>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":m>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700";function Cs({memberships:m,divisions:g=[],sportType:N,seasonId:d,onMembershipUpdated:B,adminId:ne,season:t}){const[ie,E]=A.useState(!1),[xe,f]=A.useState(null),[j,Q]=A.useState(null),[V,F]=A.useState(""),[R,$]=A.useState(void 0),[O,W]=A.useState(""),J=s=>s?s.split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2):"?",C=s=>{const n=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!s)return n[0];const l=s.split("").reduce((i,p)=>i+p.charCodeAt(0),0);return n[l%n.length]},q=s=>{if(!s)return"Unassigned";const n=g.find(l=>l.id===s);return n?n.name:"Unassigned"},y=s=>{var n;return s&&(s.displayUsername||s.username||((n=s.email)==null?void 0:n.split("@")[0]))||"unknown"},H=()=>{var l,i,p,o;const s=((l=t==null?void 0:t.category)==null?void 0:l.gameType)||((i=t==null?void 0:t.category)==null?void 0:i.game_type);if(s){const c=String(s).toUpperCase().trim();if(c==="DOUBLES")return"DOUBLES";if(c==="SINGLES")return"SINGLES"}const n=(o=(p=t==null?void 0:t.leagues)==null?void 0:p[0])==null?void 0:o.gameType;if(n){const c=String(n).toUpperCase().trim();if(c==="DOUBLES")return"DOUBLES";if(c==="SINGLES")return"SINGLES"}if(t!=null&&t.partnerships&&t.partnerships.length>0)return"DOUBLES";if(g&&g.length>0){if(g.find(h=>{const v=h.gameType||h.gameType;return v&&String(v).toUpperCase().trim()==="DOUBLES"}))return"DOUBLES";if(g.find(h=>{const v=h.gameType||h.gameType;return v&&String(v).toUpperCase().trim()==="SINGLES"}))return"SINGLES"}return"SINGLES"},P=s=>{var T,h,v,I,k,z;const n=(h=(T=t==null?void 0:t.leagues)==null?void 0:T[0])==null?void 0:h.sportType,l=H();if(!l)return{display:"N/A",value:0,color:"gray"};let i=(I=(v=s.user)==null?void 0:v.questionnaireResponses)==null?void 0:I.find(w=>n&&w.sport&&w.sport.toLowerCase()===n.toLowerCase()&&w.completedAt&&w.result);if(i!=null&&i.result||(i=(z=(k=s.user)==null?void 0:k.questionnaireResponses)==null?void 0:z.find(w=>w.completedAt&&w.result)),!(i!=null&&i.result))return{display:"N/A",value:0,color:"gray"};const p=l==="DOUBLES";let o;if(p?(o=i.result.doubles,(!o||o===0)&&(o=i.result.singles)):(o=i.result.singles,(!o||o===0)&&(o=i.result.doubles)),!o||o===0){const w=i.result.rating;w&&w>0&&(o=w)}if(!o||o===0)return{display:"N/A",value:0,color:"gray"};let c="green";return o>=4500?c="purple":o>=4e3?c="blue":o>=3500?c="green":o>=3e3?c="yellow":c="gray",{display:o.toString(),value:o,color:c}},ae=s=>{var n;return(n=t==null?void 0:t.partnerships)==null?void 0:n.find(l=>l.captainId===s||l.partnerId===s)},pe=s=>m.find(n=>n.userId===s),X=s=>{var l;if(s.divisionId!==null&&s.divisionId!==void 0)return!0;const n=(l=t==null?void 0:t.partnerships)==null?void 0:l.find(i=>i.captainId===s.userId||i.partnerId===s.userId);return(n==null?void 0:n.divisionId)!==null&&(n==null?void 0:n.divisionId)!==void 0},le=s=>{if(s.divisionId)return s.divisionId;const n=ae(s.userId||"");return(n==null?void 0:n.divisionId)||null},Y=A.useMemo(()=>{let s=m;if(V.trim()){const l=V.toLowerCase().trim();s=s.filter(i=>{var T,h,v,I,k,z;const p=((h=(T=i.user)==null?void 0:T.name)==null?void 0:h.toLowerCase())||"",o=((I=(v=i.user)==null?void 0:v.username)==null?void 0:I.toLowerCase())||"",c=((z=(k=i.user)==null?void 0:k.email)==null?void 0:z.toLowerCase())||"";return p.includes(l)||o.includes(l)||c.includes(l)})}R&&(s=s.filter(l=>le(l)===R));const n=parseInt(O);return!isNaN(n)&&n>0&&(s=s.filter(l=>P(l).value>=n)),s},[m,V,R,O]),_=Y.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&X(s)),K=Y.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&!X(s)),re=g.map(s=>({value:s.id,label:s.name})),Z=V||R||O,a=()=>{F(""),$(void 0),W("")},u=s=>{const n=new Set,l=[];for(const i of s){if(n.has(i.userId||""))continue;const p=ae(i.userId||"");if(p){const o=p.captainId===i.userId?p.partnerId:p.captainId,c=pe(o);c?(l.push({type:"partnership",memberships:[i,c],partnership:p}),n.add(i.userId||""),n.add(o)):(l.push({type:"individual",memberships:[i]}),n.add(i.userId||""))}else l.push({type:"individual",memberships:[i]}),n.add(i.userId||"")}return l},D=(s,n=!1)=>{n&&Array.isArray(s)?(f(s[0]),Q(s)):(f(Array.isArray(s)?s[0]:s),Q(null)),E(!0)},L=({players:s,isWaitlistTab:n=!1})=>{const l=u(s);return H(),e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(ns,{children:[e.jsxDEV(is,{children:e.jsxDEV(Ie,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(G,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:441,columnNumber:15},this),e.jsxDEV(G,{className:"py-2.5 font-medium text-xs min-w-[240px]",children:"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:442,columnNumber:15},this),e.jsxDEV(G,{className:"w-[140px] py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:443,columnNumber:15},this),e.jsxDEV(G,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Rating"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:444,columnNumber:15},this),e.jsxDEV(G,{className:"w-[120px] py-2.5 font-medium text-xs",children:"Joined"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:445,columnNumber:15},this),e.jsxDEV(G,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:446,columnNumber:15},this),e.jsxDEV(G,{className:"w-[140px] py-2.5 pr-4 font-medium text-xs text-right",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:440,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:439,columnNumber:11},this),e.jsxDEV(ge.tbody,{initial:"hidden",animate:"visible",variants:ms,children:l.length>0?l.map((i,p)=>{var o,c,T,h,v,I,k,z,w,be,fe,ye,he,ve,we,Le,Ae,Ue;if(i.type==="partnership"&&i.memberships.length===2){const[r,x]=i.memberships,M=P(r),oe=P(x),me=i.partnership,te=M.value>0&&oe.value>0?Math.round((M.value+oe.value)/2):M.value>0?M.value:oe.value,Ee=(me==null?void 0:me.divisionId)||r.divisionId||x.divisionId||null;return e.jsxDEV(ge.tr,{variants:ze,transition:ke,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(b,{className:"py-3 pl-4 text-sm text-muted-foreground",children:p+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:479,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex -space-x-2",children:[e.jsxDEV(de,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(ue,{src:((o=r.user)==null?void 0:o.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:488,columnNumber:31},this),e.jsxDEV(ce,{className:`text-white font-semibold text-[10px] ${C((c=r.user)==null?void 0:c.name)}`,children:J((T=r.user)==null?void 0:T.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:489,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:487,columnNumber:29},this),e.jsxDEV(de,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(ue,{src:((h=x.user)==null?void 0:h.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:494,columnNumber:31},this),e.jsxDEV(ce,{className:`text-white font-semibold text-[10px] ${C((v=x.user)==null?void 0:v.name)}`,children:J((I=x.user)==null?void 0:I.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:495,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:493,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:486,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:[((k=r.user)==null?void 0:k.name)||"Unknown"," & ",((z=x.user)==null?void 0:z.name)||"Unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:502,columnNumber:31},this),e.jsxDEV(U,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-4 shrink-0",children:[e.jsxDEV(Ne,{className:"size-2.5 mr-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:506,columnNumber:33},this),"Team"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:505,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:501,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",y(r.user)," & @",y(x.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:510,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:500,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:485,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:484,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:q(Ee)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:519,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:518,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:te>0?e.jsxDEV(ls,{children:[e.jsxDEV(rs,{asChild:!0,children:e.jsxDEV(U,{variant:"outline",className:S("text-xs font-mono cursor-help border",Oe(te)),children:te},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:529,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:528,columnNumber:29},this),e.jsxDEV(os,{side:"top",className:"text-xs",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"font-medium text-muted-foreground mb-1",children:"Individual Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:538,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((be=(w=r.user)==null?void 0:w.name)==null?void 0:be.split(" ")[0])||"Player 1",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:540,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:M.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:541,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:539,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((ye=(fe=x.user)==null?void 0:fe.name)==null?void 0:ye.split(" ")[0])||"Player 2",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:544,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:oe.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:545,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:543,columnNumber:33},this),e.jsxDEV("div",{className:"border-t pt-1 mt-1 flex items-center justify-between gap-4",children:[e.jsxDEV("span",{className:"font-medium",children:"Average:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:548,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-semibold",children:te},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:549,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:547,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:537,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:536,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:527,columnNumber:27},this):e.jsxDEV(U,{variant:"outline",className:"text-xs font-mono text-muted-foreground",children:"N/A"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:555,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:525,columnNumber:23},this),e.jsxDEV(b,{className:"py-3 text-sm text-muted-foreground",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:562,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:S("text-xs font-medium border capitalize",Re(r.status==="ACTIVE"||x.status==="ACTIVE"?"ACTIVE":r.status)),children:r.status==="ACTIVE"||x.status==="ACTIVE"?"Active":((he=r.status)==null?void 0:he.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:574,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:573,columnNumber:23},this),e.jsxDEV(b,{className:"py-3 pr-4 text-right",children:e.jsxDEV(se,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>D([r,x],!0),children:Ee?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:588,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:587,columnNumber:23},this)]},`partnership-${me.id}`,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:472,columnNumber:21},this)}else{const r=i.memberships[0],x=P(r);return e.jsxDEV(ge.tr,{variants:ze,transition:ke,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(b,{className:"py-3 pl-4 text-sm text-muted-foreground",children:p+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:612,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(de,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(ue,{src:((ve=r.user)==null?void 0:ve.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:620,columnNumber:29},this),e.jsxDEV(ce,{className:`text-white font-semibold text-[10px] ${C((we=r.user)==null?void 0:we.name)}`,children:J((Le=r.user)==null?void 0:Le.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:621,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:619,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((Ae=r.user)==null?void 0:Ae.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:626,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",y(r.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:629,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:625,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:618,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:617,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:q(r.divisionId??null)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:638,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:637,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:S("text-xs font-mono border",x.value>0?Oe(x.value):"text-muted-foreground"),children:x.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:645,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:644,columnNumber:23},this),e.jsxDEV(b,{className:"py-3 text-sm text-muted-foreground",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:657,columnNumber:23},this),e.jsxDEV(b,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:S("text-xs font-medium border capitalize",Re(r.status)),children:((Ue=r==null?void 0:r.status)==null?void 0:Ue.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:669,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:668,columnNumber:23},this),e.jsxDEV(b,{className:"py-3 pr-4 text-right",children:e.jsxDEV(se,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>D(r,!1),children:r.divisionId?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:679,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:678,columnNumber:23},this)]},r.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:605,columnNumber:21},this)}}):e.jsxDEV(Ie,{children:e.jsxDEV(b,{colSpan:7,className:"h-32 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:e.jsxDEV(De,{className:"size-6 opacity-50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:697,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:696,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"No players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:700,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs",children:Z?"Try adjusting your filters":n?"All players have been assigned to divisions":"Players will appear here once they are assigned to divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:701,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:699,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:695,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:694,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:693,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:450,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:438,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:437,columnNumber:7},this)};return e.jsxDEV(as,{children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold tracking-tight",children:["Season Players (",m.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:724,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Me,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:730,columnNumber:15},this),e.jsxDEV(Ce,{type:"text",placeholder:"Search players...",value:V,onChange:s=>F(s.target.value),className:"w-full sm:w-56 pl-9 pr-9 h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:731,columnNumber:15},this),V&&e.jsxDEV("button",{onClick:()=>F(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsxDEV(Se,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:743,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:729,columnNumber:13},this),g.length>0&&e.jsxDEV(ts,{value:R,onChange:$,options:re,placeholder:"Division",allLabel:"All Divisions",triggerClassName:"w-[150px] h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:750,columnNumber:15},this),e.jsxDEV(Ce,{type:"number",placeholder:"Min rating",value:O,onChange:s=>W(s.target.value),className:"w-28 h-9",min:0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:761,columnNumber:13},this),Z&&e.jsxDEV(se,{variant:"ghost",size:"sm",onClick:a,className:"h-9 px-2 text-muted-foreground hover:text-foreground",children:[e.jsxDEV(Se,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:778,columnNumber:17},this),"Clear"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:772,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:727,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:723,columnNumber:9},this),e.jsxDEV(es,{defaultValue:"active",className:"w-full",children:[e.jsxDEV(ss,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxDEV(Te,{value:"active",className:"text-sm",children:["In Division (",_.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:788,columnNumber:13},this),e.jsxDEV(Te,{value:"waitlisted",className:"text-sm",children:["Awaiting Division (",K.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:791,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:787,columnNumber:11},this),e.jsxDEV(Pe,{value:"active",className:"mt-0",children:e.jsxDEV(L,{players:_,isWaitlistTab:!1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:796,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:795,columnNumber:11},this),e.jsxDEV(Pe,{value:"waitlisted",className:"mt-0",children:e.jsxDEV(L,{players:K,isWaitlistTab:!0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:799,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:798,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:786,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:721,columnNumber:7},this),e.jsxDEV(Ds,{isOpen:ie,onOpenChange:E,member:xe,teamMembers:j,divisions:g,seasonId:d,onAssigned:B,adminId:ne||"",getSportRating:P,gameType:H()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:804,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:720,columnNumber:5},this)}export{Cs as default};
