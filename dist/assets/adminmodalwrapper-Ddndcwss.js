import{c as j,r as a,j as e,N as U,P as V,Q as S,R as I,V as F,h as f,I as b,X as k,B as c,L as C,F as M,t as L,aK as P}from"./index-DZtjoQ1a.js";import{M as T}from"./mail-0-3weqJE.js";import{I as z}from"./IconPlus-D_DWJsFk.js";/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],y=j("user-plus",B);function H({open:o,onOpenChange:l,children:A}){const[m,u]=a.useState(""),[d,N]=a.useState(""),[t,D]=a.useState(!1),[R,g]=a.useState(""),[_,r]=a.useState(""),E=async()=>{var i,p,v,w,x,h;D(!0),r(""),g("");try{const n=m.split("@")[0]+Math.floor(Math.random()*1e3),s=await M.post("http://localhost:82/api/admin/invite",{email:m,name:d,username:n});console.log("Success toast about to fire"),L.success(s.data.message||"Invitation sent successfully!"),console.log("email",s.data),g(s.data.message),u(""),N(""),l(!1)}catch(n){r(((p=(i=n.response)==null?void 0:i.data)==null?void 0:p.error)||"Failed to send invite");const s=((w=(v=n.response)==null?void 0:v.data)==null?void 0:w.error)||((h=(x=n.response)==null?void 0:x.data)==null?void 0:h.message)||n.message||"Failed to send invite";L.error(s),r(s)}finally{D(!1)}};return e.jsxDEV(U,{open:o,onOpenChange:l,children:[A,e.jsxDEV(V,{className:"sm:max-w-md",children:[e.jsxDEV(S,{children:[e.jsxDEV(I,{className:"flex items-center gap-2",children:[e.jsxDEV(y,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:83,columnNumber:13},this),"Invite a New Admin"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:82,columnNumber:11},this),e.jsxDEV(F,{children:"Send an invitation to a new admin user. They will receive an email with setup instructions."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:81,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-4 py-4",children:[e.jsxDEV("div",{className:"grid gap-2",children:[e.jsxDEV(f,{htmlFor:"name",children:"Full Name"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:94,columnNumber:13},this),e.jsxDEV(b,{id:"name",type:"text",placeholder:"Enter admin's full name",value:d,onChange:i=>N(i.target.value),className:"w-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:93,columnNumber:11},this),e.jsxDEV("div",{className:"grid gap-2",children:[e.jsxDEV(f,{htmlFor:"email",children:"Email Address"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:108,columnNumber:15},this),e.jsxDEV(b,{id:"email",type:"email",placeholder:"admin@example.com",value:m,onChange:i=>u(i.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(k,{className:"flex gap-2",children:[e.jsxDEV(c,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:t,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(c,{type:"button",onClick:E,disabled:t||!m||!d,className:"min-w-[120px]",children:t?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(C,{className:"animate-spin mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:138,columnNumber:17},this),"Sending..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:137,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(y,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:143,columnNumber:17},this),"Send Invitation"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:142,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:80,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/admin-invite-modal.tsx",lineNumber:78,columnNumber:5},this)}function W(){const[o,l]=a.useState(!1);return e.jsxDEV(H,{open:o,onOpenChange:l,children:e.jsxDEV(P,{asChild:!0,children:e.jsxDEV(c,{size:"sm",children:[e.jsxDEV(z,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/wrappers/adminmodalwrapper.tsx",lineNumber:15,columnNumber:11},this),"Add Admin"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/wrappers/adminmodalwrapper.tsx",lineNumber:14,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/wrappers/adminmodalwrapper.tsx",lineNumber:13,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/wrappers/adminmodalwrapper.tsx",lineNumber:12,columnNumber:5},this)}export{W as default};
