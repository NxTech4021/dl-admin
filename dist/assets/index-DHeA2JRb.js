const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leagues-data-table-B38eBTTr.js","assets/index-DZtjoQ1a.js","assets/index-IdBuu3mz.css","assets/alert-dialog-DrVC9vHV.js","assets/table-BQtnzDqP.js","assets/skeleton-D_qOwE7s.js","assets/sports-DD5YdLkG.js","assets/dropdown-menu-Dx_YvozZ.js","assets/index-BgU5MbyP.js","assets/IconDotsVertical-QsP4hQjT.js","assets/IconEye-D4W9Y_L9.js","assets/site-header-Dx-vpBif.js","assets/scroll-area-C2OqnLUh.js","assets/use-notifications-B8w26Yxw.js","assets/socket-context-v4PelAhw.js","assets/IconEdit-_smrtImY.js","assets/IconHash-DDiuV-C_.js","assets/constants-CwTYU-p_.js","assets/IconMapPin-BJ2nkQLv.js","assets/IconCategory-mD-mOwu6.js","assets/IconMail-B2HHgSZh.js","assets/IconDownload-CYNYPG3z.js","assets/IconChevronLeft-DNsHW-Pb.js","assets/IconChevronRight-CGPW7bDd.js","assets/league-create-modal-C0Ek61OD.js","assets/league-BTskQ2oy.js"])))=>i.map(i=>d[i]);
import{r as i,_ as n,k as T,l as U,j as e,B as I,$ as N}from"./index-DZtjoQ1a.js";import{S,f as h,b as M,e as O}from"./site-header-Dx-vpBif.js";import{P}from"./page-header-DD-hP8ew.js";import{S as d}from"./stats-card-DR3t-1a_.js";import{S as k}from"./stats-grid-CrGUMeGV.js";import{l as z}from"./league-schema-CW4CwVLH.js";import{z as B}from"./external-DCTon813.js";import{I as R}from"./IconPlus-D_DWJsFk.js";import"./scroll-area-C2OqnLUh.js";import"./use-notifications-B8w26Yxw.js";import"./socket-context-v4PelAhw.js";import"./skeleton-D_qOwE7s.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";const G=i.lazy(()=>N(()=>import("./leagues-data-table-B38eBTTr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>({default:a.LeaguesDataTable}))),F=i.lazy(()=>N(()=>import("./league-create-modal-C0Ek61OD.js"),__vite__mapDeps([24,1,2,25,11,12,13,14,18])).then(a=>({default:a.default})));function ie(){const[a,c]=i.useState(!1),[b,u]=n.useState([]),[L,y]=n.useState(0),[l,p]=n.useState(!0),o=n.useCallback(async()=>{p(!0);try{const s=await T.get(U.league.getAll);if(!s.data||!s.data.data||!s.data.data.leagues){u([]);return}const m=s.data.data.leagues,_=s.data.data.totalMembers||0;y(_);const v=m.map(t=>{var g,x,D;const E=((g=t.seasons)==null?void 0:g.reduce((j,V)=>{var f;const C=((f=V._count)==null?void 0:f.memberships)||0;return j+C},0))||0;return{id:t.id,name:t.name,location:t.location,description:t.description,status:t.status,sportType:t.sportType,joinType:t.joinType,registrationType:t.registrationType,gameType:t.gameType,createdById:t.createdById,createdAt:t.createdAt,updatedAt:t.updatedAt,memberCount:E,seasonCount:((x=t._count)==null?void 0:x.seasons)||0,categoryCount:((D=t._count)==null?void 0:D.categories)||0}}),A=B.array(z).parse(v);u(A)}catch{u([])}finally{p(!1)}},[]);n.useEffect(()=>{o()},[o]);const w=async()=>{await o()},r=b;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(S,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:74,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(P,{icon:h,title:"League Management",description:"Manage leagues, seasons, and player memberships",actions:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(I,{size:"sm",onClick:()=>c(!0),children:[e.jsxDEV(R,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:79,columnNumber:17},this),"Create League"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:78,columnNumber:15},this),e.jsxDEV(i.Suspense,{fallback:null,children:e.jsxDEV(F,{open:a,onOpenChange:c,onLeagueCreated:w},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:83,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:77,columnNumber:138},this),children:e.jsxDEV(k,{columns:3,children:[e.jsxDEV(d,{title:"Total Leagues",value:r.length,description:`${r.filter(s=>s.status==="ACTIVE"||s.status==="ONGOING").length} currently active`,icon:h,loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:87,columnNumber:13},this),e.jsxDEV(d,{title:"Total Members",value:L,description:"Total players across all seasons",icon:M,iconColor:"text-blue-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:88,columnNumber:13},this),e.jsxDEV(d,{title:"Total Seasons",value:r.reduce((s,m)=>s+(m.seasonCount||0),0),description:"Across all leagues",icon:O,iconColor:"text-green-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:77,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(i.Suspense,{fallback:e.jsxDEV("div",{className:"h-96 animate-pulse bg-muted rounded-lg"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:94,columnNumber:31},this),children:e.jsxDEV(G,{data:r,isLoading:l,onDataChange:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:76,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:75,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:73,columnNumber:10},this)}export{ie as component};
