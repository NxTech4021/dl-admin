const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sponsor-edit-modal-C22Eb1R4.js","assets/index-D4sRxPGx.js","assets/index-prMvOnec.css","assets/sponsor-create-modal-DZf9J26J.js"])))=>i.map(i=>d[i]);
import{E as G,r as n,bK as re,a9 as ve,aa as u,ab as Le,bL as ye,bM as Ee,ac as Ae,ae as N,af as ie,bN as je,ad as Se,bP as Ue,bQ as Ve,bO as Ce,j as e,d as Re,I as Pe,B as E,J as V,a2 as Te,a3 as Me,a4 as Ie,a5 as ke,a6 as J,K as Fe,k as Q,l as X,a0 as ee,$ as de}from"./index-D4sRxPGx.js";import{e as _e,i as Oe,S as He}from"./site-header-BEIXSl7U.js";import{u as ze,g as Be,a as Ke,b as $e,c as Ge,d as We,e as qe,f as se}from"./index-DU1wCA0Z.js";import{D as Ye,a as Ze,b as Je,f as B,d as Qe}from"./dropdown-menu-B2dvlheb.js";import{T as Xe,a as es,b as P,c as ss,d as as,e as K}from"./table-ZkkDvaw_.js";import{o as T,a as ns,n as ae,_ as ts,s as h}from"./schemas-B5fuxOj7.js";import{d as ne}from"./coerce-C-pLok-C.js";import{I as os}from"./IconChevronDown-DQr8z2tm.js";import{I as ls}from"./IconDotsVertical-D8oev7mY.js";import{I as rs}from"./IconEye-C48FCor1.js";import{I as is}from"./IconEdit-qCQbXBQZ.js";import{I as ds}from"./IconDownload-CqdvHSwW.js";import{I as cs}from"./IconPlus-vFR0zo2N.js";import"./scroll-area-TJOFpdqX.js";import"./use-notifications-BDgbs4k1.js";import"./socket-context-Coy4MzG8.js";import"./index-CBLB6ORW.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M17.1 8.648a.568 .568 0 0 1 -.761 .011a5.682 5.682 0 0 0 -3.659 -1.34c-1.102 0 -2.205 .363 -2.205 1.374c0 1.023 1.182 1.364 2.546 1.875c2.386 .796 4.363 1.796 4.363 4.137c0 2.545 -1.977 4.295 -5.204 4.488l-.295 1.364a.557 .557 0 0 1 -.546 .443h-2.034l-.102 -.011a.568 .568 0 0 1 -.432 -.67l.318 -1.444a7.432 7.432 0 0 1 -3.273 -1.784v-.011a.545 .545 0 0 1 0 -.773l1.137 -1.102c.214 -.2 .547 -.2 .761 0a5.495 5.495 0 0 0 3.852 1.5c1.478 0 2.466 -.625 2.466 -1.614c0 -.989 -1 -1.25 -2.886 -1.954c-2 -.716 -3.898 -1.728 -3.898 -4.091c0 -2.75 2.284 -4.091 4.989 -4.216l.284 -1.398a.545 .545 0 0 1 .545 -.432h2.023l.114 .012a.544 .544 0 0 1 .42 .647l-.307 1.557a8.528 8.528 0 0 1 2.818 1.58l.023 .022c.216 .228 .216 .569 0 .773l-1.057 1.057z",key:"svg-0"}]],us=G("outline","brand-cashapp","BrandCashapp",ms);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],bs=G("outline","chevron-up","ChevronUp",ps);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],fs=G("outline","filter","Filter",gs);var $,k="HoverCard",[ce]=Le(k,[re]),F=re(),[Ns,_]=ce(k),me=s=>{const{__scopeHoverCard:a,children:t,open:d,defaultOpen:r,onOpenChange:c,openDelay:D=700,closeDelay:x=300}=s,m=F(a),v=n.useRef(0),b=n.useRef(0),A=n.useRef(!1),g=n.useRef(!1),[w,l]=ve({prop:d,defaultProp:r??!1,onChange:c,caller:k}),j=n.useCallback(()=>{clearTimeout(b.current),v.current=window.setTimeout(()=>l(!0),D)},[D,l]),L=n.useCallback(()=>{clearTimeout(v.current),!A.current&&!g.current&&(b.current=window.setTimeout(()=>l(!1),x))},[x,l]),C=n.useCallback(()=>l(!1),[l]);return n.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(b.current)},[]),u.jsx(Ns,{scope:a,open:w,onOpenChange:l,onOpen:j,onClose:L,onDismiss:C,hasSelectionRef:A,isPointerDownOnContentRef:g,children:u.jsx(ye,{...m,children:t})})};me.displayName=k;var ue="HoverCardTrigger",pe=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,...d}=s,r=_(ue,t),c=F(t);return u.jsx(Ee,{asChild:!0,...c,children:u.jsx(Ae.a,{"data-state":r.open?"open":"closed",...d,ref:a,onPointerEnter:N(s.onPointerEnter,I(r.onOpen)),onPointerLeave:N(s.onPointerLeave,I(r.onClose)),onFocus:N(s.onFocus,r.onOpen),onBlur:N(s.onBlur,r.onClose),onTouchStart:N(s.onTouchStart,D=>D.preventDefault())})})});pe.displayName=ue;var W="HoverCardPortal",[Ds,xs]=ce(W,{forceMount:void 0}),be=s=>{const{__scopeHoverCard:a,forceMount:t,children:d,container:r}=s,c=_(W,a);return u.jsx(Ds,{scope:a,forceMount:t,children:u.jsx(ie,{present:t||c.open,children:u.jsx(je,{asChild:!0,container:r,children:d})})})};be.displayName=W;var M="HoverCardContent",ge=n.forwardRef((s,a)=>{const t=xs(M,s.__scopeHoverCard),{forceMount:d=t.forceMount,...r}=s,c=_(M,s.__scopeHoverCard);return u.jsx(ie,{present:d||c.open,children:u.jsx(ws,{"data-state":c.open?"open":"closed",...r,onPointerEnter:N(s.onPointerEnter,I(c.onOpen)),onPointerLeave:N(s.onPointerLeave,I(c.onClose)),ref:a})})});ge.displayName=M;var ws=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,onEscapeKeyDown:d,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:D,...x}=s,m=_(M,t),v=F(t),b=n.useRef(null),A=Se(a,b),[g,w]=n.useState(!1);return n.useEffect(()=>{if(g){const l=document.body;return $=l.style.userSelect||l.style.webkitUserSelect,l.style.userSelect="none",l.style.webkitUserSelect="none",()=>{l.style.userSelect=$,l.style.webkitUserSelect=$}}},[g]),n.useEffect(()=>{if(b.current){const l=()=>{w(!1),m.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var L;((L=document.getSelection())==null?void 0:L.toString())!==""&&(m.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",l),()=>{document.removeEventListener("pointerup",l),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!1}}},[m.isPointerDownOnContentRef,m.hasSelectionRef]),n.useEffect(()=>{b.current&&Ls(b.current).forEach(j=>j.setAttribute("tabindex","-1"))}),u.jsx(Ue,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:D,onEscapeKeyDown:d,onPointerDownOutside:r,onFocusOutside:N(c,l=>{l.preventDefault()}),onDismiss:m.onDismiss,children:u.jsx(Ve,{...v,...x,onPointerDown:N(x.onPointerDown,l=>{l.currentTarget.contains(l.target)&&w(!0),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!0}),ref:A,style:{...x.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),hs="HoverCardArrow",vs=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,...d}=s,r=F(t);return u.jsx(Ce,{...r,...d,ref:a})});vs.displayName=hs;function I(s){return a=>a.pointerType==="touch"?void 0:s()}function Ls(s){const a=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d=>d.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)a.push(t.currentNode);return a}var ys=me,Es=pe,As=be,js=ge;function Ss({...s}){return e.jsxDEV(ys,{"data-slot":"hover-card",...s},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:17,columnNumber:10},this)}function Us({...s}){return e.jsxDEV(Es,{"data-slot":"hover-card-trigger",...s},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:24,columnNumber:5},this)}function Vs({className:s,align:a="center",sideOffset:t=4,...d}){return e.jsxDEV(As,{"data-slot":"hover-card-portal",children:e.jsxDEV(js,{"data-slot":"hover-card-content",align:a,sideOffset:t,className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:36,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:35,columnNumber:5},this)}const te=T({id:h(),name:h()}),oe=T({id:h(),sponsoredName:h().nullable(),packageTier:ts(["BRONZE","SILVER","GOLD","PLATINUM"]),contractAmount:ae().nullable(),sponsorRevenue:ae().nullable(),createdAt:ne(),updatedAt:ne(),league:te.nullable().optional(),leagues:ns(te),company:T({id:h(),name:h()}).nullable().optional(),createdBy:T({id:h(),name:h()}).nullable().optional()}),Cs=n.lazy(()=>de(()=>import("./sponsor-edit-modal-C22Eb1R4.js"),__vite__mapDeps([0,1,2])).then(s=>({default:s.SponsorEditModal}))),Rs=s=>s?(s instanceof Date?s:new Date(s)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",le=s=>s==null?"-":new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(s),Ps=s=>{switch(s==null?void 0:s.toUpperCase()){case"PLATINUM":return"default";case"GOLD":return"secondary";case"SILVER":return"outline";case"BRONZE":return"destructive";default:return"outline"}},Ts=s=>s.league?e.jsxDEV(Ss,{children:[e.jsxDEV(Us,{children:e.jsxDEV(V,{variant:"secondary",className:"cursor-pointer",children:s.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:107,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:106,columnNumber:7},void 0),e.jsxDEV(Vs,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-sm font-medium",children:"Linked League"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:e.jsxDEV(V,{variant:"outline",className:"text-xs",children:s.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:114,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:112,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:111,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:105,columnNumber:5},void 0):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"No league"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:101,columnNumber:12},void 0),Ms=s=>[{id:"select",header:({table:a})=>e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV(ee,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>a.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:132,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:131,columnNumber:7},void 0),cell:({row:a})=>e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV(ee,{checked:a.getIsSelected(),onCheckedChange:t=>a.toggleSelected(!!t),"aria-label":"Select row"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:144,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:143,columnNumber:7},void 0),enableSorting:!1,enableHiding:!1},{accessorKey:"sponsoredName",header:"Sponsor Name",cell:({row:a})=>e.jsxDEV("div",{className:"font-medium",children:a.original.sponsoredName||"Unnamed Sponsor"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:158,columnNumber:7},void 0),enableHiding:!1},{accessorKey:"packageTier",header:"Package Tier",cell:({row:a})=>{const t=a.original.packageTier;return e.jsxDEV(V,{variant:Ps(t),className:"capitalize",children:t.toLowerCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:168,columnNumber:9},void 0)}},{accessorKey:"contractAmount",header:"Contract Amount",cell:({row:a})=>e.jsxDEV("span",{className:"text-sm font-medium",children:le(a.original.contractAmount)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:178,columnNumber:7},void 0)},{accessorKey:"sponsorRevenue",header:"Sponsor Revenue",cell:({row:a})=>e.jsxDEV("span",{className:"text-sm font-medium",children:le(a.original.sponsorRevenue)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:187,columnNumber:7},void 0)},{accessorKey:"league",header:"League",cell:({row:a})=>e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:Ts(a.original)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:196,columnNumber:7},void 0)},{accessorKey:"createdAt",header:"Created",cell:({row:a})=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_e,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:206,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-sm",children:Rs(a.original.createdAt)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:207,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:205,columnNumber:7},void 0)},{id:"actions",cell:({row:a})=>{const t=a.original;return e.jsxDEV(Ye,{children:[e.jsxDEV(Ze,{asChild:!0,children:e.jsxDEV(E,{variant:"ghost",className:"hover:bg-muted hover:text-foreground transition-colors flex size-8",size:"icon",children:[e.jsxDEV(ls,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:224,columnNumber:15},void 0),e.jsxDEV("span",{className:"sr-only",children:"Open menu"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:225,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:219,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:218,columnNumber:11},void 0),e.jsxDEV(Je,{align:"end",className:"w-52",children:[e.jsxDEV(B,{className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",onClick:()=>{console.log("View sponsor:",t.id)},children:[e.jsxDEV(rs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:237,columnNumber:15},void 0),"View Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:230,columnNumber:13},void 0),e.jsxDEV(B,{className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",onClick:()=>s(t.id),children:[e.jsxDEV(is,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:245,columnNumber:15},void 0),"Edit Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:241,columnNumber:13},void 0),e.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:249,columnNumber:13},void 0),e.jsxDEV(B,{variant:"destructive",className:"cursor-pointer focus:bg-destructive focus:text-destructive-foreground",onClick:()=>{console.log("Delete sponsor:",t.id)},children:[e.jsxDEV(Oe,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:259,columnNumber:15},void 0),"Delete Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:217,columnNumber:9},void 0)}}];function Is({refreshTrigger:s}){var Z;const[a,t]=n.useState([]),[d,r]=n.useState(!0),[c,D]=n.useState({}),[x,m]=n.useState({}),[v,b]=n.useState([]),[A,g]=n.useState([]),[w,l]=n.useState(""),[j,L]=n.useState(!1),[C,fe]=n.useState(""),[f,q]=n.useState("all"),[O,Ne]=n.useState(!1),De=n.useMemo(()=>{const o=new Set;return a.forEach(i=>{o.add(i.packageTier)}),Array.from(o).sort()},[a]),Y=n.useMemo(()=>{let o=a;return f!=="all"&&(o=o.filter(i=>i.packageTier===f)),o},[a,f]),xe=()=>{q("all"),l("")},R=f!=="all"||w!=="";n.useEffect(()=>{(async()=>{r(!0);try{const i=await Q.get(X.sponsors.getAll);if(i.status!==200)throw new Error("Network response was not ok");const S=await i.data;console.log("Sponsors API response:",S),console.log("Sponsors data:",S.data);const z=S.data.map(U=>({...U,contractAmount:U.contractAmount?parseFloat(U.contractAmount.toString()):null,sponsorRevenue:U.sponsorRevenue?parseFloat(U.sponsorRevenue.toString()):null})),y=oe.array().parse(z);t(y)}catch(i){console.error("Failed to fetch sponsors:",i),console.error("Error details:",i)}finally{r(!1)}})()},[s]);const we=o=>{fe(o),L(!0)},he=async()=>{r(!0);try{const o=await Q.get(X.sponsors.getAll);if(o.status===200){const i=await o.data;console.log("Sponsors refresh response:",i);const S=i.data.map(y=>({...y,contractAmount:y.contractAmount?parseFloat(y.contractAmount.toString()):null,sponsorRevenue:y.sponsorRevenue?parseFloat(y.sponsorRevenue.toString()):null})),z=oe.array().parse(S);t(z)}}catch(o){console.error("Failed to refresh sponsors:",o),console.error("Error details:",o)}finally{r(!1)}},H=Ms(we),p=ze({data:Y,columns:H,state:{sorting:A,columnVisibility:x,rowSelection:c,columnFilters:v,globalFilter:w},enableRowSelection:!0,onRowSelectionChange:D,onSortingChange:g,onColumnFiltersChange:b,onColumnVisibilityChange:m,onGlobalFilterChange:l,getCoreRowModel:qe(),getFilteredRowModel:We(),getPaginationRowModel:Ge(),getSortedRowModel:$e(),getFacetedRowModel:Ke(),getFacetedUniqueValues:Be(),globalFilterFn:"includesString"});return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"px-4 lg:px-6 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Pe,{placeholder:"Search sponsors by name...",value:w??"",onChange:o=>l(o.target.value),className:"w-80"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:422,columnNumber:13},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>Ne(!O),className:`${R?"border-primary bg-primary/10":""}`,children:[e.jsxDEV(fs,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:435,columnNumber:15},this),"Filters",R&&e.jsxDEV(V,{variant:"secondary",className:"ml-2 text-xs",children:f!=="all"?1:0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:438,columnNumber:17},this),O?e.jsxDEV(bs,{className:"size-4 ml-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:443,columnNumber:17},this):e.jsxDEV(os,{className:"size-4 ml-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:445,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:421,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[p.getFilteredSelectedRowModel().rows.length," of"," ",p.getFilteredRowModel().rows.length," sponsor(s) selected"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:451,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:450,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:420,columnNumber:9},this),O&&e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 bg-muted/30 rounded-lg border animate-in slide-in-from-top-2 duration-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Package Tier:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:463,columnNumber:15},this),e.jsxDEV(Te,{value:f,onValueChange:q,children:[e.jsxDEV(Me,{className:`w-[140px] ${f!=="all"?"border-primary":""}`,children:e.jsxDEV(Ie,{placeholder:"All Tiers"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:468,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:465,columnNumber:17},this),e.jsxDEV(ke,{children:[e.jsxDEV(J,{value:"all",children:"All Tiers"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:471,columnNumber:19},this),De.map(o=>e.jsxDEV(J,{value:o,className:"capitalize",children:o.toLowerCase()},o,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:473,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:470,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:464,columnNumber:15},this),f!=="all"&&e.jsxDEV(V,{variant:"secondary",className:"text-xs capitalize",children:f.toLowerCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:480,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:462,columnNumber:13},this),R&&e.jsxDEV(E,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 px-2 lg:px-3",children:[e.jsxDEV(Fe,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:494,columnNumber:17},this),"Clear Filters"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:488,columnNumber:15},this),R&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",Y.length," of ",a.length," sponsors"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:460,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:418,columnNumber:7},this),e.jsxDEV("div",{className:"rounded-md border mx-4 lg:mx-6 bg-background",children:e.jsxDEV(Xe,{children:[e.jsxDEV(es,{children:p.getHeaderGroups().map(o=>e.jsxDEV(P,{children:o.headers.map(i=>e.jsxDEV(ss,{colSpan:i.colSpan,children:i.isPlaceholder?null:se(i.column.columnDef.header,i.getContext())},i.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:517,columnNumber:21},this))},o.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:514,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:512,columnNumber:11},this),e.jsxDEV(as,{children:d?e.jsxDEV(P,{children:e.jsxDEV(K,{colSpan:H.length,className:"h-24 text-center text-muted-foreground",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:536,columnNumber:21},this),"Loading sponsors..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:535,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:531,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:530,columnNumber:15},this):(Z=p.getRowModel().rows)!=null&&Z.length?p.getRowModel().rows.map(o=>e.jsxDEV(P,{"data-state":o.getIsSelected()&&"selected",className:"hover:bg-muted/50",children:o.getVisibleCells().map(i=>e.jsxDEV(K,{children:se(i.column.columnDef.cell,i.getContext())},i.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:549,columnNumber:21},this))},o.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:543,columnNumber:17},this)):e.jsxDEV(P,{children:e.jsxDEV(K,{colSpan:H.length,className:"h-24 text-center text-muted-foreground",children:"No sponsors found."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:557,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:556,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:528,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:511,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:510,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center justify-between px-4 lg:px-6",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",p.getRowModel().rows.length," of"," ",p.getFilteredRowModel().rows.length," sponsor(s)"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:571,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),children:"Previous"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:577,columnNumber:11},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),children:"Next"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:586,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:576,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:570,columnNumber:7},this),C&&e.jsxDEV(n.Suspense,{fallback:null,children:e.jsxDEV(Cs,{open:j,onOpenChange:L,sponsorId:C,onSponsorUpdated:he},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:600,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:599,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:416,columnNumber:5},this)}const ks=n.lazy(()=>de(()=>import("./sponsor-create-modal-DZf9J26J.js"),__vite__mapDeps([3,1,2])).then(s=>({default:s.CreateSponsorModal})));function sa(){const[s,a]=n.useState(!1),[t,d]=n.useState(0),r=async()=>{d(c=>c+1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(He,{title:"Sponsors"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:19,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV("div",{className:"px-4 lg:px-6 py-6 border-b border-border/50",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(us,{className:"size-6 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:26,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-semibold",children:"Sponsors"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:28,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Manage sponsorship packages and their league assignments"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:29,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:27,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:25,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(E,{variant:"outline",size:"sm",children:[e.jsxDEV(ds,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:36,columnNumber:19},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:35,columnNumber:17},this),e.jsxDEV(E,{size:"sm",onClick:()=>a(!0),children:[e.jsxDEV(cs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:40,columnNumber:19},this),"Create Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:39,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:34,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:23,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(Is,{refreshTrigger:t},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:20,columnNumber:7},this),e.jsxDEV(n.Suspense,{fallback:null,children:e.jsxDEV(ks,{open:s,onOpenChange:a,onSponsorCreated:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:54,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:18,columnNumber:5},this)}export{sa as default};
