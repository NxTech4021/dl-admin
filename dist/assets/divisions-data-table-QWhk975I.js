import{u as Ne,r as o,k as C,l as A,t as f,j as e,B as L,I as De,a0 as ge,a1 as xe,a2 as ve,a3 as fe,a4 as Y,m as pe,F as J,d as O}from"./index-BhJxrXm-.js";import{t as he,f as we,a as Le}from"./animation-variants-DxvUkNuY.js";import{d as K}from"./division-schema-gPrDsMOQ.js";import ye from"./division-create-modal-Dd6apYhy.js";import{A as Ae,a as Ee,b as je,c as Ue,d as Ve,e as Ce,f as Se,g as ke}from"./alert-dialog-CPWj1quG.js";import{T as Ie,a as Te,b as Me,c as D,d as g}from"./table-DrYcIDvM.js";import{T as Re,n as ze,o as Oe,p as Fe}from"./use-notifications-DLwVzHk4.js";import{S as Pe}from"./skeleton-n4fk542y.js";import{D as Be,a as _e}from"./division-detail-modal-DKPUZK0-.js";import{A as S}from"./constants-D_wQXR5Q.js";import{I as $e}from"./IconAlertTriangle-DELXx4Ok.js";import{I as Ge}from"./IconDownload-CRGlJiPa.js";import{I as He,m as Q,f as qe,b as Ye}from"./site-header-CLzro3EY.js";import{I as Je}from"./IconCategory-DGtWAGSj.js";import{I as Ke}from"./IconUser-D5qU5Ckw.js";import{I as Qe}from"./IconSettings-CaurdpWY.js";import{I as We}from"./IconChevronLeft-CEnxh4B0.js";import{I as Xe}from"./IconChevronRight-DADmNcDF.js";import{a as W}from"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./zod-hOheJLO8.js";import"./IconEye-DAVnnHd5.js";import"./IconArrowRight-gPRxoJEh.js";import"./IconArrowLeft-DzR-tKjx.js";import"./dropdown-menu-BtL9yl7Q.js";import"./index-Djh1U9zQ.js";import"./IconDotsVertical-BLDMi51Q.js";import"./IconEdit-DuSJ0m0x.js";import"./IconCopy-BXOySSOk.js";import"./IconHash-DufQVEkv.js";import"./IconCrown-B8JSuKz1.js";const Ze=c=>{switch(c==null?void 0:c.toLowerCase()){case"beginner":return"text-sky-700 bg-sky-50 border-sky-200 dark:bg-sky-950/40 dark:text-sky-400 dark:border-sky-800";case"intermediate":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";case"advanced":return"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},ea=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"Unknown",aa=(c,N)=>{if(!N||N===0)return{percentage:0,colorClass:"bg-slate-400",textColor:"text-slate-600",label:c.toString()};const m=Math.min(c/N*100,100);return m>=100?{percentage:100,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Full"}:m>=90?{percentage:m,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Almost full"}:m>=70?{percentage:m,colorClass:"bg-amber-500",textColor:"text-amber-600 dark:text-amber-400",label:"Filling"}:{percentage:m,colorClass:"bg-emerald-500",textColor:"text-emerald-600 dark:text-emerald-400",label:""}};function Ia(){const c=Ne(),[N,m]=o.useState([]),[X,E]=o.useState(!0),[F,p]=o.useState(null),[j,Z]=o.useState(""),[ee,ae]=o.useState([]),[U,se]=o.useState("all"),[b,y]=o.useState(1),h=20,[ie,P]=o.useState(null),[te,B]=o.useState(!1),[r,k]=o.useState(null),[le,I]=o.useState(!1),[w,T]=o.useState(null),[ne,M]=o.useState(!1),[R,_]=o.useState(!1),x=o.useCallback(async()=>{var a,l,s,d;E(!0),p(null);try{const t=await C.get(A.division.getAll);if(!t.data){m([]),p("No data received from server"),f.error("No data received from server");return}let i=t.data;if(t.data.data&&Array.isArray(t.data.data))i=t.data.data;else if(t.data.divisions&&Array.isArray(t.data.divisions))i=t.data.divisions;else if(Array.isArray(t.data))i=t.data;else{m([]),p("Invalid data format from server"),f.error("Invalid data format from server");return}try{const n=W(K).parse(i);m(n)}catch{m(i)}}catch(t){const i=((l=(a=t.response)==null?void 0:a.data)==null?void 0:l.message)||((d=(s=t.response)==null?void 0:s.data)==null?void 0:d.error)||t.message||S.ERROR.LOAD_FAILED;m([]),p(i),f.error(i)}finally{E(!1)}},[]),$=o.useCallback(async()=>{var a;try{const l=await C.get(A.season.getAll),s=((a=l.data)==null?void 0:a.data)||l.data||[];ae(Array.isArray(s)?s:[])}catch(l){console.error("Failed to fetch seasons:",l)}},[]),z=o.useCallback(async a=>{var l,s,d,t;E(!0),p(null);try{const i=a==="all"?A.division.getAll:A.division.getBySeasonId(a),n=await C.get(i);let u=((l=n.data)==null?void 0:l.data)||((s=n.data)==null?void 0:s.divisions)||n.data||[];Array.isArray(u)||(u=[]);try{const be=W(K).parse(u);m(be)}catch{m(u)}}catch(i){p(((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.message)||i.message||"Failed to load divisions"),m([])}finally{E(!1)}},[]),oe=o.useCallback(()=>{if(N.length===0){f.error("No data to export");return}const a=["Name","Season","Level","Game Type","Gender","Max Singles","Max Doubles Teams","Current Singles","Current Doubles","Threshold","Prize Pool","Sponsor","Status","Auto Assignment","Created At","Updated At"],l=N.map(n=>{var u;return[n.name,((u=n.season)==null?void 0:u.name)||"",n.divisionLevel||"",n.gameType||"",n.genderCategory||"",n.maxSingles||"",n.maxDoublesTeams||"",n.currentSinglesCount||0,n.currentDoublesCount||0,n.threshold||"",n.prizePoolTotal||"",n.sponsoredDivisionName||"",n.isActive?"Active":"Inactive",n.autoAssignmentEnabled?"Yes":"No",n.createdAt,n.updatedAt]}),s=[a.join(","),...l.map(n=>n.map(u=>`"${String(u).replace(/"/g,'""')}"`).join(","))].join(`
`),d=new Blob([s],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(d),i=document.createElement("a");i.href=t,i.download=`divisions-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t),f.success("Divisions exported successfully")},[N]);o.useEffect(()=>{x(),$()},[x,$]),o.useEffect(()=>{z(U)},[U,z]);const de=o.useCallback(a=>{P(a),B(!0)},[]),G=o.useCallback(a=>{k(a),I(!0)},[]),re=o.useCallback(a=>{T(a),M(!0)},[]),me=o.useCallback(async()=>{var a,l,s,d,t;if(w)try{_(!0);const i=await C.delete(A.division.delete(w.id));f.success(((a=i.data)==null?void 0:a.message)??S.SUCCESS.DELETE),await x(),T(null),M(!1)}catch(i){const n=((s=(l=i.response)==null?void 0:l.data)==null?void 0:s.message)||((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.error)||i.message||S.ERROR.DELETE_FAILED;f.error(n)}finally{_(!1)}},[w,x]),ce=o.useCallback(async()=>{await x(),k(null),I(!1)},[x]),H=o.useCallback(a=>{c({to:`/divisions/${a.id}?tab=players`})},[c]),ue=o.useMemo(()=>r?{id:r.id,seasonId:r.seasonId,name:r.name,description:r.description??null,threshold:r.threshold??null,divisionLevel:r.divisionLevel,gameType:r.gameType,genderCategory:r.genderCategory??null,maxSingles:r.maxSingles??null,maxDoublesTeams:r.maxDoublesTeams??null,autoAssignmentEnabled:r.autoAssignmentEnabled??!1,isActive:r.isActive,prizePoolTotal:r.prizePoolTotal??null,sponsoredDivisionName:r.sponsoredDivisionName??null}:null,[r]),V=o.useMemo(()=>{if(!j)return N;const a=j.toLowerCase();return N.filter(l=>{var s,d,t,i;return l.name.toLowerCase().includes(a)||((d=(s=l.season)==null?void 0:s.name)==null?void 0:d.toLowerCase().includes(a))||((t=l.divisionLevel)==null?void 0:t.toLowerCase().includes(a))||((i=l.gameType)==null?void 0:i.toLowerCase().includes(a))})},[N,j]),v=Math.ceil(V.length/h),q=V.slice((b-1)*h,b*h);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-4",children:[F&&e.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV($e,{className:"h-5 w-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:343,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold",children:"Error loading divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:345,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm mt-1",children:F},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:346,columnNumber:17},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:x,className:"mt-2",children:"Try Again"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:347,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:344,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:342,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:341,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full md:w-auto",children:[e.jsxDEV(De,{placeholder:"Search divisions...",value:j,onChange:a=>{Z(a.target.value),y(1)},className:"w-full sm:w-80"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:358,columnNumber:13},this),e.jsxDEV(ge,{value:U,onValueChange:a=>{se(a),y(1)},children:[e.jsxDEV(xe,{className:"w-full sm:w-[200px]",children:e.jsxDEV(ve,{placeholder:"Filter by season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:366,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:365,columnNumber:15},this),e.jsxDEV(fe,{children:[e.jsxDEV(Y,{value:"all",children:"All Seasons"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:369,columnNumber:17},this),ee.map(a=>e.jsxDEV(Y,{value:a.id,children:a.name},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:371,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:364,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:357,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:oe,children:[e.jsxDEV(Ge,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:380,columnNumber:15},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:379,columnNumber:13},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>z(U),children:[e.jsxDEV(He,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:384,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:383,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:378,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:356,columnNumber:9},this),X?e.jsxDEV("div",{className:"space-y-4",children:[...Array(5)].map((a,l)=>e.jsxDEV(Pe,{className:"h-12 w-full"},l,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:394,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:392,columnNumber:11},this):q.length>0?e.jsxDEV(Re,{children:e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{children:e.jsxDEV(Me,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(D,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:403,columnNumber:21},this),e.jsxDEV(D,{className:"py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:404,columnNumber:21},this),e.jsxDEV(D,{className:"w-[160px] py-2.5 font-medium text-xs",children:"Season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:405,columnNumber:21},this),e.jsxDEV(D,{className:"w-[110px] py-2.5 font-medium text-xs",children:"Level"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:406,columnNumber:21},this),e.jsxDEV(D,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Type"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:407,columnNumber:21},this),e.jsxDEV(D,{className:"w-[150px] py-2.5 font-medium text-xs",children:"Capacity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:408,columnNumber:21},this),e.jsxDEV(D,{className:"w-[90px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:409,columnNumber:21},this),e.jsxDEV(D,{className:"w-[60px] py-2.5 font-medium text-xs text-center",children:"Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:410,columnNumber:21},this),e.jsxDEV(D,{className:"w-[50px] py-2.5 pr-4 font-medium text-xs",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:411,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:402,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV(Q.tbody,{initial:"hidden",animate:"visible",variants:he,children:q.map((a,l)=>{var u;const s=((u=a.gameType)==null?void 0:u.toLowerCase())==="doubles",d=s?a.currentDoublesCount||0:a.currentSinglesCount||0,t=s?a.maxDoublesTeams:a.maxSingles,i=aa(d,t),n=a.season;return e.jsxDEV(Q.tr,{variants:Le,transition:we,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(g,{className:"py-3 pl-4 text-sm text-muted-foreground",children:(b-1)*h+l+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:434,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10",children:e.jsxDEV(Je,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:442,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:441,columnNumber:29},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV(pe,{to:"/divisions/$divisionId",params:{divisionId:a.id},className:"font-medium hover:text-primary transition-colors block truncate max-w-[200px]",children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:445,columnNumber:31},this),a.threshold&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[a.threshold,"+ pts"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:453,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:444,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:440,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:439,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:n?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(qe,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:465,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:n.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:466,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:464,columnNumber:29},this):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:469,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:462,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(J,{variant:"outline",className:O("text-xs font-medium border",Ze(a.divisionLevel)),children:ea(a.divisionLevel)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:475,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:474,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s?e.jsxDEV(Ye,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:487,columnNumber:31},this):e.jsxDEV(Ke,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:489,columnNumber:31},this),e.jsxDEV("span",{children:s?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:491,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:485,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:484,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:t?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-14 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsxDEV("div",{className:O("h-full rounded-full transition-all",i.colorClass),style:{width:`${i.percentage}%`}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:500,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:499,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm font-medium",children:[d,e.jsxDEV("span",{className:"text-muted-foreground font-normal",children:["/",t]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:506,columnNumber:47},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:505,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:498,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm",children:[d," ",s?"teams":"players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:510,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:496,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(J,{variant:"outline",className:O("text-xs",a.isActive?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-950/30 dark:text-emerald-400 dark:border-emerald-800":"bg-slate-50 text-slate-600 dark:bg-slate-900/30 dark:text-slate-400"),children:a.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:516,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:515,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 text-center",children:a.autoAssignmentEnabled?e.jsxDEV(ze,{children:[e.jsxDEV(Oe,{asChild:!0,children:e.jsxDEV(Qe,{className:"size-4 text-blue-500 mx-auto"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:534,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:533,columnNumber:31},this),e.jsxDEV(Fe,{children:e.jsxDEV("p",{children:"Auto-assignment enabled"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:537,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:536,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:532,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:541,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:530,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 pr-4",children:e.jsxDEV(Be,{division:a,onView:de,onEdit:G,onDelete:re,onManagePlayers:H},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:547,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:546,columnNumber:25},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:427,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:414,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:400,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:399,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:398,columnNumber:11},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No divisions found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:563,columnNumber:11},this),v>1&&e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*h+1," to ",Math.min(b*h,V.length)," of ",V.length," divisions"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:571,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.max(1,a-1)),disabled:b===1,children:[e.jsxDEV(We,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:581,columnNumber:17},this),"Previous"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:575,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,v)},(a,l)=>{let s;return v<=5||b<=3?s=l+1:b>=v-2?s=v-4+l:s=b-2+l,e.jsxDEV(L,{variant:b===s?"default":"outline",size:"sm",className:"w-8 h-8 p-0",onClick:()=>y(s),children:s},s,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:597,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:584,columnNumber:15},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.min(v,a+1)),disabled:b===v,children:["Next",e.jsxDEV(Xe,{className:"size-4 ml-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:616,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:609,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:574,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:570,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:338,columnNumber:7},this),e.jsxDEV(_e,{division:ie,open:te,onOpenChange:a=>{a||P(null),B(a)},onEdit:G,onManagePlayers:H},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:624,columnNumber:7},this),e.jsxDEV(ye,{open:le,onOpenChange:a=>{a||k(null),I(a)},onDivisionCreated:ce,mode:"edit",division:ue},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:636,columnNumber:7},this),e.jsxDEV(Ae,{open:ne,onOpenChange:a=>{a||T(null),M(a)},children:e.jsxDEV(Ee,{children:[e.jsxDEV(je,{children:[e.jsxDEV(Ue,{children:"Delete division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:657,columnNumber:13},this),e.jsxDEV(Ve,{children:[S.DELETE_CONFIRM,e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:660,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold",children:(w==null?void 0:w.name)??"this division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:661,columnNumber:15},this),"? This action cannot be undone."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:658,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:656,columnNumber:11},this),e.jsxDEV(Ce,{children:[e.jsxDEV(Se,{disabled:R,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:665,columnNumber:13},this),e.jsxDEV(ke,{onClick:me,disabled:R,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:R?"Deleting...":"Delete"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:666,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:664,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:655,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:648,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:337,columnNumber:5},this)}export{Ia as DivisionsDataTable};
