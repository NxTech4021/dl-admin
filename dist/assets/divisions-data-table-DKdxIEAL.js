import{u as Ne,r as o,k as C,l as A,t as f,j as e,B as L,I as De,a0 as ge,a1 as xe,a2 as ve,a3 as fe,a4 as J,m as pe,F as K,d as F}from"./index-D8KKTljB.js";import{t as he,f as we,a as Le}from"./animation-variants-Don9j8OV.js";import{d as Q}from"./division-schema-gPrDsMOQ.js";import ye from"./division-create-modal-akTp6vVD.js";import{A as Ae,a as Ee,b as je,c as Ue,d as Ve,e as Ce,f as Se,g as ke}from"./alert-dialog-BJCm76Cf.js";import{T as Ie,a as Te,b as Me,c as D,d as g}from"./table-BQuTTLn1.js";import{T as Re,n as ze,o as Oe,p as Fe}from"./use-notifications-D-NzRADo.js";import{S as Pe}from"./skeleton-B3c0iM0c.js";import{D as Be,a as _e}from"./division-detail-modal-ztKcvGuz.js";import{A as S}from"./constants-D_wQXR5Q.js";import{I as $e}from"./IconAlertTriangle-DOqhpGgR.js";import{I as Ge}from"./IconDownload-BYj2FHRf.js";import{I as He,m as W,f as qe,b as Ye}from"./site-header-Df6nPaCJ.js";import{I as Je}from"./IconCategory-BuKO3TSL.js";import{I as Ke}from"./IconUser-BG_dn25-.js";import{I as Qe}from"./IconSettings-Bz2GVG9m.js";import{I as We}from"./IconChevronLeft-DN2pC-YY.js";import{I as Xe}from"./IconChevronRight-Bk7RSrDU.js";import{a as X}from"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./zod-BtTWvNTf.js";import"./IconEye-CEv3L8Fi.js";import"./IconArrowRight-BpHAEbau.js";import"./IconArrowLeft-PuZZFsBy.js";import"./dropdown-menu-CsY4Y1KY.js";import"./index-BhWjgzO-.js";import"./IconDotsVertical-CdD0z0qJ.js";import"./IconEdit-D0hv9ArK.js";import"./IconCopy-CHQuuDcc.js";import"./IconHash-CwOhKNJS.js";import"./IconCrown-By9qiCin.js";const Ze=c=>{switch(c==null?void 0:c.toLowerCase()){case"beginner":return"text-sky-700 bg-sky-50 border-sky-200 dark:bg-sky-950/40 dark:text-sky-400 dark:border-sky-800";case"intermediate":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";case"advanced":return"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},ea=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"Unknown",aa=(c,N)=>{if(!N||N===0)return{percentage:0,colorClass:"bg-slate-400",textColor:"text-slate-600",label:c.toString()};const m=Math.min(c/N*100,100);return m>=100?{percentage:100,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Full"}:m>=90?{percentage:m,colorClass:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"Almost full"}:m>=70?{percentage:m,colorClass:"bg-amber-500",textColor:"text-amber-600 dark:text-amber-400",label:"Filling"}:{percentage:m,colorClass:"bg-emerald-500",textColor:"text-emerald-600 dark:text-emerald-400",label:""}};function Ia(){const c=Ne(),[N,m]=o.useState([]),[Z,E]=o.useState(!0),[P,p]=o.useState(null),[j,ee]=o.useState(""),[ae,se]=o.useState([]),[U,ie]=o.useState("all"),[b,y]=o.useState(1),h=20,[te,B]=o.useState(null),[le,_]=o.useState(!1),[r,k]=o.useState(null),[ne,I]=o.useState(!1),[w,T]=o.useState(null),[oe,M]=o.useState(!1),[R,$]=o.useState(!1),x=o.useCallback(async()=>{var a,l,s,d;E(!0),p(null);try{const t=await C.get(A.division.getAll);if(!t.data){m([]),p("No data received from server"),f.error("No data received from server");return}let i=t.data;if(t.data.data&&Array.isArray(t.data.data))i=t.data.data;else if(t.data.divisions&&Array.isArray(t.data.divisions))i=t.data.divisions;else if(Array.isArray(t.data))i=t.data;else{m([]),p("Invalid data format from server"),f.error("Invalid data format from server");return}try{const n=X(Q).parse(i);m(n)}catch{m(i)}}catch(t){const i=((l=(a=t.response)==null?void 0:a.data)==null?void 0:l.message)||((d=(s=t.response)==null?void 0:s.data)==null?void 0:d.error)||t.message||S.ERROR.LOAD_FAILED;m([]),p(i),f.error(i)}finally{E(!1)}},[]),G=o.useCallback(async()=>{var a;try{const l=await C.get(A.season.getAll),s=((a=l.data)==null?void 0:a.data)||l.data||[];se(Array.isArray(s)?s:[])}catch(l){console.error("Failed to fetch seasons:",l)}},[]),z=o.useCallback(async a=>{var l,s,d,t;E(!0),p(null);try{const i=a==="all"?A.division.getAll:A.division.getBySeasonId(a),n=await C.get(i);let u=((l=n.data)==null?void 0:l.data)||((s=n.data)==null?void 0:s.divisions)||n.data||[];Array.isArray(u)||(u=[]);try{const O=X(Q).parse(u);m(O)}catch{m(u)}}catch(i){p(((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.message)||i.message||"Failed to load divisions"),m([])}finally{E(!1)}},[]),de=o.useCallback(()=>{if(N.length===0){f.error("No data to export");return}const a=["Name","Season","Level","Game Type","Gender","Max Singles","Max Doubles Teams","Current Singles","Current Doubles","Threshold","Prize Pool","Sponsor","Status","Auto Assignment","Created At","Updated At"],l=N.map(n=>{var u;return[n.name,((u=n.season)==null?void 0:u.name)||"",n.divisionLevel||"",n.gameType||"",n.genderCategory||"",n.maxSingles||"",n.maxDoublesTeams||"",n.currentSinglesCount||0,n.currentDoublesCount||0,n.threshold||"",n.prizePoolTotal||"",n.sponsoredDivisionName||"",n.isActive?"Active":"Inactive",n.autoAssignmentEnabled?"Yes":"No",n.createdAt,n.updatedAt]}),s=[a.join(","),...l.map(n=>n.map(u=>`"${String(u).replace(/"/g,'""')}"`).join(","))].join(`
`),d=new Blob([s],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(d),i=document.createElement("a");i.href=t,i.download=`divisions-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t),f.success("Divisions exported successfully")},[N]);o.useEffect(()=>{x(),G()},[x,G]),o.useEffect(()=>{z(U)},[U,z]);const re=o.useCallback(a=>{B(a),_(!0)},[]),H=o.useCallback(a=>{k(a),I(!0)},[]),me=o.useCallback(a=>{T(a),M(!0)},[]),ce=o.useCallback(async()=>{var a,l,s,d,t;if(w)try{$(!0);const i=await C.delete(A.division.delete(w.id));f.success(((a=i.data)==null?void 0:a.message)??S.SUCCESS.DELETE),await x(),T(null),M(!1)}catch(i){const n=((s=(l=i.response)==null?void 0:l.data)==null?void 0:s.message)||((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.error)||i.message||S.ERROR.DELETE_FAILED;f.error(n)}finally{$(!1)}},[w,x]),ue=o.useCallback(async()=>{await x(),k(null),I(!1)},[x]),q=o.useCallback(a=>{c({to:`/divisions/${a.id}?tab=players`})},[c]),be=o.useMemo(()=>r?{id:r.id,seasonId:r.seasonId,name:r.name,description:r.description??null,threshold:r.threshold??null,divisionLevel:r.divisionLevel,gameType:r.gameType,genderCategory:r.genderCategory??null,maxSingles:r.maxSingles??null,maxDoublesTeams:r.maxDoublesTeams??null,autoAssignmentEnabled:r.autoAssignmentEnabled??!1,isActive:r.isActive,prizePoolTotal:r.prizePoolTotal??null,sponsoredDivisionName:r.sponsoredDivisionName??null}:null,[r]),V=o.useMemo(()=>{if(!j)return N;const a=j.toLowerCase();return N.filter(l=>{var s,d,t,i;return l.name.toLowerCase().includes(a)||((d=(s=l.season)==null?void 0:s.name)==null?void 0:d.toLowerCase().includes(a))||((t=l.divisionLevel)==null?void 0:t.toLowerCase().includes(a))||((i=l.gameType)==null?void 0:i.toLowerCase().includes(a))})},[N,j]),v=Math.ceil(V.length/h),Y=V.slice((b-1)*h,b*h);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-4",children:[P&&e.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV($e,{className:"h-5 w-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:343,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold",children:"Error loading divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:345,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm mt-1",children:P},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:346,columnNumber:17},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:x,className:"mt-2",children:"Try Again"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:347,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:344,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:342,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:341,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full md:w-auto",children:[e.jsxDEV(De,{placeholder:"Search divisions...",value:j,onChange:a=>{ee(a.target.value),y(1)},className:"w-full sm:w-80"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:358,columnNumber:13},this),e.jsxDEV(ge,{value:U,onValueChange:a=>{ie(a),y(1)},children:[e.jsxDEV(xe,{className:"w-full sm:w-[200px]",children:e.jsxDEV(ve,{placeholder:"Filter by season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:366,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:365,columnNumber:15},this),e.jsxDEV(fe,{children:[e.jsxDEV(J,{value:"all",children:"All Seasons"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:369,columnNumber:17},this),ae.map(a=>e.jsxDEV(J,{value:a.id,children:a.name},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:371,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:364,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:357,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:de,children:[e.jsxDEV(Ge,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:380,columnNumber:15},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:379,columnNumber:13},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>z(U),children:[e.jsxDEV(He,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:384,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:383,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:378,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:356,columnNumber:9},this),Z?e.jsxDEV("div",{className:"space-y-4",children:[...Array(5)].map((a,l)=>e.jsxDEV(Pe,{className:"h-12 w-full"},l,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:394,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:392,columnNumber:11},this):Y.length>0?e.jsxDEV(Re,{children:e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(Ie,{children:[e.jsxDEV(Te,{children:e.jsxDEV(Me,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(D,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:403,columnNumber:21},this),e.jsxDEV(D,{className:"py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:404,columnNumber:21},this),e.jsxDEV(D,{className:"w-[160px] py-2.5 font-medium text-xs",children:"Season"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:405,columnNumber:21},this),e.jsxDEV(D,{className:"w-[110px] py-2.5 font-medium text-xs",children:"Level"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:406,columnNumber:21},this),e.jsxDEV(D,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Type"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:407,columnNumber:21},this),e.jsxDEV(D,{className:"w-[150px] py-2.5 font-medium text-xs",children:"Capacity"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:408,columnNumber:21},this),e.jsxDEV(D,{className:"w-[90px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:409,columnNumber:21},this),e.jsxDEV(D,{className:"w-[60px] py-2.5 font-medium text-xs text-center",children:"Flags"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:410,columnNumber:21},this),e.jsxDEV(D,{className:"w-[50px] py-2.5 pr-4 font-medium text-xs",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:411,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:402,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV(W.tbody,{initial:"hidden",animate:"visible",variants:he,children:Y.map((a,l)=>{var u;const s=((u=a.gameType)==null?void 0:u.toLowerCase())==="doubles",d=s?a.currentDoublesCount||0:a.currentSinglesCount||0,t=s?a.maxDoublesTeams:a.maxSingles,i=aa(d,t),n=a.season;return e.jsxDEV(W.tr,{variants:Le,transition:we,className:"hover:bg-muted/30 border-b transition-colors cursor-pointer",onClick:()=>c({to:"/divisions/$divisionId",params:{divisionId:a.id}}),children:[e.jsxDEV(g,{className:"py-3 pl-4 text-sm text-muted-foreground",children:(b-1)*h+l+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:435,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10",children:e.jsxDEV(Je,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:443,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:442,columnNumber:29},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV(pe,{to:"/divisions/$divisionId",params:{divisionId:a.id},className:"font-medium hover:text-primary transition-colors block truncate max-w-[200px]",children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:446,columnNumber:31},this),a.threshold&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[a.threshold,"+ pts"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:454,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:445,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:441,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:440,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:n?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(qe,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:466,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm truncate max-w-[120px]",children:n.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:467,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:465,columnNumber:29},this):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:470,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:463,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(K,{variant:"outline",className:F("text-xs font-medium border",Ze(a.divisionLevel)),children:ea(a.divisionLevel)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:476,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:475,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s?e.jsxDEV(Ye,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:488,columnNumber:31},this):e.jsxDEV(Ke,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:490,columnNumber:31},this),e.jsxDEV("span",{children:s?"Doubles":"Singles"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:492,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:486,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:485,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:t?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-14 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsxDEV("div",{className:F("h-full rounded-full transition-all",i.colorClass),style:{width:`${i.percentage}%`}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:501,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:500,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm font-medium",children:[d,e.jsxDEV("span",{className:"text-muted-foreground font-normal",children:["/",t]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:507,columnNumber:47},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:506,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:499,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm",children:[d," ",s?"teams":"players"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:511,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:497,columnNumber:25},this),e.jsxDEV(g,{className:"py-3",children:e.jsxDEV(K,{variant:"outline",className:F("text-xs",a.isActive?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-950/30 dark:text-emerald-400 dark:border-emerald-800":"bg-slate-50 text-slate-600 dark:bg-slate-900/30 dark:text-slate-400"),children:a.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:517,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:516,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 text-center",children:a.autoAssignmentEnabled?e.jsxDEV(ze,{children:[e.jsxDEV(Oe,{asChild:!0,children:e.jsxDEV(Qe,{className:"size-4 text-blue-500 mx-auto"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:535,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:534,columnNumber:31},this),e.jsxDEV(Fe,{children:e.jsxDEV("p",{children:"Auto-assignment enabled"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:538,columnNumber:33},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:537,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:533,columnNumber:29},this):e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:542,columnNumber:29},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:531,columnNumber:25},this),e.jsxDEV(g,{className:"py-3 pr-4",onClick:O=>O.stopPropagation(),children:e.jsxDEV(Be,{division:a,onView:re,onEdit:H,onDelete:me,onManagePlayers:q},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:548,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:547,columnNumber:25},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:427,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:414,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:400,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:399,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:398,columnNumber:11},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No divisions found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:564,columnNumber:11},this),v>1&&e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*h+1," to ",Math.min(b*h,V.length)," of ",V.length," divisions"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:572,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.max(1,a-1)),disabled:b===1,children:[e.jsxDEV(We,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:582,columnNumber:17},this),"Previous"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:576,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,v)},(a,l)=>{let s;return v<=5||b<=3?s=l+1:b>=v-2?s=v-4+l:s=b-2+l,e.jsxDEV(L,{variant:b===s?"default":"outline",size:"sm",className:"w-8 h-8 p-0",onClick:()=>y(s),children:s},s,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:598,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:585,columnNumber:15},this),e.jsxDEV(L,{variant:"outline",size:"sm",onClick:()=>y(a=>Math.min(v,a+1)),disabled:b===v,children:["Next",e.jsxDEV(Xe,{className:"size-4 ml-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:617,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:610,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:575,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:571,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:338,columnNumber:7},this),e.jsxDEV(_e,{division:te,open:le,onOpenChange:a=>{a||B(null),_(a)},onEdit:H,onManagePlayers:q},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:625,columnNumber:7},this),e.jsxDEV(ye,{open:ne,onOpenChange:a=>{a||k(null),I(a)},onDivisionCreated:ue,mode:"edit",division:be},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:637,columnNumber:7},this),e.jsxDEV(Ae,{open:oe,onOpenChange:a=>{a||T(null),M(a)},children:e.jsxDEV(Ee,{children:[e.jsxDEV(je,{children:[e.jsxDEV(Ue,{children:"Delete division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:658,columnNumber:13},this),e.jsxDEV(Ve,{children:[S.DELETE_CONFIRM,e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:661,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold",children:(w==null?void 0:w.name)??"this division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:662,columnNumber:15},this),"? This action cannot be undone."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:659,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:657,columnNumber:11},this),e.jsxDEV(Ce,{children:[e.jsxDEV(Se,{disabled:R,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:666,columnNumber:13},this),e.jsxDEV(ke,{onClick:ce,disabled:R,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:R?"Deleting...":"Delete"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:667,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:665,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:656,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:649,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/divisions-data-table.tsx",lineNumber:337,columnNumber:5},this)}export{Ia as DivisionsDataTable};
