const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sponsor-edit-modal-B5bSc85t.js","assets/index-24J_mi6z.js","assets/index-C17izGZI.css","assets/sponsor-create-modal-DZIxyhcz.js"])))=>i.map(i=>d[i]);
import{E as G,r as n,iO as de,av as ye,aw as u,ax as Ee,iP as Ae,iQ as je,ay as Ve,aA as N,aB as ce,iR as Ue,az as Se,iT as Ce,iU as Re,iS as Pe,j as e,d as Te,a6 as P,as as Me,a9 as J,ar as ke,a8 as h,I as Ie,B as E,J as S,aj as Fe,ak as _e,al as Oe,am as He,an as Q,N as ze,k as X,l as ee,ah as se,ad as me,af as Be}from"./index-24J_mi6z.js";import{m as ae,c as $e,l as Ke,S as Ge}from"./site-header-BtYyQ2Bz.js";import{u as We,g as qe,a as Ye,b as Ze,c as Je,d as Qe,e as Xe,f as ne}from"./index-D0T5oBRo.js";import{t as es,f as ss,a as as}from"./animation-variants-Don9j8OV.js";import{D as ns,a as ts,b as os,f as z,d as ls}from"./dropdown-menu-ziHghIVr.js";import{T as rs,a as is,b as B,c as ds,d as $}from"./table-Cbfa69eZ.js";import{d as te}from"./coerce-D4J0VXwb.js";import{I as cs}from"./IconChevronDown-BxLy095V.js";import{I as ms}from"./IconDotsVertical-C7s4Z6YM.js";import{I as us}from"./IconEye-DjBkodmw.js";import{I as ps}from"./IconEdit-BHLQ4c-E.js";import{d as oe}from"./animated-container-a84_MVGY.js";import{I as bs}from"./IconDownload-DvOtba7Q.js";import"./use-notifications-BUTLONJF.js";import"./index-FxfVfo46.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M17.1 8.648a.568 .568 0 0 1 -.761 .011a5.682 5.682 0 0 0 -3.659 -1.34c-1.102 0 -2.205 .363 -2.205 1.374c0 1.023 1.182 1.364 2.546 1.875c2.386 .796 4.363 1.796 4.363 4.137c0 2.545 -1.977 4.295 -5.204 4.488l-.295 1.364a.557 .557 0 0 1 -.546 .443h-2.034l-.102 -.011a.568 .568 0 0 1 -.432 -.67l.318 -1.444a7.432 7.432 0 0 1 -3.273 -1.784v-.011a.545 .545 0 0 1 0 -.773l1.137 -1.102c.214 -.2 .547 -.2 .761 0a5.495 5.495 0 0 0 3.852 1.5c1.478 0 2.466 -.625 2.466 -1.614c0 -.989 -1 -1.25 -2.886 -1.954c-2 -.716 -3.898 -1.728 -3.898 -4.091c0 -2.75 2.284 -4.091 4.989 -4.216l.284 -1.398a.545 .545 0 0 1 .545 -.432h2.023l.114 .012a.544 .544 0 0 1 .42 .647l-.307 1.557a8.528 8.528 0 0 1 2.818 1.58l.023 .022c.216 .228 .216 .569 0 .773l-1.057 1.057z",key:"svg-0"}]],fs=G("outline","brand-cashapp","BrandCashapp",gs);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],Ds=G("outline","chevron-up","ChevronUp",Ns);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],ws=G("outline","filter","Filter",xs);var K,k="HoverCard",[ue]=Ee(k,[de]),I=de(),[hs,F]=ue(k),pe=s=>{const{__scopeHoverCard:a,children:t,open:d,defaultOpen:r,onOpenChange:c,openDelay:D=700,closeDelay:x=300}=s,m=I(a),v=n.useRef(0),b=n.useRef(0),A=n.useRef(!1),g=n.useRef(!1),[w,l]=ye({prop:d,defaultProp:r??!1,onChange:c,caller:k}),j=n.useCallback(()=>{clearTimeout(b.current),v.current=window.setTimeout(()=>l(!0),D)},[D,l]),L=n.useCallback(()=>{clearTimeout(v.current),!A.current&&!g.current&&(b.current=window.setTimeout(()=>l(!1),x))},[x,l]),C=n.useCallback(()=>l(!1),[l]);return n.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(b.current)},[]),u.jsx(hs,{scope:a,open:w,onOpenChange:l,onOpen:j,onClose:L,onDismiss:C,hasSelectionRef:A,isPointerDownOnContentRef:g,children:u.jsx(Ae,{...m,children:t})})};pe.displayName=k;var be="HoverCardTrigger",ge=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,...d}=s,r=F(be,t),c=I(t);return u.jsx(je,{asChild:!0,...c,children:u.jsx(Ve.a,{"data-state":r.open?"open":"closed",...d,ref:a,onPointerEnter:N(s.onPointerEnter,M(r.onOpen)),onPointerLeave:N(s.onPointerLeave,M(r.onClose)),onFocus:N(s.onFocus,r.onOpen),onBlur:N(s.onBlur,r.onClose),onTouchStart:N(s.onTouchStart,D=>D.preventDefault())})})});ge.displayName=be;var W="HoverCardPortal",[vs,Ls]=ue(W,{forceMount:void 0}),fe=s=>{const{__scopeHoverCard:a,forceMount:t,children:d,container:r}=s,c=F(W,a);return u.jsx(vs,{scope:a,forceMount:t,children:u.jsx(ce,{present:t||c.open,children:u.jsx(Ue,{asChild:!0,container:r,children:d})})})};fe.displayName=W;var T="HoverCardContent",Ne=n.forwardRef((s,a)=>{const t=Ls(T,s.__scopeHoverCard),{forceMount:d=t.forceMount,...r}=s,c=F(T,s.__scopeHoverCard);return u.jsx(ce,{present:d||c.open,children:u.jsx(ys,{"data-state":c.open?"open":"closed",...r,onPointerEnter:N(s.onPointerEnter,M(c.onOpen)),onPointerLeave:N(s.onPointerLeave,M(c.onClose)),ref:a})})});Ne.displayName=T;var ys=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,onEscapeKeyDown:d,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:D,...x}=s,m=F(T,t),v=I(t),b=n.useRef(null),A=Se(a,b),[g,w]=n.useState(!1);return n.useEffect(()=>{if(g){const l=document.body;return K=l.style.userSelect||l.style.webkitUserSelect,l.style.userSelect="none",l.style.webkitUserSelect="none",()=>{l.style.userSelect=K,l.style.webkitUserSelect=K}}},[g]),n.useEffect(()=>{if(b.current){const l=()=>{w(!1),m.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var L;((L=document.getSelection())==null?void 0:L.toString())!==""&&(m.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",l),()=>{document.removeEventListener("pointerup",l),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!1}}},[m.isPointerDownOnContentRef,m.hasSelectionRef]),n.useEffect(()=>{b.current&&js(b.current).forEach(j=>j.setAttribute("tabindex","-1"))}),u.jsx(Ce,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:D,onEscapeKeyDown:d,onPointerDownOutside:r,onFocusOutside:N(c,l=>{l.preventDefault()}),onDismiss:m.onDismiss,children:u.jsx(Re,{...v,...x,onPointerDown:N(x.onPointerDown,l=>{l.currentTarget.contains(l.target)&&w(!0),m.hasSelectionRef.current=!1,m.isPointerDownOnContentRef.current=!0}),ref:A,style:{...x.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Es="HoverCardArrow",As=n.forwardRef((s,a)=>{const{__scopeHoverCard:t,...d}=s,r=I(t);return u.jsx(Pe,{...r,...d,ref:a})});As.displayName=Es;function M(s){return a=>a.pointerType==="touch"?void 0:s()}function js(s){const a=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d=>d.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)a.push(t.currentNode);return a}var Vs=pe,Us=ge,Ss=fe,Cs=Ne;function Rs({...s}){return e.jsxDEV(Vs,{"data-slot":"hover-card",...s},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:17,columnNumber:10},this)}function Ps({...s}){return e.jsxDEV(Us,{"data-slot":"hover-card-trigger",...s},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:24,columnNumber:5},this)}function Ts({className:s,align:a="center",sideOffset:t=4,...d}){return e.jsxDEV(Ss,{"data-slot":"hover-card-portal",children:e.jsxDEV(Cs,{"data-slot":"hover-card-content",align:a,sideOffset:t,className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:36,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/ui/hover-card.tsx",lineNumber:35,columnNumber:5},this)}const le=P({id:h(),name:h()}),re=P({id:h(),sponsoredName:h().nullable(),packageTier:ke(["BRONZE","SILVER","GOLD","PLATINUM"]),contractAmount:J().nullable(),sponsorRevenue:J().nullable(),createdAt:te(),updatedAt:te(),league:le.nullable().optional(),leagues:Me(le),company:P({id:h(),name:h()}).nullable().optional(),createdBy:P({id:h(),name:h()}).nullable().optional()}),Ms=n.lazy(()=>me(()=>import("./sponsor-edit-modal-B5bSc85t.js"),__vite__mapDeps([0,1,2])).then(s=>({default:s.SponsorEditModal}))),ks=s=>s?(s instanceof Date?s:new Date(s)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ie=s=>s==null?"-":new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(s),Is=s=>{switch(s==null?void 0:s.toUpperCase()){case"PLATINUM":return"default";case"GOLD":return"secondary";case"SILVER":return"outline";case"BRONZE":return"destructive";default:return"outline"}},Fs=s=>s.league?e.jsxDEV(Rs,{children:[e.jsxDEV(Ps,{children:e.jsxDEV(S,{variant:"secondary",className:"cursor-pointer",children:s.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:109,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:108,columnNumber:7},void 0),e.jsxDEV(Ts,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"text-sm font-medium",children:"Linked League"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:e.jsxDEV(S,{variant:"outline",className:"text-xs",children:s.league.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:117,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:114,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:113,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:107,columnNumber:5},void 0):e.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"No league"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:103,columnNumber:12},void 0),_s=s=>[{id:"select",header:({table:a})=>e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV(se,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>a.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:134,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:133,columnNumber:7},void 0),cell:({row:a})=>e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV(se,{checked:a.getIsSelected(),onCheckedChange:t=>a.toggleSelected(!!t),"aria-label":"Select row"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:145,columnNumber:7},void 0),enableSorting:!1,enableHiding:!1},{accessorKey:"sponsoredName",header:"Sponsor Name",cell:({row:a})=>e.jsxDEV("div",{className:"font-medium",children:a.original.sponsoredName||"Unnamed Sponsor"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:160,columnNumber:7},void 0),enableHiding:!1},{accessorKey:"packageTier",header:"Package Tier",cell:({row:a})=>{const t=a.original.packageTier;return e.jsxDEV(S,{variant:Is(t),className:"capitalize",children:t.toLowerCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:170,columnNumber:9},void 0)}},{accessorKey:"contractAmount",header:"Contract Amount",cell:({row:a})=>e.jsxDEV("span",{className:"text-sm font-medium",children:ie(a.original.contractAmount)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:180,columnNumber:7},void 0)},{accessorKey:"sponsorRevenue",header:"Sponsor Revenue",cell:({row:a})=>e.jsxDEV("span",{className:"text-sm font-medium",children:ie(a.original.sponsorRevenue)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:189,columnNumber:7},void 0)},{accessorKey:"league",header:"League",cell:({row:a})=>e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:Fs(a.original)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:198,columnNumber:7},void 0)},{accessorKey:"createdAt",header:"Created",cell:({row:a})=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV($e,{className:"size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:208,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-sm",children:ks(a.original.createdAt)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:209,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:207,columnNumber:7},void 0)},{id:"actions",cell:({row:a})=>{const t=a.original;return e.jsxDEV(ns,{children:[e.jsxDEV(ts,{asChild:!0,children:e.jsxDEV(E,{variant:"ghost",className:"hover:bg-muted hover:text-foreground transition-colors flex size-8",size:"icon",children:[e.jsxDEV(ms,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:226,columnNumber:15},void 0),e.jsxDEV("span",{className:"sr-only",children:"Open menu"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:227,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:221,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:220,columnNumber:11},void 0),e.jsxDEV(os,{align:"end",className:"w-52",children:[e.jsxDEV(z,{className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",onClick:()=>{console.log("View sponsor:",t.id)},children:[e.jsxDEV(us,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:239,columnNumber:15},void 0),"View Details"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:232,columnNumber:13},void 0),e.jsxDEV(z,{className:"cursor-pointer focus:bg-accent focus:text-accent-foreground",onClick:()=>s(t.id),children:[e.jsxDEV(ps,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:247,columnNumber:15},void 0),"Edit Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:243,columnNumber:13},void 0),e.jsxDEV(ls,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:251,columnNumber:13},void 0),e.jsxDEV(z,{variant:"destructive",className:"cursor-pointer focus:bg-destructive focus:text-destructive-foreground",onClick:()=>{console.log("Delete sponsor:",t.id)},children:[e.jsxDEV(Ke,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:261,columnNumber:15},void 0),"Delete Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:253,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:231,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:219,columnNumber:9},void 0)}}];function Os({refreshTrigger:s}){var Z;const[a,t]=n.useState([]),[d,r]=n.useState(!0),[c,D]=n.useState({}),[x,m]=n.useState({}),[v,b]=n.useState([]),[A,g]=n.useState([]),[w,l]=n.useState(""),[j,L]=n.useState(!1),[C,De]=n.useState(""),[f,q]=n.useState("all"),[_,xe]=n.useState(!1),we=n.useMemo(()=>{const o=new Set;return a.forEach(i=>{o.add(i.packageTier)}),Array.from(o).sort()},[a]),Y=n.useMemo(()=>{let o=a;return f!=="all"&&(o=o.filter(i=>i.packageTier===f)),o},[a,f]),he=()=>{q("all"),l("")},R=f!=="all"||w!=="";n.useEffect(()=>{(async()=>{r(!0);try{const i=await X.get(ee.sponsors.getAll);if(i.status!==200)throw new Error("Network response was not ok");const V=await i.data;console.log("Sponsors API response:",V),console.log("Sponsors data:",V.data);const H=V.data.map(U=>({...U,contractAmount:U.contractAmount?parseFloat(U.contractAmount.toString()):null,sponsorRevenue:U.sponsorRevenue?parseFloat(U.sponsorRevenue.toString()):null})),y=re.array().parse(H);t(y)}catch(i){console.error("Failed to fetch sponsors:",i),console.error("Error details:",i)}finally{r(!1)}})()},[s]);const ve=o=>{De(o),L(!0)},Le=async()=>{r(!0);try{const o=await X.get(ee.sponsors.getAll);if(o.status===200){const i=await o.data;console.log("Sponsors refresh response:",i);const V=i.data.map(y=>({...y,contractAmount:y.contractAmount?parseFloat(y.contractAmount.toString()):null,sponsorRevenue:y.sponsorRevenue?parseFloat(y.sponsorRevenue.toString()):null})),H=re.array().parse(V);t(H)}}catch(o){console.error("Failed to refresh sponsors:",o),console.error("Error details:",o)}finally{r(!1)}},O=_s(ve),p=We({data:Y,columns:O,state:{sorting:A,columnVisibility:x,rowSelection:c,columnFilters:v,globalFilter:w},enableRowSelection:!0,onRowSelectionChange:D,onSortingChange:g,onColumnFiltersChange:b,onColumnVisibilityChange:m,onGlobalFilterChange:l,getCoreRowModel:Xe(),getFilteredRowModel:Qe(),getPaginationRowModel:Je(),getSortedRowModel:Ze(),getFacetedRowModel:Ye(),getFacetedUniqueValues:qe(),globalFilterFn:"includesString"});return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"px-4 lg:px-6 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ie,{placeholder:"Search sponsors by name...",value:w??"",onChange:o=>l(o.target.value),className:"w-80"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:424,columnNumber:13},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>xe(!_),className:`${R?"border-primary bg-primary/10":""}`,children:[e.jsxDEV(ws,{className:"size-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:437,columnNumber:15},this),"Filters",R&&e.jsxDEV(S,{variant:"secondary",className:"ml-2 text-xs",children:f!=="all"?1:0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:440,columnNumber:17},this),_?e.jsxDEV(Ds,{className:"size-4 ml-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:445,columnNumber:17},this):e.jsxDEV(cs,{className:"size-4 ml-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:431,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:423,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[p.getFilteredSelectedRowModel().rows.length," of"," ",p.getFilteredRowModel().rows.length," sponsor(s) selected"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:453,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:452,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:422,columnNumber:9},this),_&&e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 bg-muted/30 rounded-lg border animate-in slide-in-from-top-2 duration-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Package Tier:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:465,columnNumber:15},this),e.jsxDEV(Fe,{value:f,onValueChange:q,children:[e.jsxDEV(_e,{className:`w-[140px] ${f!=="all"?"border-primary":""}`,children:e.jsxDEV(Oe,{placeholder:"All Tiers"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:470,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:467,columnNumber:17},this),e.jsxDEV(He,{children:[e.jsxDEV(Q,{value:"all",children:"All Tiers"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:473,columnNumber:19},this),we.map(o=>e.jsxDEV(Q,{value:o,className:"capitalize",children:o.toLowerCase()},o,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:475,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:472,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:466,columnNumber:15},this),f!=="all"&&e.jsxDEV(S,{variant:"secondary",className:"text-xs capitalize",children:f.toLowerCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:482,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:464,columnNumber:13},this),R&&e.jsxDEV(E,{variant:"ghost",size:"sm",onClick:he,className:"h-8 px-2 lg:px-3",children:[e.jsxDEV(ze,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:496,columnNumber:17},this),"Clear Filters"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:490,columnNumber:15},this),R&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",Y.length," of ",a.length," sponsors"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:503,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:462,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:420,columnNumber:7},this),e.jsxDEV("div",{className:"rounded-md border mx-4 lg:mx-6 bg-background",children:e.jsxDEV(rs,{children:[e.jsxDEV(is,{children:p.getHeaderGroups().map(o=>e.jsxDEV(B,{children:o.headers.map(i=>e.jsxDEV(ds,{colSpan:i.colSpan,children:i.isPlaceholder?null:ne(i.column.columnDef.header,i.getContext())},i.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:519,columnNumber:21},this))},o.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:516,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:514,columnNumber:11},this),e.jsxDEV(ae.tbody,{initial:"hidden",animate:"visible",variants:es,children:d?e.jsxDEV(B,{children:e.jsxDEV($,{colSpan:O.length,className:"h-24 text-center text-muted-foreground",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:542,columnNumber:21},this),"Loading sponsors..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:541,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:537,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:536,columnNumber:15},this):(Z=p.getRowModel().rows)!=null&&Z.length?p.getRowModel().rows.map(o=>e.jsxDEV(ae.tr,{variants:as,transition:ss,"data-state":o.getIsSelected()&&"selected",className:"hover:bg-muted/50 border-b transition-colors",children:o.getVisibleCells().map(i=>e.jsxDEV($,{children:ne(i.column.columnDef.cell,i.getContext())},i.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:557,columnNumber:21},this))},o.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:549,columnNumber:17},this)):e.jsxDEV(B,{children:e.jsxDEV($,{colSpan:O.length,className:"h-24 text-center text-muted-foreground",children:"No sponsors found."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:565,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:564,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:530,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:513,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:512,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center justify-between px-4 lg:px-6",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",p.getRowModel().rows.length," of"," ",p.getFilteredRowModel().rows.length," sponsor(s)"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:579,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),children:"Previous"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:585,columnNumber:11},this),e.jsxDEV(E,{variant:"outline",size:"sm",onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),children:"Next"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:594,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:584,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:578,columnNumber:7},this),C&&e.jsxDEV(n.Suspense,{fallback:null,children:e.jsxDEV(Ms,{open:j,onOpenChange:L,sponsorId:C,onSponsorUpdated:Le},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:608,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:607,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/data-table/sponsors-data-table.tsx",lineNumber:418,columnNumber:5},this)}const Hs=n.lazy(()=>me(()=>import("./sponsor-create-modal-DZIxyhcz.js"),__vite__mapDeps([3,1,2])).then(s=>({default:s.CreateSponsorModal})));function na(){const[s,a]=n.useState(!1),[t,d]=n.useState(0),r=async()=>{d(c=>c+1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{title:"Sponsors"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:20,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(oe,{children:e.jsxDEV("div",{className:"px-4 lg:px-6 py-6 border-b border-border/50",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(fs,{className:"size-6 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:28,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-semibold",children:"Sponsors"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:30,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Manage sponsorship packages and their league assignments"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:31,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:29,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:27,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(E,{variant:"outline",size:"sm",children:[e.jsxDEV(bs,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:38,columnNumber:21},this),"Export"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:37,columnNumber:19},this),e.jsxDEV(E,{size:"sm",onClick:()=>a(!0),children:[e.jsxDEV(Be,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:42,columnNumber:21},this),"Create Sponsor"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:41,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:36,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:26,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:25,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:24,columnNumber:11},this),e.jsxDEV(oe,{delay:.1,children:e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(Os,{refreshTrigger:t},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:53,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:52,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:51,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:21,columnNumber:7},this),e.jsxDEV(n.Suspense,{fallback:null,children:e.jsxDEV(Hs,{open:s,onOpenChange:a,onSponsorCreated:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:60,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/utilities/sponsors/page.tsx",lineNumber:19,columnNumber:5},this)}export{na as default};
