import{r as L,j as e,K as we,N as ve,P as Le,Q as be,R as Ae,h as ge,a0 as Ue,a1 as Ee,a2 as Ce,a3 as je,a4 as Se,W as Ve,B as Z,a5 as Pe,t as G,k as De,l as ye,C as Te,e as Ie,f as ke,b as $e,I as ze,J as Be,F as A}from"./index-D98YVPTv.js";import{T as Oe,a as Ge,b as xe,c as fe}from"./tabs-CFjN9Vuj.js";import{T as Fe,a as He,b as Y,c as P,d as Qe,e as y}from"./table-BdnF7bxe.js";import{A as ee,a as se,b as ne}from"./avatar-B8O5htyi.js";import{C as Re}from"./confirmation-modal-CuU5xn3l.js";import{g as We,e as Je}from"./site-header-S87R6eOd.js";import{I as he}from"./IconUser-BRHnv6uP.js";import{I as qe}from"./IconTarget-D77rEbZ9.js";import{I as Ke}from"./IconStar-_hT0piPE.js";import"./index-CjV1abNR.js";import"./IconAlertTriangle-429clO2F.js";import"./use-notifications-Djew7tEo.js";function Xe({isOpen:U,onOpenChange:f,member:t,teamMembers:d,divisions:T,seasonId:F,onAssigned:c,adminId:H,getSportRating:N,gameType:ie}){var q,K,X,B,O,s,a,m,l;const g=d&&d.length>0,[v,Q]=L.useState((t==null?void 0:t.divisionId)||((q=d==null?void 0:d[0])==null?void 0:q.divisionId)||""),[h,I]=L.useState(!1),[k,E]=L.useState(!1),[$,z]=L.useState(null),R=n=>{if(!n)return"Unassigned";const i=T.find(o=>o.id===n);return i?i.name:"Unassigned"},C=()=>T.find(n=>n.id===v),W=()=>{const n=C();if(!(n!=null&&n.threshold)||!N)return!1;const i=n.threshold;return g&&d?d.some(o=>N(o).value>i):t?N(t).value>i:!1},S=async(n=!1)=>{var i,o;if(!t||!v){G.error("Please select a division");return}I(!0);try{if(g&&d){const u=await Promise.all(d.map(D=>De.post(ye.division.assignPlayer,{userId:D.userId,divisionId:v,seasonId:F,assignedBy:H,overrideThreshold:n})));G.success("Team assigned to division successfully! Both players have been assigned.")}else await De.post(ye.division.assignPlayer,{userId:t.userId,divisionId:v,seasonId:F,assignedBy:H,overrideThreshold:n}),G.success("Player assigned to division successfully!");f(!1),c&&await c()}catch(u){G.error(((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.error)||`Failed to assign ${g?"team":"player"} to division`)}finally{I(!1),z(null)}},J=async()=>{var n;if(!t||!v){G.error("Please select a division");return}if(W()){const i=C();i!=null&&i.threshold;const o=[];if(g&&d)d.forEach(u=>{var D;if(N){const w=N(u);o.push(`${((D=u.user)==null?void 0:D.name)||"Unknown"}: ${w.display}`)}});else if(t&&N){const u=N(t);o.push(`${((n=t.user)==null?void 0:n.name)||"Unknown"}: ${u.display}`)}z(()=>()=>S(!0)),E(!0);return}await S(!1)},V=()=>{E(!1),$&&$()};return e.jsxDEV(we,{open:U,onOpenChange:f,children:[e.jsxDEV(ve,{className:"sm:max-w-[425px]",children:[e.jsxDEV(Le,{children:[e.jsxDEV(be,{children:g?"Assign Team to Division":"Assign Player to Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:204,columnNumber:11},this),e.jsxDEV(Ae,{children:g&&d?e.jsxDEV(e.Fragment,{children:["Select a division for"," ",d.map(n=>{var i;return((i=n.user)==null?void 0:i.name)||"Unknown"}).join(" & "),"."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:209,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:["Select a division for ",((K=t==null?void 0:t.user)==null?void 0:K.name)||"this player","."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:203,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-4 py-4",children:[g&&d&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ge,{children:"Team Members"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:222,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1",children:d.map(n=>{var i,o,u;return e.jsxDEV("div",{className:"text-sm p-2 bg-muted rounded-md",children:[e.jsxDEV("div",{className:"font-medium",children:((i=n.user)==null?void 0:i.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:229,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["@",((u=(o=n.user)==null?void 0:o.email)==null?void 0:u.split("@")[0])||"unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:232,columnNumber:21},this)]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:225,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:221,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ge,{htmlFor:"division",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:242,columnNumber:13},this),e.jsxDEV(Ue,{value:v,onValueChange:Q,children:[e.jsxDEV(Ee,{children:e.jsxDEV(Ce,{placeholder:"Select a division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:248,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV(je,{children:T.map(n=>e.jsxDEV(Se,{value:n.id,children:n.threshold!==null&&n.threshold!==void 0?`${n.name} (Threshold: ${n.threshold})`:n.name},n.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:252,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:241,columnNumber:11},this),((t==null?void 0:t.divisionId)||((X=d==null?void 0:d[0])==null?void 0:X.divisionId)||((B=d==null?void 0:d[1])==null?void 0:B.divisionId))&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Current division:"," ",R((t==null?void 0:t.divisionId)||((O=d==null?void 0:d[0])==null?void 0:O.divisionId)||((s=d==null?void 0:d[1])==null?void 0:s.divisionId)||null)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:266,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:219,columnNumber:9},this),e.jsxDEV(Ve,{children:[e.jsxDEV(Z,{variant:"outline",onClick:()=>f(!1),disabled:h,children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:279,columnNumber:11},this),e.jsxDEV(Z,{onClick:J,disabled:h||!v,children:h?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Pe,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:292,columnNumber:17},this),"Assigning..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:291,columnNumber:15},this):g?"Assign Team":"Assign Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:278,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:202,columnNumber:7},this),e.jsxDEV(Re,{open:k,onOpenChange:E,title:"Rating Exceeds Division Threshold",description:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{children:g?`One or more team members have ratings that exceed the division threshold of ${((a=C())==null?void 0:a.threshold)||0} points.`:`This player's rating exceeds the division threshold of ${((m=C())==null?void 0:m.threshold)||0} points.`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:311,columnNumber:13},this),N&&e.jsxDEV("div",{className:"mt-3 space-y-1",children:[e.jsxDEV("p",{className:"font-medium text-sm",children:"Current Ratings:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:322,columnNumber:17},this),g&&d?e.jsxDEV("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:d.map(n=>{var o;const i=N(n);return e.jsxDEV("li",{children:[((o=n.user)==null?void 0:o.name)||"Unknown",": ",i.display," ","points"]},n.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:328,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:324,columnNumber:19},this):t?e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[((l=t.user)==null?void 0:l.name)||"Unknown",":"," ",N(t).display," points"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:336,columnNumber:19},this):null]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:321,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Do you want to proceed with this assignment?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:343,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:310,columnNumber:11},this),confirmText:"Proceed Anyway",cancelText:"Cancel",onConfirm:V,variant:"default"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:305,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:201,columnNumber:5},this)}function ds({memberships:U,divisions:f=[],sportType:t,seasonId:d,onMembershipUpdated:T,adminId:F,season:c}){const[H,N]=L.useState(!1),[ie,g]=L.useState(null),[v,Q]=L.useState(null),[h,I]=L.useState(""),k=s=>s?s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2):"?",E=s=>{const a=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!s)return a[0];const m=s.split("").reduce((l,n)=>l+n.charCodeAt(0),0);return a[m%a.length]},$=L.useMemo(()=>{if(!h.trim())return U;const s=h.toLowerCase().trim();return U.filter(a=>{var i,o,u,D,w,b;const m=((o=(i=a.user)==null?void 0:i.name)==null?void 0:o.toLowerCase())||"",l=((D=(u=a.user)==null?void 0:u.username)==null?void 0:D.toLowerCase())||"",n=((b=(w=a.user)==null?void 0:w.email)==null?void 0:b.toLowerCase())||"";return m.includes(s)||l.includes(s)||n.includes(s)})},[U,h]),z=s=>{var m;if(s.divisionId!==null&&s.divisionId!==void 0)return!0;const a=(m=c==null?void 0:c.partnerships)==null?void 0:m.find(l=>l.captainId===s.userId||l.partnerId===s.userId);return(a==null?void 0:a.divisionId)!==null&&(a==null?void 0:a.divisionId)!==void 0},R=$.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&z(s)),C=$.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&!z(s)),W=s=>{if(!s)return"Unassigned";const a=f.find(m=>m.id===s);return a?a.name:"Unassigned"},S=s=>{var a;return s&&(s.displayUsername||s.username||((a=s.email)==null?void 0:a.split("@")[0]))||"unknown"},J=()=>{var a;const s=(a=c==null?void 0:c.category)==null?void 0:a.gameType;if(s){const m=String(s).toUpperCase().trim();if(m==="DOUBLES")return"DOUBLES";if(m==="SINGLES")return"SINGLES"}if(c!=null&&c.partnerships&&c.partnerships.length>0)return"DOUBLES";if(f&&f.length>0){const m=f.find(n=>{const i=n.gameType||n.gameType;return i?String(i).toUpperCase().trim()==="DOUBLES":!1});if(m)return"DOUBLES";if(f.find(n=>{const i=n.gameType||n.gameType;return i?String(i).toUpperCase().trim()==="SINGLES":!1})&&!m)return"SINGLES"}return null},V=s=>{var u,D,w,b;const a=(D=(u=c==null?void 0:c.leagues)==null?void 0:u[0])==null?void 0:D.sportType,m=J();if(!a||!m)return{display:"N/A",value:0,color:"gray"};const l=(b=(w=s.user)==null?void 0:w.questionnaireResponses)==null?void 0:b.find(x=>x.sport&&x.sport.toLowerCase()===a.toLowerCase()&&x.completedAt&&x.result);if(!(l!=null&&l.result))return{display:"N/A",value:0,color:"gray"};const n=m==="DOUBLES";let i;if(n)i=l.result.doubles;else if(i=l.result.singles,!i||i===0){const x=l.result.rating;x&&x>0&&(i=x)}if(!i||i===0)return{display:"N/A",value:0,color:"gray"};let o="green";return i>=4500?o="purple":i>=4e3?o="blue":i>=3500?o="green":i>=3e3?o="yellow":o="gray",{display:i.toString(),value:i,color:o}},q=s=>{var a;return(a=c==null?void 0:c.partnerships)==null?void 0:a.find(m=>m.captainId===s||m.partnerId===s)},K=s=>U.find(a=>a.userId===s),X=s=>{const a=new Set,m=[];for(const l of s){if(a.has(l.userId||""))continue;const n=q(l.userId||"");if(n){const i=n.captainId===l.userId?n.partnerId:n.captainId,o=K(i);o?(m.push({type:"partnership",memberships:[l,o],partnership:n}),a.add(l.userId||""),a.add(i)):(m.push({type:"individual",memberships:[l]}),a.add(l.userId||""))}else m.push({type:"individual",memberships:[l]}),a.add(l.userId||"")}return m},B=(s,a=!1)=>{a&&Array.isArray(s)?(g(s[0]),Q(s)):(g(Array.isArray(s)?s[0]:s),Q(null)),N(!0)},O=({players:s,isWaitlistTab:a=!1})=>{const m=X(s);return e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV(Fe,{children:[e.jsxDEV(He,{children:e.jsxDEV(Y,{children:[e.jsxDEV(P,{className:"w-[240px] pl-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(he,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:387,columnNumber:17},this),"Player"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:386,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:385,columnNumber:13},this),e.jsxDEV(P,{className:"w-[160px]",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(qe,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:393,columnNumber:17},this),"Division"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:392,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:391,columnNumber:13},this),e.jsxDEV(P,{className:"w-[100px]",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ke,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:399,columnNumber:17},this),"Rating"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:398,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:397,columnNumber:13},this),e.jsxDEV(P,{className:"w-[120px]",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Je,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:405,columnNumber:17},this),"Joined"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:404,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:403,columnNumber:13},this),e.jsxDEV(P,{className:"w-[100px]",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:409,columnNumber:13},this),e.jsxDEV(P,{className:"w-[140px] text-right pr-4",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:410,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:384,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:383,columnNumber:9},this),e.jsxDEV(Qe,{children:m.length>0?m.map((l,n)=>{var i,o,u,D,w,b,x,ae,le,oe,re,de,me,te,ue,ce,pe,Ne;if(l.type==="partnership"&&l.memberships.length===2){const[r,p]=l.memberships,_=V(r),M=V(p),j=l.partnership;return e.jsxDEV(Y,{className:"hover:bg-muted/50",children:[e.jsxDEV(y,{className:"pl-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex -space-x-2",children:[e.jsxDEV(ee,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(se,{src:((i=r.user)==null?void 0:i.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:432,columnNumber:29},this),e.jsxDEV(ne,{className:`text-white font-semibold text-xs ${E((o=r.user)==null?void 0:o.name)}`,children:k((u=r.user)==null?void 0:u.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:433,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:431,columnNumber:27},this),e.jsxDEV(ee,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(se,{src:((D=p.user)==null?void 0:D.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:438,columnNumber:29},this),e.jsxDEV(ne,{className:`text-white font-semibold text-xs ${E((w=p.user)==null?void 0:w.name)}`,children:k((b=p.user)==null?void 0:b.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:439,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:437,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:430,columnNumber:25},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:[((x=r.user)==null?void 0:x.name)||"Unknown"," & ",((ae=p.user)==null?void 0:ae.name)||"Unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:445,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",S(r.user)," & @",S(p.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:448,columnNumber:27},this),e.jsxDEV(A,{variant:"outline",className:"text-xs mt-1",children:"Doubles Team"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:451,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:444,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:429,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:428,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV("div",{className:"text-sm",children:e.jsxDEV(A,{variant:"outline",className:"text-xs",children:W((j==null?void 0:j.divisionId)||r.divisionId||p.divisionId||null)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:459,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:458,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:457,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:((oe=(le=r.user)==null?void 0:le.name)==null?void 0:oe.split(" ")[0])||"Player 1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:471,columnNumber:25},this),e.jsxDEV(A,{variant:_.display!=="N/A"?"default":"outline",className:`text-xs font-mono ${_.display!=="N/A"?"bg-green-100 text-green-800 border-green-200":""}`,children:_.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:474,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:((de=(re=p.user)==null?void 0:re.name)==null?void 0:de.split(" ")[0])||"Player 2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:486,columnNumber:25},this),e.jsxDEV(A,{variant:M.display!=="N/A"?"default":"outline",className:`text-xs font-mono ${M.display!=="N/A"?"bg-green-100 text-green-800 border-green-200":""}`,children:M.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:489,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:470,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:469,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV("div",{className:"text-sm",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:504,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:503,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV(A,{variant:r.status==="ACTIVE"||p.status==="ACTIVE"?"default":"secondary",className:"capitalize text-xs",children:r.status==="ACTIVE"||p.status==="ACTIVE"?"active":((me=r.status)==null?void 0:me.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:518,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:517,columnNumber:21},this),e.jsxDEV(y,{className:"text-right pr-4",children:e.jsxDEV(Z,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",onClick:()=>B([r,p],!0),children:j!=null&&j.divisionId||r.divisionId||p.divisionId?"Reassign Team":"Assign Team"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:534,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:533,columnNumber:21},this)]},`partnership-${j.id}`,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:424,columnNumber:19},this)}else{const r=l.memberships[0],p=V(r);return e.jsxDEV(Y,{className:"hover:bg-muted/50",children:[e.jsxDEV(y,{className:"pl-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ee,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(se,{src:((te=r.user)==null?void 0:te.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:560,columnNumber:27},this),e.jsxDEV(ne,{className:`text-white font-semibold text-xs ${E((ue=r.user)==null?void 0:ue.name)}`,children:k((ce=r.user)==null?void 0:ce.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:561,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:559,columnNumber:25},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((pe=r.user)==null?void 0:pe.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:566,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",S(r.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:569,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:565,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:558,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:557,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV("div",{className:"text-sm",children:e.jsxDEV(A,{variant:"outline",className:"text-xs",children:W(r.divisionId??null)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:577,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:576,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:575,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV(A,{variant:p.display!=="N/A"?"default":"outline",className:`text-xs font-mono ${p.display!=="N/A"?"bg-green-100 text-green-800 border-green-200":""}`,children:p.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:583,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:582,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV("div",{className:"text-sm",children:r.joinedAt?new Date(r.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:595,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:594,columnNumber:21},this),e.jsxDEV(y,{children:e.jsxDEV(A,{variant:r.status==="ACTIVE"?"default":"secondary",className:"capitalize text-xs",children:(Ne=r==null?void 0:r.status)==null?void 0:Ne.toLowerCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:609,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:608,columnNumber:21},this),e.jsxDEV(y,{className:"text-right pr-4",children:e.jsxDEV(Z,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs",onClick:()=>B(r,!1),children:r.divisionId?"Reassign Division":"Assign to Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:619,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:618,columnNumber:21},this)]},r.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:556,columnNumber:19},this)}}):e.jsxDEV(Y,{children:e.jsxDEV(y,{colSpan:6,className:"h-32 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-muted",children:e.jsxDEV(he,{className:"size-8 opacity-50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:639,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:638,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"No players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:642,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs",children:h?"Try adjusting your search":a?"All players have been assigned to divisions":"Players will appear here once they are assigned to divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:643,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:641,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:637,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:636,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:635,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:413,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:382,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:381,columnNumber:5},this)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Te,{children:[e.jsxDEV(Ie,{children:e.jsxDEV(ke,{children:["Season Players (",U.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:665,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:664,columnNumber:9},this),e.jsxDEV($e,{className:"space-y-4",children:[e.jsxDEV("div",{className:"relative w-full sm:w-72",children:[e.jsxDEV(We,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:670,columnNumber:13},this),e.jsxDEV(ze,{type:"text",placeholder:"Search by name or username...",value:h,onChange:s=>I(s.target.value),className:"pl-9 pr-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:671,columnNumber:13},this),h&&e.jsxDEV("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsxDEV(Be,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:683,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:679,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:669,columnNumber:11},this),e.jsxDEV(Oe,{defaultValue:"active",children:[e.jsxDEV(Ge,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(xe,{value:"active",children:["In Division (",R.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:690,columnNumber:15},this),e.jsxDEV(xe,{value:"waitlisted",children:["Awaiting Division (",C.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:693,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:689,columnNumber:13},this),e.jsxDEV(fe,{value:"active",children:e.jsxDEV(O,{players:R,isWaitlistTab:!1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:698,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:697,columnNumber:13},this),e.jsxDEV(fe,{value:"waitlisted",children:e.jsxDEV(O,{players:C,isWaitlistTab:!0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:701,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:700,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:688,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:667,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:663,columnNumber:7},this),e.jsxDEV(Xe,{isOpen:H,onOpenChange:N,member:ie,teamMembers:v,divisions:f,seasonId:d,onAssigned:T,adminId:F||"",getSportRating:V,gameType:J()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:707,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:662,columnNumber:5},this)}export{ds as default};
