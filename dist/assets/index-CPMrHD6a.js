const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leagues-data-table-BtnGnyyc.js","assets/index-CTbNYwjj.js","assets/index-CCXjM5PO.css","assets/animation-variants-Don9j8OV.js","assets/alert-dialog-Bwo95pVo.js","assets/table-Dgukg8vt.js","assets/skeleton-CFf_spwu.js","assets/sports-DGhHr-Zm.js","assets/dropdown-menu-DATVkUdR.js","assets/index-CFL-c3ug.js","assets/IconDotsVertical-DPA3hwbd.js","assets/IconEye-C0LAeFch.js","assets/site-header-tI1FkvGI.js","assets/use-notifications-ZJMYyA0Q.js","assets/IconEdit-Ce3kWMte.js","assets/IconCopy-D31WE61r.js","assets/constants-DiLdiRGg.js","assets/IconHash-CVeB-fNT.js","assets/IconMapPin-O6o3fJhL.js","assets/IconMail-B6MqzcSc.js","assets/IconDownload-CdMmBzTF.js","assets/IconChevronLeft-F3NEfBca.js","assets/IconChevronRight-D4z6fmXH.js","assets/league-create-modal-Bsz2aNM6.js","assets/league-BTskQ2oy.js"])))=>i.map(i=>d[i]);
import{r as i,ab as n,k as T,l as I,j as e,ac as f,a4 as S,B as M,af as O,ad as b}from"./index-CTbNYwjj.js";import{S as P,c as k}from"./site-header-tI1FkvGI.js";import{P as z}from"./page-header-DcvSjxtn.js";import{S as m}from"./stats-card-BQRGO1TW.js";import{l as B}from"./league-schema-D2zyjp2o.js";import{z as R}from"./external-D0l8oO5R.js";import{A as G,a as c,d as F}from"./animated-container-CmDAxMpN.js";import"./use-notifications-ZJMYyA0Q.js";import"./skeleton-CFf_spwu.js";import"./coerce-DO_kxNrr.js";import"./animation-variants-Don9j8OV.js";const H=i.lazy(()=>b(()=>import("./leagues-data-table-BtnGnyyc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(a=>({default:a.LeaguesDataTable}))),$=i.lazy(()=>b(()=>import("./league-create-modal-Bsz2aNM6.js"),__vite__mapDeps([23,1,2,24,18])).then(a=>({default:a.default})));function ae(){const[a,g]=i.useState(!1),[L,u]=n.useState([]),[w,y]=n.useState(0),[l,p]=n.useState(!0),o=n.useCallback(async()=>{p(!0);try{const s=await T.get(I.league.getAll);if(!s.data||!s.data.data||!s.data.data.leagues){u([]);return}const d=s.data.data.leagues,A=s.data.data.totalMembers||0;y(A);const v=d.map(t=>{var x,D,N;const j=((x=t.seasons)==null?void 0:x.reduce((V,U)=>{var h;const C=((h=U._count)==null?void 0:h.memberships)||0;return V+C},0))||0;return{id:t.id,name:t.name,location:t.location,description:t.description,status:t.status,sportType:t.sportType,joinType:t.joinType,registrationType:t.registrationType,gameType:t.gameType,createdById:t.createdById,createdAt:t.createdAt,updatedAt:t.updatedAt,memberCount:j,seasonCount:((D=t._count)==null?void 0:D.seasons)||0,categoryCount:((N=t._count)==null?void 0:N.categories)||0}}),E=R.array(B).parse(v);u(E)}catch{u([])}finally{p(!1)}},[]);n.useEffect(()=>{o()},[o]);const _=async()=>{await o()},r=L;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:75,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(z,{icon:f,title:"League Management",description:"Manage leagues, seasons, and player memberships",actions:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(M,{size:"sm",onClick:()=>g(!0),children:[e.jsxDEV(O,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:80,columnNumber:17},this),"Create League"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:79,columnNumber:15},this),e.jsxDEV(i.Suspense,{fallback:null,children:e.jsxDEV($,{open:a,onOpenChange:g,onLeagueCreated:_},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:84,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:78,columnNumber:138},this),children:e.jsxDEV(G,{className:"grid gap-4 grid-cols-2 md:grid-cols-3",children:[e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Leagues",value:r.length,description:`${r.filter(s=>s.status==="ACTIVE"||s.status==="ONGOING").length} currently active`,icon:f,loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:89,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:88,columnNumber:13},this),e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Members",value:w,description:"Total players across all seasons",icon:S,iconColor:"text-blue-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:92,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:91,columnNumber:13},this),e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Seasons",value:r.reduce((s,d)=>s+(d.seasonCount||0),0),description:"Across all leagues",icon:k,iconColor:"text-green-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:78,columnNumber:11},this),e.jsxDEV(F,{delay:.2,children:e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(i.Suspense,{fallback:e.jsxDEV("div",{className:"h-96 animate-pulse bg-muted rounded-lg"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:102,columnNumber:33},this),children:e.jsxDEV(H,{data:r,isLoading:l,onDataChange:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:103,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:102,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:101,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:74,columnNumber:10},this)}export{ae as component};
