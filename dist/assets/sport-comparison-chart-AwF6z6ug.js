import{r as a,j as e,C as t,e as c,f as p,g as N,b as u,a2 as j,a3 as A,a4 as V,a5 as E,a6 as h}from"./index-Ij2MjCMG.js";import{C as U,a as C,X as M,Y as k,b as S,c as R,B as $}from"./chart-CsvoYURf.js";import{S as o}from"./skeleton-DsMxincg.js";import{N as B}from"./use-queries-JP4P-EaB.js";import{f as x}from"./index-Dl1Ts5a8.js";import{B as F}from"./BarChart-D_HX4Rsm.js";import"./index-BMGwP9Br.js";import"./external-DCTon813.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";import"./league-schema-CW4CwVLH.js";import"./season-schema-DVFNm_2a.js";import"./division-schema-gPrDsMOQ.js";import"./site-header-ChC8Gm54.js";import"./scroll-area-Cl2459q0.js";import"./use-notifications-CtYciee-.js";import"./socket-context-YT7vDvYh.js";import"./user-check-D3QLihYF.js";import"./filter-select-BW-eKFyW.js";const T={payingMembers:{label:"Paying Members",color:"var(--chart-sport-members)"},revenue:{label:"Revenue (RM)",color:"var(--chart-sport-revenue)"}};function Y(){return e.jsxDEV(t,{className:"h-full flex flex-col border-border/40",children:[e.jsxDEV(c,{className:"pb-0 pt-5 px-5 shrink-0",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(o,{className:"h-5 w-36 mb-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:53,columnNumber:13},this),e.jsxDEV(o,{className:"h-3 w-48"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:52,columnNumber:11},this),e.jsxDEV(o,{className:"h-8 w-28"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:50,columnNumber:7},this),e.jsxDEV(u,{className:"flex-1 flex flex-col pt-5 px-5 pb-5 min-h-0",children:[e.jsxDEV("div",{className:"flex items-center gap-6 mb-5",children:[e.jsxDEV(o,{className:"h-4 w-28"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV(o,{className:"h-4 w-28"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:60,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 min-h-[280px]",children:e.jsxDEV(o,{className:"h-full w-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:49,columnNumber:5},this)}function oe({chartRange:f="monthly",historyRange:D=3}){const[n,b]=a.useState("payingMembers"),{data:r,isLoading:g,error:w}=B(),d=(s,i)=>i==="revenue"?x(s,"currency"):x(s,"number"),L=s=>{if(!r)return[0,100];const i=r.map(l=>l[s]),m=Math.max(...i);return!isFinite(m)||m<=0?[0,100]:[0,Math.ceil(m*1.1)]},v=a.useMemo(()=>(r==null?void 0:r.reduce((s,i)=>s+i.payingMembers,0))??0,[r]),y=a.useMemo(()=>(r==null?void 0:r.reduce((s,i)=>s+i.revenue,0))??0,[r]);return g?e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:107,columnNumber:12},this):w||!r||r.length===0?e.jsxDEV(t,{className:"h-full flex flex-col border-border/40",children:[e.jsxDEV(c,{className:"pb-0 pt-5 px-5 shrink-0",children:[e.jsxDEV(p,{className:"text-base font-medium",children:"Sport Comparison"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV(N,{className:"text-xs",children:"No data available"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:113,columnNumber:9},this),e.jsxDEV(u,{className:"flex-1 flex items-center justify-center px-5 min-h-0",children:e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"No sport comparison data available"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:117,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:112,columnNumber:7},this):e.jsxDEV(t,{className:"h-full flex flex-col border-border/40",children:[e.jsxDEV(c,{className:"pb-0 pt-5 px-5 shrink-0",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(p,{className:"text-base font-medium",children:"Sport Comparison"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(N,{className:"text-xs",children:[f==="average"?"Weekly average":"Monthly"," for past ",D,"mo"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:130,columnNumber:11},this),e.jsxDEV(j,{value:n,onValueChange:s=>b(s),children:[e.jsxDEV(A,{className:"w-[120px] h-8 text-xs border-border/50","aria-label":"Select metric",children:e.jsxDEV(V,{placeholder:"Metric"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:141,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV(E,{children:[e.jsxDEV(h,{value:"payingMembers",className:"text-xs",children:"Members"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:144,columnNumber:15},this),e.jsxDEV(h,{value:"revenue",className:"text-xs",children:"Revenue"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:129,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:128,columnNumber:7},this),e.jsxDEV(u,{className:"flex-1 flex flex-col pt-5 px-5 pb-5 min-h-0",children:[e.jsxDEV("div",{className:"flex items-center gap-6 mb-5",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Members"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:155,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium tabular-nums",children:v.toLocaleString()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:154,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Revenue"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium tabular-nums",children:d(y,"revenue")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:153,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 min-h-[280px]",children:e.jsxDEV(U,{config:T,className:"h-full w-full",children:e.jsxDEV(F,{accessibilityLayer:!0,data:r,margin:{left:0,right:0,top:10,bottom:10},children:[e.jsxDEV(C,{vertical:!1,strokeDasharray:"3 3",stroke:"var(--border)",strokeOpacity:.5},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:172,columnNumber:15},this),e.jsxDEV(M,{dataKey:"sport",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fontSize:11}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:178,columnNumber:15},this),e.jsxDEV(k,{tickLine:!1,axisLine:!1,tickMargin:8,domain:L(n),tickFormatter:s=>n==="revenue"?s>=1e3?`${(s/1e3).toFixed(0)}k`:`${s}`:s.toString(),tick:{fontSize:11},width:40},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV(S,{cursor:{fill:"hsl(var(--muted))",fillOpacity:.3},content:e.jsxDEV(R,{className:"w-[160px]",labelFormatter:s=>`${s}`,formatter:(s,i,m)=>{const l=m==null?void 0:m.payload;return[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:l==null?void 0:l.fill}},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:209,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm font-medium tabular-nums",children:d(s,n)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:213,columnNumber:27},this)]},i,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:208,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:n==="payingMembers"?"Members":"Revenue"},`${i}-label`,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:217,columnNumber:25},this)]},indicator:"dot"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:202,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV($,{dataKey:n,fill:`var(--color-${n})`,radius:[3,3,0,0]},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:166,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:165,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:151,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/sport-comparison-chart.tsx",lineNumber:127,columnNumber:5},this)}export{oe as SportComparisonChart};
