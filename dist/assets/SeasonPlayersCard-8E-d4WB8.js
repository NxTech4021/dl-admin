import{r as b,j as e,N as Qe,P as We,Q as qe,d as C,E as ye,af as he,R as Je,V as Xe,F as U,h as Ye,ai as _e,aj as Ze,ak as Me,al as es,am as ss,B as oe,an as ns,ad as is,t as re,k as Pe,l as Ie,ah as as,I as ke,K as ze}from"./index-Mg-dLTJP.js";import{T as ls,a as rs,b as Re,c as Be}from"./tabs-DpVXDOK1.js";import{T as os,a as ms,b as Oe,c as F,d as x}from"./table-Ycv98siB.js";import{t as ts,T as ds,p as us,q as cs}from"./use-notifications-CRyzrTIN.js";import{t as ps,f as Ge,a as $e}from"./animation-variants-Don9j8OV.js";import{A as De,a as xe,b as be}from"./avatar-D9Lr9sQg.js";import{F as gs}from"./filter-select-DYzTxUEv.js";import{C as Ns}from"./confirmation-modal-CY6tdVjP.js";import{I as Ds}from"./IconChartBar-VUsXlLIc.js";import{I as Fe}from"./IconTarget-B1yWK_zr.js";import{I as xs}from"./IconAlertTriangle-CnU_9zRF.js";import{m as fe}from"./site-header-fded8idA.js";import"./index-DcHQOhCC.js";const bs=m=>m>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":m>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":m>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":m>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700",fs=m=>m?m.split(" ").map(p=>p.charAt(0)).join("").toUpperCase().slice(0,2):"?",ys=m=>{const p=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!m)return p[0];const g=m.split("").reduce((u,O)=>u+O.charCodeAt(0),0);return p[g%p.length]};function hs({isOpen:m,onOpenChange:p,member:g,teamMembers:u,divisions:O,seasonId:me,onAssigned:t,adminId:te,getSportRating:j,gameType:ve}){var ue,M,ce,ee,se,ne;const f=u&&u.length>0,[V,J]=b.useState(""),[E,H]=b.useState(!1),[T,K]=b.useState(!1),[P,X]=b.useState(null);b.useEffect(()=>{var a;if(m){const d=(g==null?void 0:g.divisionId)||((a=u==null?void 0:u[0])==null?void 0:a.divisionId)||"";J(d)}},[m,g,u]);const de=a=>{if(!a)return"Unassigned";const d=O.find(h=>h.id===a);return d?d.name:"Unassigned"},I=()=>O.find(a=>a.id===V),Q=(g==null?void 0:g.divisionId)||((ue=u==null?void 0:u[0])==null?void 0:ue.divisionId)||((M=u==null?void 0:u[1])==null?void 0:M.divisionId)||null,y=!!Q,Y=()=>{const a=I();if(!(a!=null&&a.threshold)||!j)return!1;const d=a.threshold;return f&&u?u.some(h=>j(h).value>d):g?j(g).value>d:!1},W=async(a=!1)=>{var d,h;if(!g||!V){re.error("Please select a division");return}H(!0);try{f&&u?(await Promise.all(u.map(A=>Pe.post(Ie.division.assignPlayer,{userId:A.userId,divisionId:V,seasonId:me,assignedBy:te,overrideThreshold:a}))),re.success("Team assigned to division successfully!")):(await Pe.post(Ie.division.assignPlayer,{userId:g.userId,divisionId:V,seasonId:me,assignedBy:te,overrideThreshold:a}),re.success("Player assigned to division successfully!")),p(!1),t&&await t()}catch(A){re.error(((h=(d=A.response)==null?void 0:d.data)==null?void 0:h.error)||`Failed to assign ${f?"team":"player"} to division`)}finally{H(!1),X(null)}},_=async()=>{if(!g||!V){re.error("Please select a division");return}if(Y()){X(()=>()=>W(!0)),K(!0);return}await W(!1)},G=()=>{K(!1),P&&P()},Z=f&&u?u:g?[g]:[];return e.jsxDEV(Qe,{open:m,onOpenChange:p,children:[e.jsxDEV(We,{className:"sm:max-w-md p-0 gap-0 overflow-hidden",children:[e.jsxDEV("div",{className:"bg-muted/30 border-b border-border/50",children:e.jsxDEV(qe,{className:"px-5 pt-5 pb-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:C("flex items-center justify-center size-10 rounded-xl",y?"bg-amber-100 dark:bg-amber-900/30":"bg-primary/10"),children:f?e.jsxDEV(ye,{className:C("size-5",y?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:242,columnNumber:19},this):e.jsxDEV(he,{className:C("size-5",y?"text-amber-600 dark:text-amber-400":"text-primary")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:247,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(Je,{className:"text-base font-semibold",children:y?f?"Reassign Team":"Reassign Player":f?"Assign Team to Division":"Assign to Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:254,columnNumber:17},this),e.jsxDEV(Xe,{className:"text-sm text-muted-foreground",children:y?"Select a new division for this assignment":"Select a division to assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:233,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:232,columnNumber:9},this),e.jsxDEV("div",{className:"px-5 py-4 space-y-4",children:[e.jsxDEV("div",{className:"rounded-xl border border-border/50 bg-muted/20 overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 border-b border-border/50",children:[f?e.jsxDEV(ye,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:274,columnNumber:17},this):e.jsxDEV(he,{className:"size-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:276,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:f?"Team Members":"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:272,columnNumber:13},this),e.jsxDEV("div",{className:"p-3 space-y-2",children:Z.map(a=>{var h,A,k,q,$,ie,ae;const d=j?j(a):null;return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxDEV(De,{className:"size-9 ring-2 ring-background",children:[e.jsxDEV(xe,{src:((h=a.user)==null?void 0:h.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:292,columnNumber:25},this),e.jsxDEV(be,{className:`text-white font-semibold text-xs ${ys((A=a.user)==null?void 0:A.name)}`,children:fs((k=a.user)==null?void 0:k.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:293,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:291,columnNumber:23},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((q=a.user)==null?void 0:q.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:298,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",(($=a.user)==null?void 0:$.username)||((ae=(ie=a.user)==null?void 0:ie.email)==null?void 0:ae.split("@")[0])||"unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:301,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:297,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:290,columnNumber:21},this),d&&e.jsxDEV(U,{variant:"outline",className:C("text-xs font-mono border shrink-0",d.value>0?bs(d.value):"text-muted-foreground"),children:[e.jsxDEV(Ds,{className:"size-3 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:314,columnNumber:25},this),d.display]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:307,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:286,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:271,columnNumber:11},this),y&&e.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxDEV(Fe,{className:"size-4 text-muted-foreground shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Current:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:328,columnNumber:15},this),e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:de(Q)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:329,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Ye,{className:"text-sm font-medium flex items-center gap-1.5",children:[e.jsxDEV(Fe,{className:"size-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:338,columnNumber:15},this),y?"New Division":"Division",e.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:337,columnNumber:13},this),e.jsxDEV(_e,{value:V,onValueChange:J,children:[e.jsxDEV(Ze,{className:"h-10",children:e.jsxDEV(Me,{placeholder:"Select a division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:347,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:346,columnNumber:15},this),e.jsxDEV(es,{children:O.map(a=>{const d=a.threshold!==null&&a.threshold!==void 0;return e.jsxDEV(ss,{value:a.id,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:a.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:355,columnNumber:25},this),d&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(max: ",a.threshold,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:357,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:354,columnNumber:23},this)},a.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:353,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:336,columnNumber:11},this),V&&Y()&&e.jsxDEV("div",{className:"flex items-start gap-3 px-3 py-2.5 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800",children:[e.jsxDEV(xs,{className:"size-4 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Rating exceeds threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:374,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[f?"One or more team members have":"This player has"," a rating above the division threshold of ",(ce=I())==null?void 0:ce.threshold,". You can still proceed."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:377,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:371,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:269,columnNumber:9},this),e.jsxDEV("div",{className:"bg-muted/20 border-t border-border/50 px-5 py-4",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-3",children:[e.jsxDEV(oe,{variant:"ghost",onClick:()=>p(!1),disabled:E,className:"text-muted-foreground hover:text-foreground",children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:388,columnNumber:13},this),e.jsxDEV(oe,{onClick:_,disabled:E||!V,className:C("gap-2 min-w-[120px]",y&&"bg-amber-600 hover:bg-amber-700 text-white"),children:E?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ns,{className:"size-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:406,columnNumber:19},this),y?"Reassigning...":"Assigning..."]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:405,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[y?"Reassign":"Assign",e.jsxDEV(is,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:410,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:396,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:387,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:386,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:230,columnNumber:7},this),e.jsxDEV(Ns,{open:T,onOpenChange:K,title:"Rating Exceeds Division Threshold",description:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("p",{children:f?`One or more team members have ratings that exceed the division threshold of ${((ee=I())==null?void 0:ee.threshold)||0} points.`:`This player's rating exceeds the division threshold of ${((se=I())==null?void 0:se.threshold)||0} points.`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:427,columnNumber:13},this),j&&e.jsxDEV("div",{className:"rounded-lg border border-border/50 bg-muted/30 p-3 space-y-2",children:[e.jsxDEV("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Current Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:438,columnNumber:17},this),Z.map(a=>{var A,k;const d=j(a),h=d.value>(((A=I())==null?void 0:A.threshold)||0);return e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{children:((k=a.user)==null?void 0:k.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:446,columnNumber:23},this),e.jsxDEV(U,{variant:"outline",className:C("text-xs font-mono",h?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":""),children:d.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:447,columnNumber:23},this)]},a.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:445,columnNumber:21},this)}),e.jsxDEV("div",{className:"pt-2 mt-2 border-t border-border/50 flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Division Threshold"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:462,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium",children:((ne=I())==null?void 0:ne.threshold)||0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:463,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:461,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:437,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Do you want to proceed with this assignment?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:467,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:426,columnNumber:11},this),confirmText:"Proceed Anyway",cancelText:"Cancel",onConfirm:G,variant:"default"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:421,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/modal/assign-playerToDivision.tsx",lineNumber:229,columnNumber:5},this)}const He=m=>{switch(m==null?void 0:m.toUpperCase()){case"ACTIVE":return"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800";case"PENDING":return"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700"}},Ke=m=>m>=4500?"text-violet-700 bg-violet-50 border-violet-200 dark:bg-violet-950/40 dark:text-violet-400 dark:border-violet-800":m>=4e3?"text-blue-700 bg-blue-50 border-blue-200 dark:bg-blue-950/40 dark:text-blue-400 dark:border-blue-800":m>=3500?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:bg-emerald-950/40 dark:text-emerald-400 dark:border-emerald-800":m>=3e3?"text-amber-700 bg-amber-50 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800":"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/40 dark:text-slate-400 dark:border-slate-700";function ks({memberships:m,divisions:p=[],sportType:g,seasonId:u,onMembershipUpdated:O,adminId:me,season:t}){const[te,j]=b.useState(!1),[ve,f]=b.useState(null),[V,J]=b.useState(null),[E,H]=b.useState(""),[T,K]=b.useState(void 0),[P,X]=b.useState(""),[de,I]=b.useState("active"),Q=s=>s?s.split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2):"?",y=s=>{const n=["bg-slate-600","bg-emerald-600","bg-sky-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-teal-600","bg-indigo-600"];if(!s)return n[0];const r=s.split("").reduce((i,N)=>i+N.charCodeAt(0),0);return n[r%n.length]},Y=s=>{if(!s)return"Unassigned";const n=p.find(r=>r.id===s);return n?n.name:"Unassigned"},W=s=>{var n;return s&&(s.displayUsername||s.username||((n=s.email)==null?void 0:n.split("@")[0]))||"unknown"},_=()=>{var r,i,N,o;const s=((r=t==null?void 0:t.category)==null?void 0:r.gameType)||((i=t==null?void 0:t.category)==null?void 0:i.game_type);if(s){const c=String(s).toUpperCase().trim();if(c==="DOUBLES")return"DOUBLES";if(c==="SINGLES")return"SINGLES"}const n=(o=(N=t==null?void 0:t.leagues)==null?void 0:N[0])==null?void 0:o.gameType;if(n){const c=String(n).toUpperCase().trim();if(c==="DOUBLES")return"DOUBLES";if(c==="SINGLES")return"SINGLES"}if(t!=null&&t.partnerships&&t.partnerships.length>0)return"DOUBLES";if(p&&p.length>0){if(p.find(v=>{const w=v.gameType||v.gameType;return w&&String(w).toUpperCase().trim()==="DOUBLES"}))return"DOUBLES";if(p.find(v=>{const w=v.gameType||v.gameType;return w&&String(w).toUpperCase().trim()==="SINGLES"}))return"SINGLES"}return"SINGLES"},G=s=>{var S,v,w,z,R,B;const n=(v=(S=t==null?void 0:t.leagues)==null?void 0:S[0])==null?void 0:v.sportType,r=_();if(!r)return{display:"N/A",value:0,color:"gray"};let i=(z=(w=s.user)==null?void 0:w.questionnaireResponses)==null?void 0:z.find(L=>n&&L.sport&&L.sport.toLowerCase()===n.toLowerCase()&&L.completedAt&&L.result);if(i!=null&&i.result||(i=(B=(R=s.user)==null?void 0:R.questionnaireResponses)==null?void 0:B.find(L=>L.completedAt&&L.result)),!(i!=null&&i.result))return{display:"N/A",value:0,color:"gray"};const N=r==="DOUBLES";let o;if(N?(o=i.result.doubles,(!o||o===0)&&(o=i.result.singles)):(o=i.result.singles,(!o||o===0)&&(o=i.result.doubles)),!o||o===0){const L=i.result.rating;L&&L>0&&(o=L)}if(!o||o===0)return{display:"N/A",value:0,color:"gray"};let c="green";return o>=4500?c="purple":o>=4e3?c="blue":o>=3500?c="green":o>=3e3?c="yellow":c="gray",{display:o.toString(),value:o,color:c}},Z=s=>{var n;return(n=t==null?void 0:t.partnerships)==null?void 0:n.find(r=>r.captainId===s||r.partnerId===s)},ue=s=>m.find(n=>n.userId===s),M=s=>{var r;if(s.divisionId!==null&&s.divisionId!==void 0)return!0;const n=(r=t==null?void 0:t.partnerships)==null?void 0:r.find(i=>i.captainId===s.userId||i.partnerId===s.userId);return(n==null?void 0:n.divisionId)!==null&&(n==null?void 0:n.divisionId)!==void 0},ce=s=>{if(s.divisionId)return s.divisionId;const n=Z(s.userId||"");return(n==null?void 0:n.divisionId)||null},ee=b.useMemo(()=>{let s=m;if(E.trim()){const r=E.toLowerCase().trim();s=s.filter(i=>{var S,v,w,z,R,B;const N=((v=(S=i.user)==null?void 0:S.name)==null?void 0:v.toLowerCase())||"",o=((z=(w=i.user)==null?void 0:w.username)==null?void 0:z.toLowerCase())||"",c=((B=(R=i.user)==null?void 0:R.email)==null?void 0:B.toLowerCase())||"";return N.includes(r)||o.includes(r)||c.includes(r)})}T&&(s=s.filter(r=>ce(r)===T));const n=parseInt(P);return!isNaN(n)&&n>0&&(s=s.filter(r=>G(r).value>=n)),s},[m,E,T,P]),se=ee.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&M(s)),ne=ee.filter(s=>(s.status==="ACTIVE"||s.status==="PENDING")&&!M(s)),a=p.map(s=>({value:s.id,label:s.name})),d=E||T||P,h=()=>{H(""),K(void 0),X("")},A=s=>{const n=new Set,r=[];for(const i of s){if(n.has(i.userId||""))continue;const N=Z(i.userId||"");if(N){const o=N.captainId===i.userId?N.partnerId:N.captainId,c=ue(o);c?(r.push({type:"partnership",memberships:[i,c],partnership:N}),n.add(i.userId||""),n.add(o)):(r.push({type:"individual",memberships:[i]}),n.add(i.userId||""))}else r.push({type:"individual",memberships:[i]}),n.add(i.userId||"")}return r},k=(s,n=!1)=>{n&&Array.isArray(s)?(f(s[0]),J(s)):(f(Array.isArray(s)?s[0]:s),J(null)),j(!0)},q=b.useRef(!1),$=`${de}-${E}-${T}-${P}`,ie=b.useRef($);$!==ie.current&&(q.current=!1,ie.current=$);const ae=({players:s,isWaitlistTab:n=!1})=>{const r=A(s);return _(),e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(os,{children:[e.jsxDEV(ms,{children:e.jsxDEV(Oe,{className:"bg-muted/50 hover:bg-muted/50",children:[e.jsxDEV(F,{className:"w-[50px] py-2.5 pl-4 font-medium text-xs",children:"#"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:453,columnNumber:15},this),e.jsxDEV(F,{className:"py-2.5 font-medium text-xs min-w-[240px]",children:"Player"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:454,columnNumber:15},this),e.jsxDEV(F,{className:"w-[140px] py-2.5 font-medium text-xs",children:"Division"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:455,columnNumber:15},this),e.jsxDEV(F,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Rating"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:456,columnNumber:15},this),e.jsxDEV(F,{className:"w-[120px] py-2.5 font-medium text-xs",children:"Joined"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:457,columnNumber:15},this),e.jsxDEV(F,{className:"w-[100px] py-2.5 font-medium text-xs",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:458,columnNumber:15},this),e.jsxDEV(F,{className:"w-[140px] py-2.5 pr-4 font-medium text-xs text-right",children:"Actions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:459,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:452,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:451,columnNumber:11},this),e.jsxDEV(fe.tbody,{initial:q.current?!1:"hidden",animate:"visible",variants:ps,onAnimationComplete:()=>{q.current=!0},children:r.length>0?r.map((i,N)=>{var o,c,S,v,w,z,R,B,L,we,Le,Ae,Ee,Ue,je,Ve,Ce,Se;if(i.type==="partnership"&&i.memberships.length===2){const[l,D]=i.memberships,le=G(l),pe=G(D),ge=i.partnership,Ne=le.value>0&&pe.value>0?Math.round((le.value+pe.value)/2):le.value>0?le.value:pe.value,Te=(ge==null?void 0:ge.divisionId)||l.divisionId||D.divisionId||null;return e.jsxDEV(fe.tr,{variants:$e,transition:Ge,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(x,{className:"py-3 pl-4 text-sm text-muted-foreground",children:N+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:493,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex -space-x-2",children:[e.jsxDEV(De,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(xe,{src:((o=l.user)==null?void 0:o.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:502,columnNumber:31},this),e.jsxDEV(be,{className:`text-white font-semibold text-[10px] ${y((c=l.user)==null?void 0:c.name)}`,children:Q((S=l.user)==null?void 0:S.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:503,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:501,columnNumber:29},this),e.jsxDEV(De,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(xe,{src:((v=D.user)==null?void 0:v.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:508,columnNumber:31},this),e.jsxDEV(be,{className:`text-white font-semibold text-[10px] ${y((w=D.user)==null?void 0:w.name)}`,children:Q((z=D.user)==null?void 0:z.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:509,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:507,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:500,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:[((R=l.user)==null?void 0:R.name)||"Unknown"," & ",((B=D.user)==null?void 0:B.name)||"Unknown"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:516,columnNumber:31},this),e.jsxDEV(U,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-4 shrink-0",children:[e.jsxDEV(ye,{className:"size-2.5 mr-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:520,columnNumber:33},this),"Team"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:519,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:515,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",W(l.user)," & @",W(D.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:524,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:514,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:499,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:498,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:Y(Te)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:533,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:532,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:Ne>0?e.jsxDEV(ds,{children:[e.jsxDEV(us,{asChild:!0,children:e.jsxDEV(U,{variant:"outline",className:C("text-xs font-mono cursor-help border",Ke(Ne)),children:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:543,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:542,columnNumber:29},this),e.jsxDEV(cs,{side:"top",className:"text-xs",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"font-medium text-muted-foreground mb-1",children:"Individual Ratings"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:552,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((we=(L=l.user)==null?void 0:L.name)==null?void 0:we.split(" ")[0])||"Player 1",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:554,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:le.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:555,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:553,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{children:[((Ae=(Le=D.user)==null?void 0:Le.name)==null?void 0:Ae.split(" ")[0])||"Player 2",":"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:558,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-medium",children:pe.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:559,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:557,columnNumber:33},this),e.jsxDEV("div",{className:"border-t pt-1 mt-1 flex items-center justify-between gap-4",children:[e.jsxDEV("span",{className:"font-medium",children:"Average:"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:562,columnNumber:35},this),e.jsxDEV("span",{className:"font-mono font-semibold",children:Ne},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:563,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:561,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:551,columnNumber:31},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:550,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:541,columnNumber:27},this):e.jsxDEV(U,{variant:"outline",className:"text-xs font-mono text-muted-foreground",children:"N/A"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:569,columnNumber:27},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:539,columnNumber:23},this),e.jsxDEV(x,{className:"py-3 text-sm text-muted-foreground",children:l.joinedAt?new Date(l.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:576,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:C("text-xs font-medium border capitalize",He(l.status==="ACTIVE"||D.status==="ACTIVE"?"ACTIVE":l.status)),children:l.status==="ACTIVE"||D.status==="ACTIVE"?"Active":((Ee=l.status)==null?void 0:Ee.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:588,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:587,columnNumber:23},this),e.jsxDEV(x,{className:"py-3 pr-4 text-right",children:e.jsxDEV(oe,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>k([l,D],!0),children:Te?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:602,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:601,columnNumber:23},this)]},`partnership-${ge.id}`,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:486,columnNumber:21},this)}else{const l=i.memberships[0],D=G(l);return e.jsxDEV(fe.tr,{variants:$e,transition:Ge,className:"hover:bg-muted/30 border-b transition-colors",children:[e.jsxDEV(x,{className:"py-3 pl-4 text-sm text-muted-foreground",children:N+1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:626,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(De,{className:"size-8 ring-2 ring-background",children:[e.jsxDEV(xe,{src:((Ue=l.user)==null?void 0:Ue.image)||void 0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:634,columnNumber:29},this),e.jsxDEV(be,{className:`text-white font-semibold text-[10px] ${y((je=l.user)==null?void 0:je.name)}`,children:Q((Ve=l.user)==null?void 0:Ve.name)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:635,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:633,columnNumber:27},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-sm truncate",children:((Ce=l.user)==null?void 0:Ce.name)||"Unknown"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:640,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:["@",W(l.user)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:643,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:639,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:632,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:631,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:"text-xs font-normal",children:Y(l.divisionId??null)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:652,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:651,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:C("text-xs font-mono border",D.value>0?Ke(D.value):"text-muted-foreground"),children:D.display},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:659,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:658,columnNumber:23},this),e.jsxDEV(x,{className:"py-3 text-sm text-muted-foreground",children:l.joinedAt?new Date(l.joinedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:671,columnNumber:23},this),e.jsxDEV(x,{className:"py-3",children:e.jsxDEV(U,{variant:"outline",className:C("text-xs font-medium border capitalize",He(l.status)),children:((Se=l==null?void 0:l.status)==null?void 0:Se.toLowerCase())||"pending"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:683,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:682,columnNumber:23},this),e.jsxDEV(x,{className:"py-3 pr-4 text-right",children:e.jsxDEV(oe,{variant:"outline",size:"sm",className:"h-7 px-2.5 text-xs",onClick:()=>k(l,!1),children:l.divisionId?"Reassign":"Assign"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:693,columnNumber:25},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:692,columnNumber:23},this)]},l.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:619,columnNumber:21},this)}}):e.jsxDEV(Oe,{children:e.jsxDEV(x,{colSpan:7,className:"h-32 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:e.jsxDEV(he,{className:"size-6 opacity-50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:711,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:710,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"No players found"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:714,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs",children:d?"Try adjusting your filters":n?"All players have been assigned to divisions":"Players will appear here once they are assigned to divisions"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:715,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:713,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:709,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:708,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:707,columnNumber:15},this)},$,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:462,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:450,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:449,columnNumber:7},this)};return e.jsxDEV(ts,{children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold tracking-tight",children:["Season Players (",m.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:738,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(as,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:744,columnNumber:15},this),e.jsxDEV(ke,{type:"text",placeholder:"Search players...",value:E,onChange:s=>H(s.target.value),className:"w-full sm:w-56 pl-9 pr-9 h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:745,columnNumber:15},this),E&&e.jsxDEV("button",{onClick:()=>H(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsxDEV(ze,{className:"size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:757,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:753,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:743,columnNumber:13},this),p.length>0&&e.jsxDEV(gs,{value:T,onChange:K,options:a,placeholder:"Division",allLabel:"All Divisions",triggerClassName:"w-[150px] h-9"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:764,columnNumber:15},this),e.jsxDEV(ke,{type:"number",placeholder:"Min rating",value:P,onChange:s=>X(s.target.value),className:"w-28 h-9",min:0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:775,columnNumber:13},this),d&&e.jsxDEV(oe,{variant:"ghost",size:"sm",onClick:h,className:"h-9 px-2 text-muted-foreground hover:text-foreground",children:[e.jsxDEV(ze,{className:"size-4 mr-1"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:792,columnNumber:17},this),"Clear"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:786,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:741,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:737,columnNumber:9},this),e.jsxDEV(ls,{value:de,onValueChange:I,className:"w-full",children:[e.jsxDEV(rs,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxDEV(Re,{value:"active",className:"text-sm",children:["In Division (",se.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:802,columnNumber:13},this),e.jsxDEV(Re,{value:"waitlisted",className:"text-sm",children:["Awaiting Division (",ne.length,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:805,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:801,columnNumber:11},this),e.jsxDEV(Be,{value:"active",className:"mt-0",children:e.jsxDEV(ae,{players:se,isWaitlistTab:!1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:810,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:809,columnNumber:11},this),e.jsxDEV(Be,{value:"waitlisted",className:"mt-0",children:e.jsxDEV(ae,{players:ne,isWaitlistTab:!0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:813,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:812,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:800,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:735,columnNumber:7},this),e.jsxDEV(hs,{isOpen:te,onOpenChange:j,member:ve,teamMembers:V,divisions:p,seasonId:u,onAssigned:O,adminId:me||"",getSportRating:G,gameType:_()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:818,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/app/seasons/[id]/components/season/SeasonPlayersCard.tsx",lineNumber:734,columnNumber:5},this)}export{ks as default};
