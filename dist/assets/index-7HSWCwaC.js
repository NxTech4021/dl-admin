const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/emoji-picker-react.esm-DaUxdAyn.js","assets/index-ABcspcLt.js","assets/index-alJljXDl.css"])))=>i.map(i=>d[i]);
import{c as Q,aj as cs,ak as os,al as ds,am as Ee,an as Ue,ao as je,ap as Ve,aq as Ce,ar as $e,as as Pe,r as i,j as e,at as Ge,au as ze,F as we,av as He,a0 as us,a1 as hs,a2 as Ns,a3 as gs,a4 as fs,d as E,a as re,u as ne,k as ee,l as se,t as O,K as qe,N as Ke,P as Ye,Q as We,aw as le,R as xs,S as Qe,I as Xe,B as R,L as Ze,U as me,ax as oe,ay as Ds,p as bs,az as Je,aA as pe,V as ws,aB as ps,aC as Ls,_ as ys,o as es,aD as vs}from"./index-ABcspcLt.js";import{k as As,l as Es,n as Le,j as Us,m as C,o as de,p as ss,S as Se}from"./site-header-DWJpDH6n.js";import{T as ke,o as Me,p as Te,q as _e,x as ye,r as ns,s as as,t as js,v as Vs}from"./use-notifications-BKGlCJFk.js";import{A as $,a as P,b as G}from"./avatar-DA6-hlWO.js";import{A as Y}from"./index-DfNQ37z5.js";import{S as Z}from"./skeleton-DWaQgfhw.js";import{U as be,T as Ne}from"./user-0S4qm5Cs.js";import{A as Cs,a as Ss,b as ks,c as Ms,d as Ts,e as _s,f as Is,g as Rs}from"./alert-dialog-CMb6rA4u.js";import{D as Fs,A as Bs}from"./dollar-sign-BEi-jzyf.js";import{C as Os}from"./circle-D6XQguEq.js";import{s as $s}from"./subDays-BDrNP1-t.js";import{O as ts}from"./use-queries-BwY_pCmF.js";import{M as ls}from"./mail-Cz6_gsBC.js";import"./external-DCTon813.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";import"./league-schema-CW4CwVLH.js";import"./season-schema-DVFNm_2a.js";import"./division-schema-gPrDsMOQ.js";/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ge=Q("circle-check-big",Ps);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ie=Q("circle-x",Gs);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],is=Q("external-link",zs);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ve=Q("map-pin",Hs);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],Re=Q("message-square-plus",qs);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Ys=Q("reply",Ks);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Qs=Q("smile",Ws);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zs=Q("square-pen",Xs);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Fe=Q("users-round",Js);function en(s,a,n){const l=cs(),r=(n==null?void 0:n.locale)??l.locale??os,t=As(s,a);if(isNaN(t))throw new RangeError("Invalid time value");const h=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:t}),[x,f]=ds(n==null?void 0:n.in,...t>0?[a,s]:[s,a]),b=Es((n==null?void 0:n.roundingMethod)??"round"),w=f.getTime()-x.getTime(),L=w/Ce,d=Ee(f)-Ee(x),N=(w-d)/Ce,o=n==null?void 0:n.unit;let D;if(o?D=o:L<1?D="second":L<60?D="minute":L<Ue?D="hour":N<je?D="day":N<Ve?D="month":D="year",D==="second"){const c=b(w/1e3);return r.formatDistance("xSeconds",c,h)}else if(D==="minute"){const c=b(L);return r.formatDistance("xMinutes",c,h)}else if(D==="hour"){const c=b(L/60);return r.formatDistance("xHours",c,h)}else if(D==="day"){const c=b(N/Ue);return r.formatDistance("xDays",c,h)}else if(D==="month"){const c=b(N/je);return c===12&&o!=="month"?r.formatDistance("xYears",1,h):r.formatDistance("xMonths",c,h)}else{const c=b(N/Ve);return r.formatDistance("xYears",c,h)}}function Ae(s,a){return en(s,Le(s),a)}function sn(s,a){return $e(Pe(s,s),Le(s))}function nn(s,a){return $e(Pe(s,s),$s(Le(s),1))}const an=["online","away","busy","offline"],Be={background:{online:"bg-green-500",away:"bg-yellow-500",busy:"bg-red-500",offline:"bg-gray-500"},text:{online:"text-green-600",away:"text-yellow-600",busy:"text-red-600",offline:"text-gray-600"},border:{online:"border-green-500",away:"border-yellow-500",busy:"border-red-500",offline:"border-gray-500"},ring:{online:"ring-green-500",away:"ring-yellow-500",busy:"ring-red-500",offline:"ring-gray-500"}},fe={AVATAR_SIZES:{MEDIUM:"w-10 h-10",LARGE:"w-12 h-12"}},X=(s,a="background")=>Be[a][s]||Be[a].offline,ce=s=>s.charAt(0).toUpperCase()+s.slice(1),xe={FADE_IN:"animate-in fade-in-0 duration-200",PULSE:"animate-pulse"},ie={USER_STATUS:"online",AVATAR_FALLBACK:"?",UNKNOWN_USER:"Unknown User",EMPTY_MESSAGES:"No messages yet"};function tn({user:s,onStatusChange:a,onSettingsClick:n,onLogoutClick:l,collapsed:r=!1}){const[t,h]=i.useState(ie.USER_STATUS),[x,f]=i.useState(!1),b=(s==null?void 0:s.name)||(s==null?void 0:s.displayName)||ie.UNKNOWN_USER,w=(s==null?void 0:s.email)||"",L=(s==null?void 0:s.image)||(s==null?void 0:s.photoURL)||"",d=b.charAt(0).toUpperCase()||ie.AVATAR_FALLBACK,N=i.useCallback(o=>{h(o),a==null||a(o),console.log("User status changed to:",o)},[a]);return i.useCallback(()=>{f(!1),n==null||n()},[n]),i.useCallback(()=>{f(!1),l==null||l()},[l]),r?e.jsxDEV(ke,{children:e.jsxDEV(Me,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV("div",{className:"flex justify-center p-3",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:fe.AVATAR_SIZES.MEDIUM,children:[e.jsxDEV(P,{src:L,alt:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:70,columnNumber:19},this),e.jsxDEV(G,{className:"text-sm font-medium",children:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:71,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:69,columnNumber:17},this),e.jsxDEV("span",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-background ${X(t)}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:76,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:68,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:67,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:66,columnNumber:11},this),e.jsxDEV(_e,{side:"right",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"font-medium",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:84,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground capitalize",children:ce(t)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:83,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:82,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:64,columnNumber:7},this):e.jsxDEV(Ge,{open:x,onOpenChange:f,children:[e.jsxDEV(ke,{children:e.jsxDEV(Me,{children:[e.jsxDEV(Te,{asChild:!0,children:e.jsxDEV(ze,{asChild:!0,children:e.jsxDEV("div",{className:`flex items-center gap-3 p-3 cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${xe.FADE_IN}`,children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:fe.AVATAR_SIZES.MEDIUM,children:[e.jsxDEV(P,{src:L,alt:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:106,columnNumber:21},this),e.jsxDEV(G,{className:"text-sm font-medium",children:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:107,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:105,columnNumber:19},this),e.jsxDEV("span",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-background ${X(t)} ${t==="online"?xe.PULSE:""}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:112,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:104,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"font-medium text-sm truncate",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:119,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:e.jsxDEV(we,{variant:"outline",className:`text-xs px-2 py-0.5 ${X(t,"text")} border-current`,children:ce(t)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:123,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:118,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(_e,{children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:w},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:135,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:99,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:98,columnNumber:7},this),e.jsxDEV(He,{className:`w-80 p-0 ${xe.FADE_IN}`,align:"start",children:[e.jsxDEV("div",{className:"flex items-center gap-3 p-4 bg-muted/50",children:[e.jsxDEV($,{className:fe.AVATAR_SIZES.LARGE,children:[e.jsxDEV(P,{src:L,alt:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:147,columnNumber:13},this),e.jsxDEV(G,{className:"text-lg font-medium",children:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"font-semibold text-base truncate",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:153,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground truncate",children:w},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:154,columnNumber:13},this),(s==null?void 0:s.username)&&e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["@",s.username]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:145,columnNumber:9},this),e.jsxDEV(Us,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:161,columnNumber:9},this),e.jsxDEV("div",{className:"p-4 space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Status"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:166,columnNumber:13},this),e.jsxDEV("span",{className:`h-2 w-2 rounded-full ${X(t)}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV(us,{value:t,onValueChange:N,children:[e.jsxDEV(hs,{className:"w-full",children:e.jsxDEV(Ns,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`h-2 w-2 rounded-full ${X(t)}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:176,columnNumber:19},this),e.jsxDEV("span",{className:"capitalize",children:ce(t)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:179,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:175,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:174,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:173,columnNumber:13},this),e.jsxDEV(gs,{children:an.map(o=>e.jsxDEV(fs,{value:o,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`h-2 w-2 rounded-full ${X(o)}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:187,columnNumber:21},this),e.jsxDEV("span",{className:"capitalize",children:ce(o)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:190,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:186,columnNumber:19},this)},o,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:185,columnNumber:17},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:172,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:143,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-account.tsx",lineNumber:97,columnNumber:5},this)}const ln=({className:s,...a})=>e.jsxDEV("div",{className:E("flex flex-row items-center space-x-2 px-2.5 py-1.5",s),...a,children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-gray-200 animate-pulse"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-skeleton.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex flex-col flex-grow space-y-1",children:[e.jsxDEV("div",{className:"w-[75%] h-2 rounded bg-gray-200 animate-pulse"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-skeleton.tsx",lineNumber:16,columnNumber:9},void 0),e.jsxDEV("div",{className:"w-[50%] h-2 rounded bg-gray-200 animate-pulse"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-skeleton.tsx",lineNumber:17,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-skeleton.tsx",lineNumber:15,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-skeleton.tsx",lineNumber:7,columnNumber:5},void 0),mn=(s,a)=>{const[n,l]=i.useState(!1);return i.useEffect(()=>{const r=window.matchMedia("(min-width: 768px)"),t=h=>l(h.matches);return r.addEventListener("change",t),t(r),()=>r.removeEventListener("change",t)},[]),n},rn=(s,a=6)=>{if(!s)return"";const n=s.trim().split(/\s+/);return n.length<=a?s:n.slice(0,a).join(" ")+"..."},cn=({conversation:s,currentUserId:a})=>{var b,w,L,d,N,o;const n=(s==null?void 0:s.type)==="group",l=n?(s==null?void 0:s.participants)||[]:((b=s==null?void 0:s.participants)==null?void 0:b.filter(D=>D.id!==a))||[],r=n?(s==null?void 0:s.displayName)||(s==null?void 0:s.name)||"Group Chat":(s==null?void 0:s.displayName)||((w=l[0])==null?void 0:w.name)||((L=l[0])==null?void 0:L.displayName)||ie.UNKNOWN_USER,t=((d=s==null?void 0:s.lastMessage)==null?void 0:d.content)||"",h=rn(t,6),x=(N=s==null?void 0:s.lastMessage)==null?void 0:N.createdAt,f=n&&((o=s==null?void 0:s.participants)==null?void 0:o.some(D=>D.status==="online"));return{group:n,displayName:r,displayText:h,participants:l,lastActivity:x,hasOnlineInGroup:f}},on={dashboard:{chat:"/chat"}},dn=s=>s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2),un=s=>{const a=s.trim().split(" ");return a.length===1?a[0].slice(0,2).toUpperCase():a.slice(0,2).map(n=>n.charAt(0)).join("").toUpperCase()},hn=({selected:s,conversation:a,onCloseMobile:n})=>{const{data:l}=re(),r=l==null?void 0:l.user,t=ne(),h=mn(),{group:x,displayName:f,displayText:b,participants:w,lastActivity:L,hasOnlineInGroup:d}=cn({conversation:a,currentUserId:r==null?void 0:r.id}),N=w[0],{name:o,photoURL:D,status:c}=N||{},u=i.useCallback(async()=>{try{!h&&n&&n(),t({to:`${on.dashboard.chat}?id=${a.id}`})}catch(g){console.error(g)}},[a.id,h,n,t]),p=e.jsxDEV("div",{className:"relative flex-shrink-0",children:[e.jsxDEV($,{className:"h-12 w-12",children:[e.jsxDEV(P,{src:a.avatarUrl||a.photoURL,alt:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:147,columnNumber:9},void 0),e.jsxDEV(G,{className:"text-sm bg-gradient-to-br from-brand-dark to-brand-light text-white font-semibold",children:un(f)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:151,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:146,columnNumber:7},void 0),d&&e.jsxDEV("span",{className:"absolute bottom-0.5 right-0.5 h-3 w-3 rounded-full bg-green-500 ring-2 ring-background"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:156,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:145,columnNumber:5},void 0),y=e.jsxDEV("div",{className:"relative flex-shrink-0",children:[e.jsxDEV($,{className:"h-12 w-12",children:[e.jsxDEV(P,{src:D||(N==null?void 0:N.photoURL),alt:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:164,columnNumber:9},void 0),e.jsxDEV(G,{className:"text-sm bg-muted font-medium",children:dn(f)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:168,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:163,columnNumber:7},void 0),c==="online"&&e.jsxDEV("span",{className:"absolute bottom-0.5 right-0.5 h-3 w-3 rounded-full bg-green-500 ring-2 ring-background"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:173,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:162,columnNumber:5},void 0);return e.jsxDEV("div",{onClick:u,className:E("flex items-center gap-3 px-4 py-3.5 cursor-pointer transition-colors",s?"bg-muted":"hover:bg-muted/50"),children:[x?p:y,e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"font-semibold text-[15px] truncate",children:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:192,columnNumber:11},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground/70 flex-shrink-0 ml-2",children:L?Ae(new Date(L),{addSuffix:!1}):""},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:195,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:191,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mt-0.5",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground truncate",children:b||ie.EMPTY_MESSAGES},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:204,columnNumber:11},void 0),e.jsxDEV(Y,{children:a.unreadCount>0&&e.jsxDEV(C.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",stiffness:500,damping:25},className:"h-5 min-w-5 px-1.5 rounded-full bg-brand-light text-white text-xs font-medium flex items-center justify-center flex-shrink-0 ml-2",children:a.unreadCount>99?"99+":a.unreadCount},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:209,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:203,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:190,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav-item.tsx",lineNumber:179,columnNumber:5},void 0)};function Nn(s){const[a,n]=i.useState([]),[l,r]=i.useState(!0),[t,h]=i.useState(null),{socket:x,isConnected:f}=ye(),b=i.useCallback(async()=>{var d,N,o,D;if(!s)return r(!1),[];try{r(!0),h(null);const c=await ee.get(se.chat.getThreads(s));let u=[];return c.data&&(c.data.success&&c.data.data?u=c.data.data:Array.isArray(c.data)?u=c.data:c.data.threads&&Array.isArray(c.data.threads)&&(u=c.data.threads)),n(u),u}catch(c){console.error("Error fetching threads:",c);const u=((N=(d=c.response)==null?void 0:d.data)==null?void 0:N.message)||((D=(o=c.response)==null?void 0:o.data)==null?void 0:D.error)||c.message||"Failed to fetch threads";return h(u),O.error("Failed to load chat threads"),n([]),[]}finally{r(!1)}},[s]);i.useEffect(()=>{if(!x||!f)return;const d=D=>{n(c=>[D.thread,...c]),O.success("New conversation started!")},N=D=>{n(c=>c.map(u=>u.id===D.threadId?{...u,messages:[D.lastMessage],updatedAt:new Date().toISOString()}:u))},o=D=>{n(c=>{const u=c.findIndex(g=>g.id===D.threadId);if(u===-1)return c;const p=[...c],y=p[u];return p[u]={...y,messages:[D],updatedAt:new Date().toISOString()},p.splice(u,1),p.unshift(p[u]?y:p[u]),[{...y,messages:[D],updatedAt:new Date().toISOString()},...c.filter(g=>g.id!==D.threadId)]})};return x.on("new_thread",d),x.on("thread_updated",N),x.on("new_message",o),()=>{x.off("new_thread",d),x.off("thread_updated",N),x.off("new_message",o)}},[x,f]),i.useEffect(()=>{b()},[b]);const w=i.useCallback((d,N)=>{n(o=>o.some(u=>u.id===d)?[{...o.find(u=>u.id===d),messages:[N],updatedAt:new Date().toISOString()},...o.filter(u=>u.id!==d)]:o)},[]),L=i.useCallback(d=>{n(N=>N.some(o=>o.id===d.id)?N:[d,...N])},[]);return{threads:a,loading:l,error:t,refetch:b,updateThreadLastMessage:w,addThreadOptimistically:L}}function gn(s){const[a,n]=i.useState([]),[l,r]=i.useState(!1),[t,h]=i.useState(null),{socket:x,isConnected:f,joinThread:b,leaveThread:w}=ye(),L=i.useRef(null),d=i.useCallback(async()=>{var c,u,p,y;if(!s){n([]);return}try{r(!0),h(null);const g=await ee.get(se.chat.getMessages(s));g.data?g.data.success&&g.data.data?n(Array.isArray(g.data.data)?g.data.data:[]):Array.isArray(g.data)?n(g.data):g.data.messages&&Array.isArray(g.data.messages)?n(g.data.messages):n([]):n([])}catch(g){console.error("Error fetching messages:",g);const U=((u=(c=g.response)==null?void 0:c.data)==null?void 0:u.message)||((y=(p=g.response)==null?void 0:p.data)==null?void 0:y.error)||g.message||"Failed to fetch messages";h(U),n([])}finally{r(!1)}},[s]),N=i.useCallback(async(c,u,p)=>{var g,U,A,I;if(!s)return;const y={id:`temp-${Date.now()}`,threadId:s,senderId:u,content:c,createdAt:new Date().toISOString(),sender:{id:u,name:"You"}};n(k=>[...k,y]);try{const k={senderId:u,content:c};p&&(k.repliesToId=p);const m=await ee.post(se.chat.sendMessage(s),k);let v=null;if(m.data&&(m.data.success&&m.data.data?v=m.data.data:m.data.message?v=m.data.message:m.data.id&&(v=m.data)),v)return console.log("âœ… Message sent successfully, waiting for socket broadcast"),v}catch(k){n(v=>v.filter(S=>S.id!==y.id)),console.error("Error sending message:",k);const m=((U=(g=k.response)==null?void 0:g.data)==null?void 0:U.message)||((I=(A=k.response)==null?void 0:A.data)==null?void 0:I.error)||k.message||"Failed to send message";throw O.error(m),k}},[s]),o=i.useCallback(async c=>{var p,y,g,U;if(!s)return;const u=[...a];try{return n(A=>A.map(I=>I.id===c?{...I,isDeleted:!0,deletedAt:new Date().toISOString(),content:"This message has been deleted"}:I)),await ee.delete(se.chat.deleteMessage(c)),O.success("Message deleted successfully"),!0}catch(A){n(u);const I=((y=(p=A.response)==null?void 0:p.data)==null?void 0:y.message)||((U=(g=A.response)==null?void 0:g.data)==null?void 0:U.error)||A.message||"Failed to delete message";throw O.error(I),A}},[s,a]);i.useEffect(()=>{if(!x||!f)return;const c=g=>{var U;console.log("ðŸ”” [Socket] Received new_message event:",{messageId:g.id,threadId:g.threadId,currentThreadId:s,senderId:g.senderId,content:(U=g.content)==null?void 0:U.substring(0,50)}),g.threadId===s?n(A=>A.some(m=>m.id===g.id)?(console.log("âš ï¸ [Socket] Message already exists, skipping duplicate:",g.id),A):A.some(m=>m.id.startsWith("temp-"))?(console.log("ðŸ”„ [Socket] Found temp message, replacing with real message:",g.id),[...A.filter(m=>!m.id.startsWith("temp-")),g]):(console.log("âœ… [Socket] Adding new message to state:",g.id),[...A,g])):console.log("â­ï¸ [Socket] Message not for current thread, ignoring")},u=g=>{console.log("ðŸ—‘ï¸ [Socket] Received message_deleted event:",g),g.threadId===s&&n(U=>U.map(A=>A.id===g.messageId?{...A,isDeleted:!0,deletedAt:new Date().toISOString(),content:"This message has been deleted"}:A))},p=g=>{},y=g=>{g.threadId===s&&n(U=>U.map(A=>A.id===g.messageId?{...A,readBy:[...A.readBy||[],{id:`${g.messageId}-${g.readerId}`,userId:g.readerId,messageId:g.messageId,readAt:new Date().toISOString(),user:{id:g.readerId,name:g.readerName}}]}:A))};return x.on("new_message",c),x.on("message_deleted",u),x.on("message_sent",p),x.on("message_read",y),()=>{x.off("new_message",c),x.off("message_deleted",u),x.off("message_sent",p),x.off("message_read",y)}},[x,f,s]),i.useEffect(()=>{if(!(!s||!f))return L.current&&L.current!==s&&(console.log("ðŸ‘‹ [Socket] Leaving previous thread:",L.current),w(L.current)),console.log("ðŸšª [Socket] Joining thread room:",s),b(s),L.current=s,()=>{s&&(w(s),L.current=null)}},[s,f,b,w]);const D=i.useCallback(async c=>{try{await ee.post(se.chat.markAsRead(c))}catch{}},[]);return i.useEffect(()=>{d()},[d]),{messages:a,loading:l,error:t,sendMessage:N,deleteMessage:o,markAsRead:D,refetch:d}}function ms(s,a){const[n,l]=i.useState([]),{socket:r,isConnected:t,sendTyping:h}=ye(),{data:x}=re(),f=x==null?void 0:x.user,b=i.useRef(void 0);i.useEffect(()=>()=>{b.current&&(clearTimeout(b.current),b.current=void 0),l([])},[s]),i.useEffect(()=>{if(!r||!t||!s)return;const L=d=>{d.threadId===s&&d.senderId!==(f==null?void 0:f.id)&&l(N=>{var o,D;if(d.isTyping){if(N.some(y=>y.userId===d.senderId))return N;const u=a==null?void 0:a.find(y=>("userId"in y?y.userId:y.id)===d.senderId),p=u?"user"in u?((o=u.user)==null?void 0:o.name)||((D=u.user)==null?void 0:D.username):u.name||u.username:"Someone";return[...N,{userId:d.senderId,userName:p||"Someone"}]}else return N.filter(c=>c.userId!==d.senderId)})};return r.on("typing_status",L),()=>{r.off("typing_status",L)}},[r,t,s,f==null?void 0:f.id,a]);const w=i.useCallback(L=>{s&&(h(s,L),L?(b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{h(s,!1)},3e3)):b.current&&(clearTimeout(b.current),b.current=void 0))},[s,h]);return{typingUsers:n,setTyping:w}}function fn(){const[s,a]=i.useState(!1),[n,l]=i.useState(null);return{createThread:i.useCallback(async t=>{var h,x,f,b;try{a(!0),l(null);const w=await ee.post(se.chat.createThread,t);if(w.data){let L=null;if(w.data.success&&w.data.data?L=w.data.data:w.data.thread?L=w.data.thread:w.data.id&&(L=w.data),L)return O.success("Thread created successfully"),L}throw new Error("Failed to create thread")}catch(w){console.error("Error creating thread:",w);const L=((x=(h=w.response)==null?void 0:h.data)==null?void 0:x.message)||((b=(f=w.response)==null?void 0:f.data)==null?void 0:b.error)||w.message||"Failed to create thread";throw l(L),O.error(L),w}finally{a(!1)}},[]),loading:s,error:n}}function xn(s){const[a,n]=i.useState([]),[l,r]=i.useState(!1),[t,h]=i.useState(null),x=i.useCallback(async()=>{var f,b,w,L;if(!s){n([]);return}try{r(!0),h(null);const d=await ee.get(se.chat.getAvailableUsers(s));let N=[];d.data&&(d.data.success&&d.data.data?N=d.data.data:Array.isArray(d.data)?N=d.data:d.data.users&&Array.isArray(d.data.users)&&(N=d.data.users));const o=N.filter(D=>D.id!==s);n(o)}catch(d){console.error("Error fetching available users:",d);const N=((b=(f=d.response)==null?void 0:f.data)==null?void 0:b.message)||((L=(w=d.response)==null?void 0:w.data)==null?void 0:L.error)||d.message||"Failed to fetch users";h(N),n([])}finally{r(!1)}},[s]);return i.useEffect(()=>{x()},[x]),{users:a,loading:l,error:t,refetch:x}}const Dn=(s,a)=>{if(a)return"Active now";if(!s)return"";try{const n=new Date(s);return`Active ${ss(n)} ago`}catch{return""}},bn=()=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Z,{className:"h-10 w-10 rounded-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:46,columnNumber:7},void 0),e.jsxDEV(Z,{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:47,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:45,columnNumber:5},void 0),e.jsxDEV("div",{className:"flex-1 space-y-1.5",children:[e.jsxDEV(Z,{className:"h-4 w-32"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:50,columnNumber:7},void 0),e.jsxDEV(Z,{className:"h-3 w-40"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:51,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:49,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:44,columnNumber:3},void 0);function wn({open:s,onOpenChange:a,currentUserId:n,onThreadCreated:l,addThreadOptimistically:r}){const t=ne(),[h,x]=i.useState(""),[f,b]=i.useState(null),{users:w,loading:L,error:d,refetch:N}=xn(n),{createThread:o}=fn(),D=i.useMemo(()=>{if(!h.trim())return w;const p=h.toLowerCase();return w.filter(y=>{var g,U;return y.name.toLowerCase().includes(p)||((g=y.username)==null?void 0:g.toLowerCase().includes(p))||((U=y.email)==null?void 0:U.toLowerCase().includes(p))})},[w,h]),c=async p=>{if(!(!n||f))try{b(p.id);const y={name:void 0,isGroup:!1,userIds:[n,p.id],createdBy:n},g=await o(y);g&&(r&&r(g),b(null),a(!1),x(""),t({to:"/chat",search:{id:g.id}}),l==null||l(),O.success(`Chat with ${p.name} started!`))}catch{O.error("Failed to start chat. Please try again."),b(null)}},u=()=>{f||(a(!1),x(""))};return e.jsxDEV(qe,{open:s,onOpenChange:u,children:e.jsxDEV(Ke,{className:"max-w-md h-[500px] flex flex-col p-0",children:[e.jsxDEV(Ye,{className:"px-6 pt-6 pb-4",children:[e.jsxDEV(We,{className:"flex items-center gap-2",children:[e.jsxDEV(le,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:134,columnNumber:13},this),"Start New Chat"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:133,columnNumber:11},this),e.jsxDEV(xs,{children:"Click on a user to start chatting"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:132,columnNumber:9},this),e.jsxDEV("div",{className:"px-6 space-y-4 flex-1 flex flex-col overflow-hidden",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV(Xe,{placeholder:"Search users...",value:h,onChange:p=>x(p.target.value),className:"pl-9",disabled:!!f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:144,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 overflow-hidden",children:e.jsxDEV(de,{className:"h-full",children:L?e.jsxDEV("div",{className:"space-y-2",children:Array.from({length:5}).map((p,y)=>e.jsxDEV(bn,{},y,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:161,columnNumber:21},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:159,columnNumber:17},this):d?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV("div",{className:"text-4xl mb-2",children:"âš ï¸"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:166,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm mb-2",children:"Failed to load users"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:167,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs mb-3",children:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:168,columnNumber:19},this),e.jsxDEV(R,{size:"sm",variant:"outline",onClick:N,children:"Try Again"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:169,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:165,columnNumber:17},this):D.length===0?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV("div",{className:"text-4xl mb-2",children:h?"ðŸ”":"ðŸ‘¥"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:175,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm mb-1",children:h?"No users found":"No available users"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:178,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs",children:h?"Try a different search term":"All users already have conversations with you"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:181,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:174,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-1",children:D.map(p=>{const y=f===p.id,g=Dn(p.lastActiveAt,p.isOnline);return e.jsxDEV("div",{onClick:()=>!f&&c(p),className:E("flex items-center gap-3 p-3 rounded-md transition-colors",!f&&"cursor-pointer hover:bg-muted/50",f&&f!==p.id&&"opacity-50",y&&"bg-muted border border-brand-light/20"),children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:"h-10 w-10",children:[e.jsxDEV(P,{src:p.image,alt:p.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:208,columnNumber:29},this),e.jsxDEV(G,{children:p.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:209,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:207,columnNumber:27},this),e.jsxDEV("div",{className:E("absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-background",p.isOnline?"bg-green-500":"bg-gray-400"),"aria-label":p.isOnline?"Online":"Offline"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:215,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:206,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-medium truncate",children:p.name},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:226,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsxDEV("span",{className:"truncate",children:p.username?`@${p.username}`:p.email},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:232,columnNumber:29},this),g&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-muted-foreground/50",children:"â€¢"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:239,columnNumber:33},this),e.jsxDEV("span",{className:E("flex-shrink-0",p.isOnline?"text-green-600 dark:text-green-500":"text-muted-foreground/70"),children:g},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:240,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:238,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:231,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:224,columnNumber:25},this),y&&e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(Ze,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:253,columnNumber:29},this),e.jsxDEV("span",{children:"Creating chat..."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:254,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:252,columnNumber:27},this)]},p.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:195,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:189,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:142,columnNumber:9},this),e.jsxDEV("div",{className:"px-6 py-4 border-t flex justify-end",children:e.jsxDEV(R,{variant:"outline",onClick:u,disabled:!!f,children:f?"Creating...":"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:268,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:267,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:131,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/create-chat-modal.tsx",lineNumber:130,columnNumber:5},this)}const pn=()=>{const[s,a]=i.useState(!1);return i.useEffect(()=>{const n=window.matchMedia("(min-width: 768px)"),l=r=>a(r.matches);return n.addEventListener("change",l),l(n),()=>n.removeEventListener("change",l)},[]),s},Ln=()=>{const[s,a]=i.useState(!1),[n,l]=i.useState(!1);return{collapseDesktop:s,onCollapseDesktop:()=>a(r=>!r),onCloseDesktop:()=>a(!1),openMobile:n,onOpenMobile:()=>l(!0),onCloseMobile:()=>l(!1)}},yn=(s=!1)=>{const[a,n]=i.useState(s);return{value:a,onTrue:()=>n(!0),onFalse:()=>n(!1),onToggle:()=>n(l=>!l)}};function Oe({loading:s,user:a,conversations:n,selectedConversationId:l,onConversationSelect:r,onThreadCreated:t,forceMobileList:h=!1,addThreadOptimistically:x}){ne();const f=pn(),{openMobile:b,onOpenMobile:w,onCloseMobile:L}=Ln(),{value:d,onTrue:N,onFalse:o}=yn(!1),[D,c]=i.useState(""),[u,p]=i.useState("all"),y=i.useRef(null);i.useEffect(()=>{if(y.current){const V=y.current.querySelector("[data-radix-scroll-area-viewport]");V&&(V.scrollTop=0)}},[u]);const g=i.useMemo(()=>{const V=n.filter(B=>B.type==="direct").length,T=n.filter(B=>B.type==="group").length;return{all:n.length,personal:V,division:T}},[n]),U=i.useMemo(()=>{let V=n;return u==="personal"?V=V.filter(T=>T.type==="direct"):u==="division"&&(V=V.filter(T=>T.type==="group"),V=[...V].sort((T,B)=>(T.displayName||"").localeCompare(B.displayName||""))),D.trim()&&(V=V.filter(T=>{var ae;const B=T.displayName||"",M=((ae=T.participants)==null?void 0:ae.map(q=>q.displayName||q.name||"").join(" "))||"";return(B+" "+M).toLowerCase().includes(D.toLowerCase())})),V},[n,u,D]),A=i.useCallback(()=>{f||L(),N()},[f,L,N]),I=i.useCallback(V=>{c(V)},[]),k=i.useCallback(()=>{c("")},[]),m=i.useCallback(async()=>{await(t==null?void 0:t())},[t]),v=()=>e.jsxDEV(R,{onClick:w,variant:"ghost",className:"fixed left-0 top-[68px] md:top-[84px] z-50 h-11 w-11 rounded-r-lg bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 md:hidden transition-all","aria-label":"Open chat navigation",children:e.jsxDEV(me,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:207,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:201,columnNumber:5},this),S=()=>e.jsxDEV(e.Fragment,{children:Array.from({length:8},(V,T)=>e.jsxDEV(ln,{},`skeleton-${T}`,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:214,columnNumber:9},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:212,columnNumber:5},this),_=()=>{const V=()=>D?"No conversations found":u==="personal"?"No personal chats":u==="division"?"No division chats":"No conversations yet",T=()=>D?"Try a different search term":u!=="all"?"Try selecting a different filter":"Start a new conversation";return e.jsxDEV(C.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.3,ease:[.4,0,.2,1]},className:"flex flex-col items-center justify-center py-8 text-center px-4",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:u==="personal"?e.jsxDEV(be,{className:"w-6 h-6 text-muted-foreground/60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:244,columnNumber:13},this):u==="division"?e.jsxDEV(Fe,{className:"w-6 h-6 text-muted-foreground/60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:246,columnNumber:13},this):e.jsxDEV(Re,{className:"w-6 h-6 text-muted-foreground/60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:248,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:242,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:V()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:251,columnNumber:9},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground/70",children:T()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:254,columnNumber:9},this),!D&&u==="all"&&e.jsxDEV(R,{variant:"outline",size:"sm",className:"mt-4",onClick:A,children:[e.jsxDEV(Re,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:264,columnNumber:13},this),"New Message"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:258,columnNumber:11},this)]},"empty-state",!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:234,columnNumber:7},this)},z=()=>e.jsxDEV(Y,{mode:"popLayout",initial:!1,children:U.length>0?e.jsxDEV(C.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{},visible:{transition:{staggerChildren:.04}}},children:U.map(V=>e.jsxDEV(C.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.15},children:e.jsxDEV(hn,{conversation:V,selected:V.id===l,onCloseMobile:h?void 0:L},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:294,columnNumber:15},this)},V.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:286,columnNumber:13},this))},`list-${u}`,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:275,columnNumber:9},this):_()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:273,columnNumber:5},this),H=()=>e.jsxDEV("div",{className:"flex items-center justify-between px-4 min-h-[68px] border-b",children:[e.jsxDEV(tn,{user:a},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:310,columnNumber:7},this),e.jsxDEV(R,{size:"icon",variant:"ghost",onClick:A,className:"rounded-full h-9 w-9",children:e.jsxDEV(Zs,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:317,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:311,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:309,columnNumber:5},this),j=()=>e.jsxDEV("div",{className:"px-3 py-2",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Qe,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:325,columnNumber:9},this),e.jsxDEV(Xe,{value:D,onChange:V=>I(V.target.value),placeholder:"Search",className:"pl-10 h-9 rounded-full bg-muted/50 border-0 focus-visible:ring-0 text-sm","aria-label":"Search conversations"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:326,columnNumber:9},this),e.jsxDEV(Y,{children:D&&e.jsxDEV(C.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:e.jsxDEV(R,{variant:"ghost",size:"sm",className:"absolute right-1.5 top-1/2 -translate-y-1/2 h-6 w-6 p-0 text-muted-foreground hover:text-foreground rounded-full",onClick:k,"aria-label":"Clear search",children:"Ã—"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:341,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:335,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:324,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:323,columnNumber:5},this),F=()=>e.jsxDEV("div",{className:"px-3 pb-2",children:e.jsxDEV("div",{className:"inline-flex items-center w-full rounded-lg bg-muted/60 p-1",children:[e.jsxDEV("button",{onClick:()=>p("all"),className:E("flex-1 inline-flex items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all",u==="all"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:["All",g.all>0&&e.jsxDEV("span",{className:E("text-[10px]",u==="all"?"text-muted-foreground":"text-muted-foreground/60"),children:g.all},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:371,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:360,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>p("personal"),className:E("flex-1 inline-flex items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all",u==="personal"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[e.jsxDEV(be,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:388,columnNumber:11},this),"Personal",g.personal>0&&e.jsxDEV("span",{className:E("text-[10px]",u==="personal"?"text-muted-foreground":"text-muted-foreground/60"),children:g.personal},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:391,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:379,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>p("division"),className:E("flex-1 inline-flex items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all",u==="division"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[e.jsxDEV(Fe,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:408,columnNumber:11},this),"Division",g.division>0&&e.jsxDEV("span",{className:E("text-[10px]",u==="division"?"text-muted-foreground":"text-muted-foreground/60"),children:g.division},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:411,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:399,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:359,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:358,columnNumber:5},this),W=()=>e.jsxDEV("div",{className:"h-full flex flex-col",children:[H(),j(),F(),e.jsxDEV("div",{className:"flex-1 overflow-hidden",ref:y,children:e.jsxDEV(de,{className:"h-full",children:s?S():z()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:436,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:435,columnNumber:7},this),e.jsxDEV(wn,{open:d,onOpenChange:o,currentUserId:a==null?void 0:a.id,onThreadCreated:m,addThreadOptimistically:x},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:441,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:424,columnNumber:5},this);return e.jsxDEV(e.Fragment,{children:[!f&&!h&&v(),f||h?e.jsxDEV("div",{className:"h-full w-full flex flex-col",children:W()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:457,columnNumber:9},this):e.jsxDEV(ns,{open:b,onOpenChange:L,children:e.jsxDEV(as,{side:"left",className:"p-0 border-r-0 w-[320px]",children:W()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:462,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:461,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-nav.tsx",lineNumber:453,columnNumber:5},this)}function vn({participants:s=[],conversation:a,onDetailsClick:n,onBack:l}){var N;const r=(a==null?void 0:a.type)==="group",t=s.find(o=>!o.isCurrentUser),h=o=>{const D=o.trim().split(" ");return D.length===1?D[0].slice(0,2).toUpperCase():D.slice(0,2).map(c=>c.charAt(0)).join("").toUpperCase()},x=o=>{switch(o){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";case"offline":default:return"bg-gray-400"}},f=o=>o?`Last seen ${ss(new Date(o),{addSuffix:!0})}`:"Last seen recently",b=((N=a==null?void 0:a.participants)==null?void 0:N.length)||s.length,w=((a==null?void 0:a.participants)||s).filter(o=>o.status==="online").length,L=e.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:"h-9 w-9 md:h-10 md:w-10",children:[e.jsxDEV(P,{src:(a==null?void 0:a.photoURL)||(a==null?void 0:a.avatarUrl),alt:(a==null?void 0:a.displayName)||"Group Chat"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:91,columnNumber:11},this),e.jsxDEV(G,{className:"text-sm bg-gradient-to-br from-brand-dark to-brand-light text-white font-semibold",children:h((a==null?void 0:a.displayName)||(a==null?void 0:a.name)||"Group")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:90,columnNumber:9},this),w>0&&e.jsxDEV("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-background"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:89,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-sm md:text-[15px] font-semibold truncate",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.name)||"Group Chat"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:108,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1 text-[10px] md:text-xs text-muted-foreground",children:[e.jsxDEV(me,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:112,columnNumber:11},this),e.jsxDEV("span",{children:[b," members",w>0&&e.jsxDEV("span",{className:"ml-1",children:["â€¢ ",w," online"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:111,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:107,columnNumber:7},this),e.jsxDEV(oe,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:125,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:87,columnNumber:5},this),d=e.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:"h-9 w-9 md:h-10 md:w-10",children:[e.jsxDEV(P,{src:(t==null?void 0:t.photoURL)||(t==null?void 0:t.avatarUrl)||(a==null?void 0:a.photoURL),alt:(t==null?void 0:t.name)||(t==null?void 0:t.displayName)||(a==null?void 0:a.displayName)||"User"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:134,columnNumber:11},this),e.jsxDEV(G,{children:((t==null?void 0:t.name)||(t==null?void 0:t.displayName)||(a==null?void 0:a.displayName)||"U").charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:138,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:133,columnNumber:9},this),e.jsxDEV("div",{className:E("absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-background",x(t==null?void 0:t.status))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:132,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-sm md:text-[15px] font-semibold truncate",children:(t==null?void 0:t.name)||(t==null?void 0:t.displayName)||(a==null?void 0:a.displayName)||"Unknown User"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:152,columnNumber:9},this),e.jsxDEV("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:(t==null?void 0:t.status)==="offline"?f(t.lastActivity):e.jsxDEV("span",{className:"capitalize",children:(t==null?void 0:t.status)||"online"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:159,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:151,columnNumber:7},this),e.jsxDEV(oe,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:168,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:130,columnNumber:5},this);return e.jsxDEV("div",{className:"flex items-center gap-2 w-full",children:[l&&e.jsxDEV(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:"md:hidden",children:e.jsxDEV(R,{variant:"ghost",size:"icon",onClick:o=>{o.stopPropagation(),l()},className:"h-11 w-11 rounded-full flex-shrink-0","aria-label":"Back to conversations",children:e.jsxDEV(Ds,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:182,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:176,columnNumber:9},this),e.jsxDEV("div",{className:E("flex items-center gap-2 md:gap-3 flex-1 py-1 px-2 -mx-2 rounded-xl transition-colors",n&&"cursor-pointer hover:bg-muted/50 active:bg-muted/70"),onClick:n,role:n?"button":void 0,tabIndex:n?0:void 0,onKeyDown:n?o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),n())}:void 0,children:r?L:d},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:198,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-header-detail.tsx",lineNumber:173,columnNumber:5},this)}const De=["#C23B22","#B84A32","#B5651D","#A0522D","#CC7722","#B8860B","#9B870C","#808000","#6B8E23","#556B2F","#228B22","#2E8B57","#20B2AA","#008B8B","#008080","#007B7F","#0077B6","#006D77","#4682B4","#4169E1","#3B5998","#483D8B","#6A5ACD","#7B68EE","#6B5B95","#8A2BE2","#9400D3","#9932CC","#8B008B","#A52A6A","#C71585","#DB2777","#E91E63","#DC143C","#B22234","#8B0000","#7C3238","#704214","#8B4513","#A0522D","#CD853F","#D2691E","#E07020","#E65100","#BF360C","#5D4037","#455A64","#37474F","#546E7A","#607D8B"],An="#D97706",En=s=>{if(!s)return!1;const a=s.toUpperCase();return a==="ADMIN"||a==="SUPER_ADMIN"||a==="SUPERADMIN"},Un=(s,a=!1)=>{if(a)return An;if(!s)return De[0];let n=0;for(let l=0;l<s.length;l++)n=s.charCodeAt(l)+((n<<5)-n);return De[Math.abs(n)%De.length]};function jn({message:s,participants:a,currentUserId:n}){return i.useMemo(()=>{var w;const r=a.find(L=>L.id===s.senderId)||{firstName:"Unknown",avatarUrl:""},t=s.senderId===n,h=s.contentType==="image",x=s.senderId||r.id||"",f=En(r.role),b=Un(x,f);return{me:t,senderDetails:{firstName:((w=r.displayName)==null?void 0:w.split(" ")[0])||r.firstName,avatarUrl:r.photoURL||r.avatarUrl,color:b},hasImage:h}},[s,a,n])}function Vn(s){switch(s==null?void 0:s.toUpperCase()){case"PICKLEBALL":return{label:"Pickleball",badgeColor:"#7C3AED",badgeBg:"#F3E8FF",buttonColor:"#7C3AED"};case"TENNIS":return{label:"Tennis",badgeColor:"#059669",badgeBg:"#ECFDF5",buttonColor:"#059669"};case"PADEL":return{label:"Padel",badgeColor:"#2563EB",badgeBg:"#EFF6FF",buttonColor:"#2563EB"};default:return{label:s||"Sport",badgeColor:"#6B7280",badgeBg:"#F3F4F6",buttonColor:"#6B7280"}}}function Cn({message:s,senderDetails:a}){var k;const n=s.matchData,{firstName:l,avatarUrl:r}=a,t=s.createdAt,h=i.useMemo(()=>Vn(n==null?void 0:n.sportType),[n==null?void 0:n.sportType]),x=m=>{try{const v=new Date(m);return pe(v,"d MMM yyyy")}catch{return m}},f=m=>m?m.includes(" - ")?m.split(" - ")[0].trim():m.trim():"12:00 PM",b=m=>{if(!m)return"TBD";if(m.includes("M"))return m;const[v,S]=m.split(":"),_=parseInt(v),z=_>=12?"PM":"AM";return`${_%12||12}:${S} ${z}`},w=(m,v)=>{const S=f(m),[_,z]=S.split(" "),[H,j]=_.split(":").map(Number);let F=z==="PM"&&H!==12?H+12:H;z==="AM"&&H===12&&(F=0);const W=F*60+j+v*60,V=Math.floor(W/60)%24,T=W%60,B=V%12||12,M=V>=12?"PM":"AM";return`${B}:${String(T).padStart(2,"0")} ${M}`},L=()=>{const m=n==null?void 0:n.fee,v=n==null?void 0:n.feeAmount;if(m==="FREE"||!m)return"Free";if(m==="SPLIT"&&v){const S=parseFloat(v),_=parseInt((n==null?void 0:n.numberOfPlayers)||"2",10);return`RM${_>0?(S/_).toFixed(2):"0.00"}/player`}return m==="FIXED"&&v?`RM${parseFloat(v).toFixed(2)}/player`:"Free"},d=()=>(n==null?void 0:n.matchType)==="SINGLES"||(n==null?void 0:n.numberOfPlayers)==="2"?"Singles":"Doubles",N=()=>(n==null?void 0:n.matchType)==="SINGLES"||(n==null?void 0:n.numberOfPlayers)==="2"?2:4,o=(n==null?void 0:n.participants)||[],D=o.filter(m=>m.invitationStatus==="ACCEPTED"||!m.invitationStatus),c=N(),u=n!=null&&n.time?f(n.time):"12:00 PM",p=b(u),y=w(u,(n==null?void 0:n.duration)||2),g=(n==null?void 0:n.isFriendly)||(n==null?void 0:n.isFriendlyRequest),U=d(),A=m=>{var v;return m.name?m.name:m.username?m.username:`User ${((v=m.userId)==null?void 0:v.slice(-6))||"???"}`},I=m=>{switch(m){case"ACCEPTED":return{icon:ge,color:"text-emerald-500",bg:"bg-emerald-50"};case"DECLINED":return{icon:Ie,color:"text-red-500",bg:"bg-red-50"};case"PENDING":return{icon:Os,color:"text-amber-500",bg:"bg-amber-50"};default:return{icon:ge,color:"text-emerald-500",bg:"bg-emerald-50"}}};return e.jsxDEV("div",{className:"group flex gap-3 py-2 px-4 md:px-6",children:[e.jsxDEV($,{className:"h-8 w-8 flex-shrink-0 mt-0.5 border border-border/50",children:[e.jsxDEV(P,{src:r,alt:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:155,columnNumber:9},this),e.jsxDEV(G,{className:"text-[11px] bg-muted font-medium text-muted-foreground",children:((k=l==null?void 0:l.charAt(0))==null?void 0:k.toUpperCase())||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:154,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-col flex-1 min-w-0 max-w-[420px]",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsxDEV("span",{className:"text-[13px] text-muted-foreground",children:[e.jsxDEV("span",{className:"font-semibold text-foreground",children:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:165,columnNumber:13},this),g?" sent a friendly match request":" posted a league match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:164,columnNumber:11},this),e.jsxDEV("span",{className:"text-[11px] text-muted-foreground/50 ml-auto tabular-nums",children:Ae(new Date(t),{addSuffix:!0})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:163,columnNumber:9},this),e.jsxDEV("div",{className:"rounded-xl border bg-card overflow-hidden shadow-[0_1px_2px_rgba(0,0,0,0.05),0_1px_4px_rgba(0,0,0,0.04)]",style:{borderColor:`${h.badgeColor}25`},children:[e.jsxDEV("div",{className:"px-3.5 py-2.5 flex items-center justify-between border-b border-border/40",children:[e.jsxDEV("span",{className:"font-semibold text-[13px] text-foreground",children:[U," ",g?"Friendly":"League Match"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:180,columnNumber:13},this),e.jsxDEV("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:`${h.badgeColor}15`,color:h.badgeColor},children:h.label},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:179,columnNumber:11},this),e.jsxDEV("div",{className:"px-3.5 py-3 flex gap-4",children:[e.jsxDEV("div",{className:"flex-1 space-y-1.5",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-[12px] text-muted-foreground",children:[e.jsxDEV(ve,{className:"h-3.5 w-3.5 flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:199,columnNumber:17},this),e.jsxDEV("span",{className:"truncate",children:(n==null?void 0:n.location)||"TBD"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-[12px] text-muted-foreground",children:[e.jsxDEV(bs,{className:"h-3.5 w-3.5 flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:203,columnNumber:17},this),e.jsxDEV("span",{children:x(n==null?void 0:n.date)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-[12px] text-muted-foreground",children:[e.jsxDEV(Je,{className:"h-3.5 w-3.5 flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:207,columnNumber:17},this),e.jsxDEV("span",{children:[p," â€“ ",y]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:206,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-[12px] text-muted-foreground",children:[e.jsxDEV(Fs,{className:"h-3.5 w-3.5 flex-shrink-0 opacity-60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:211,columnNumber:17},this),e.jsxDEV("span",{children:L()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col items-end gap-1.5 shrink-0",children:[e.jsxDEV("div",{className:E("flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded",n!=null&&n.courtBooked?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-500"),children:[e.jsxDEV("span",{children:n!=null&&n.courtBooked?"Court booked":"No court"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:227,columnNumber:17},this),n!=null&&n.courtBooked?e.jsxDEV(ge,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:229,columnNumber:19},this):e.jsxDEV(Ie,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:231,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:219,columnNumber:15},this),(n==null?void 0:n.isFriendlyRequest)&&(n==null?void 0:n.requestStatus)&&e.jsxDEV("div",{className:E("flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded",n.requestStatus==="ACCEPTED"&&"bg-emerald-50 text-emerald-600",n.requestStatus==="DECLINED"&&"bg-red-50 text-red-500",n.requestStatus==="EXPIRED"&&"bg-gray-100 text-gray-500",n.requestStatus==="PENDING"&&"bg-amber-50 text-amber-600"),children:[n.requestStatus==="ACCEPTED"&&"Accepted",n.requestStatus==="DECLINED"&&"Declined",n.requestStatus==="EXPIRED"&&"Expired",n.requestStatus==="PENDING"&&"Pending"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:237,columnNumber:17},this),(n==null?void 0:n.status)&&n.status!=="SCHEDULED"&&e.jsxDEV("div",{className:E("text-[10px] font-medium px-2 py-0.5 rounded",n.status==="COMPLETED"&&"bg-blue-50 text-blue-600",n.status==="CANCELLED"&&"bg-gray-100 text-gray-500",n.status==="ONGOING"&&"bg-amber-50 text-amber-600"),children:n.status},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:217,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:195,columnNumber:11},this),e.jsxDEV("div",{className:"px-3.5 py-2.5 border-t border-border/40 bg-muted/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground font-medium",children:[e.jsxDEV(me,{className:"h-3.5 w-3.5 opacity-60"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:273,columnNumber:17},this),e.jsxDEV("span",{children:"Players"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:274,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:272,columnNumber:15},this),e.jsxDEV("span",{className:"text-[10px] text-muted-foreground tabular-nums",children:[D.length,"/",c]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:271,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-1",children:[o.map((m,v)=>{const S=I(m.invitationStatus),_=S.icon;return e.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 rounded-md bg-background/60",children:[e.jsxDEV($,{className:"h-5 w-5 border border-border/30",children:[e.jsxDEV(P,{src:m.image,alt:A(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:291,columnNumber:23},this),e.jsxDEV(G,{className:"text-[8px] bg-muted font-medium",children:A(m).charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:292,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:290,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 min-w-0 flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"text-[12px] font-medium text-foreground truncate",children:A(m)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:297,columnNumber:23},this),m.role==="CREATOR"&&e.jsxDEV("span",{className:"text-[9px] text-muted-foreground bg-muted px-1.5 py-0.5 rounded font-medium",children:"Host"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:301,columnNumber:25},this),m.team&&e.jsxDEV("span",{className:"text-[9px] text-muted-foreground",children:["T",m.team==="team1"?"1":"2"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:306,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:296,columnNumber:21},this),e.jsxDEV(_,{className:E("h-3.5 w-3.5",S.color)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:311,columnNumber:21},this)]},m.id||m.userId||v,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:286,columnNumber:19},this)}),o.length<c&&Array.from({length:c-o.length}).map((m,v)=>e.jsxDEV("div",{className:"flex items-center gap-2 py-1 px-2 rounded-md border border-dashed border-border/50",children:[e.jsxDEV("div",{className:"h-5 w-5 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsxDEV(me,{className:"h-2.5 w-2.5 text-muted-foreground/40"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:324,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:323,columnNumber:21},this),e.jsxDEV("span",{className:"text-[11px] text-muted-foreground/50 italic",children:"Waiting for player..."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:326,columnNumber:21},this)]},`empty-${v}`,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:319,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:281,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:270,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:174,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:161,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/match-message-card.tsx",lineNumber:152,columnNumber:5},this)}const Sn=i.memo(Cn);function kn({message:s,participants:a,onOpenLightbox:n,onReply:l,onDelete:r}){var T,B,M,ue,ae;const{data:t}=re(),h=t==null?void 0:t.user,[x,f]=i.useState(!1),[b,w]=i.useState(s.reactions||[]),[L,d]=i.useState(!1),{me:N,senderDetails:o,hasImage:D}=jn({message:s,participants:a,currentUserId:(h==null?void 0:h.id)||""}),{firstName:c,avatarUrl:u,color:p}=o,y=s.content||s.body||"",g=s.createdAt,U=s.isDeleted||!1,A=i.useMemo(()=>{if(s.messageType==="MATCH"&&s.matchData){if(typeof s.matchData=="string")try{return JSON.parse(s.matchData)}catch{return null}return s.matchData}return s.matchData&&typeof s.matchData=="object"?s.matchData:null},[s.messageType,s.matchData]);if(A!==null&&!U)return e.jsxDEV(Sn,{message:{...s,matchData:A},senderDetails:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:93,columnNumber:7},this);const k=()=>{l&&!U&&l(s)},m=()=>{f(!0)},v=()=>{r&&r(s.id),f(!1)},S=q=>{w(te=>{const he=te.find(K=>K.emoji===q);return he?he.isSelected?he.count===1?te.filter(K=>K.emoji!==q):te.map(K=>K.emoji===q?{...K,count:K.count-1,isSelected:!1}:K):te.map(K=>K.emoji===q?{...K,count:K.count+1,isSelected:!0}:K):[...te,{emoji:q,count:1,isSelected:!0}]})},z=((B=(T=s.repliesTo)==null?void 0:T.sender)==null?void 0:B.id)===(h==null?void 0:h.id)?"You":((ue=(M=s.repliesTo)==null?void 0:M.sender)==null?void 0:ue.name)||"User",H=s.repliesTo&&e.jsxDEV("div",{className:E("mb-2 pb-2 text-xs border-b",N?"border-white/20":"border-border"),children:[e.jsxDEV("span",{className:E("font-medium",N?"text-white/80":"text-foreground/70"),children:z},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:157,columnNumber:7},this),e.jsxDEV("p",{className:E("line-clamp-2 mt-0.5",N?"text-white/60":"text-muted-foreground"),children:s.repliesTo.isDeleted?e.jsxDEV("span",{className:"italic flex items-center gap-1",children:[e.jsxDEV(Ne,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:173,columnNumber:13},this),"Message deleted"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:172,columnNumber:11},this):s.repliesTo.content},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:165,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:151,columnNumber:5},this),j=!N&&e.jsxDEV("div",{className:"mb-1",children:e.jsxDEV("p",{className:"text-xs font-medium",style:{color:p},children:c},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:185,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:184,columnNumber:5},this),F=U?e.jsxDEV("div",{className:E("flex items-center gap-2 px-4 py-2.5 italic text-sm",N?"rounded-[20px] rounded-br-[6px] bg-brand-light/40 text-white/70":"rounded-[20px] rounded-bl-[6px] bg-muted/40 text-muted-foreground"),children:[e.jsxDEV(Ne,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:199,columnNumber:7},this),e.jsxDEV("span",{children:"Message deleted"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:200,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:190,columnNumber:5},this):e.jsxDEV("div",{className:E("relative w-fit max-w-full transition-all duration-200",D?"p-0 bg-transparent rounded-2xl overflow-hidden":"px-4 py-2.5",N?["rounded-[20px] rounded-br-[6px]","bg-brand-light text-white"]:["rounded-[20px] rounded-bl-[6px]","bg-muted text-foreground"]),children:[H,D?e.jsxDEV(C.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsxDEV("img",{src:y,alt:"attachment",width:400,height:220,className:"min-h-[220px] w-full object-cover rounded-2xl cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>n==null?void 0:n(y)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:228,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:223,columnNumber:9},this):e.jsxDEV("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:y},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:238,columnNumber:9},this),e.jsxDEV(Y,{children:b.length>0&&e.jsxDEV(C.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},className:"flex flex-wrap gap-1 mt-1.5 -mb-0.5",children:b.map(q=>e.jsxDEV(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(q.emoji),className:E("inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-xs transition-colors duration-150",N?"bg-white/15 hover:bg-white/25":"bg-muted-foreground/10 hover:bg-muted-foreground/20",q.isSelected&&"ring-1 ring-current/30"),children:[e.jsxDEV("span",{children:q.emoji},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:266,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:q.count},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:267,columnNumber:17},this)]},q.emoji,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:253,columnNumber:15},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:246,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:244,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:203,columnNumber:5},this),W=e.jsxDEV("div",{className:E("flex items-center mt-1",N?"justify-end":"justify-start"),children:e.jsxDEV("span",{className:"text-[10px] text-muted-foreground/60 px-1",children:Ae(new Date(g),{addSuffix:!0})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:284,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:278,columnNumber:5},this),V=e.jsxDEV(Y,{children:L&&!U&&e.jsxDEV(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:E("absolute -top-8 z-10 flex items-center gap-0.5","bg-background/95 backdrop-blur-sm rounded-full px-1 py-0.5 shadow-md border",N?"right-0":"left-0"),children:[e.jsxDEV(R,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 hover:bg-muted rounded-full",onClick:k,title:"Reply to message",children:e.jsxDEV(Ys,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:311,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:304,columnNumber:11},this),N&&e.jsxDEV(R,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive rounded-full",onClick:m,title:"Delete message",children:e.jsxDEV(Ne,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:321,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:293,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:291,columnNumber:5},this);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:E("group flex gap-2 py-1 px-4 md:px-6",N?"flex-row-reverse":"flex-row",U&&"opacity-50"),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[!N&&e.jsxDEV($,{className:"h-8 w-8 flex-shrink-0 mt-auto mb-1",children:[e.jsxDEV(P,{src:u,alt:c},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:343,columnNumber:13},this),e.jsxDEV(G,{className:"text-xs font-medium text-white",style:{backgroundColor:p},children:((ae=c==null?void 0:c.charAt(0))==null?void 0:ae.toUpperCase())||"?"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:342,columnNumber:11},this),e.jsxDEV("div",{className:E("flex flex-col flex-1 min-w-0 max-w-[75%]",N?"items-end":"items-start"),children:[j,e.jsxDEV("div",{className:"relative",children:[V,F]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:362,columnNumber:11},this),W]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:354,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:331,columnNumber:7},this),e.jsxDEV(Cs,{open:x,onOpenChange:f,children:e.jsxDEV(Ss,{children:[e.jsxDEV(ks,{children:[e.jsxDEV(Ms,{children:"Delete Message"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:374,columnNumber:13},this),e.jsxDEV(Ts,{children:"Are you sure you want to delete this message? This action cannot be undone."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:375,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:373,columnNumber:11},this),e.jsxDEV(_s,{children:[e.jsxDEV(Is,{children:"Cancel"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:381,columnNumber:13},this),e.jsxDEV(Rs,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:382,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:372,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:371,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-item.tsx",lineNumber:330,columnNumber:5},this)}const Mn=i.memo(kn),Tn={initial:{y:0,opacity:.4},animate:s=>({y:[-1,1,-1],opacity:[.4,.8,.4],transition:{y:{duration:.6,repeat:1/0,ease:"easeInOut",delay:s*.12},opacity:{duration:.6,repeat:1/0,ease:"easeInOut",delay:s*.12}}})};function _n({threadId:s,members:a}){const{data:n}=re(),l=n==null?void 0:n.user,{typingUsers:r}=ms(s,a),t=r.filter(x=>x.userId!==(l==null?void 0:l.id)),h=()=>t.length===1?`${t[0].userName} is typing`:t.length===2?`${t[0].userName} and ${t[1].userName} are typing`:`${t[0].userName} and ${t.length-1} others are typing`;return e.jsxDEV(Y,{children:t.length>0&&e.jsxDEV(C.div,{initial:{opacity:0,y:8,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:8,height:0},transition:{duration:.2,ease:[.4,0,.2,1]},className:"px-4 py-2.5 overflow-hidden",children:e.jsxDEV("div",{className:"flex items-center gap-2.5",children:[e.jsxDEV("div",{className:"flex gap-0.5 items-center h-4",children:[0,1,2].map(x=>e.jsxDEV(C.div,{custom:x,variants:Tn,initial:"initial",animate:"animate",className:"w-1.5 h-1.5 bg-muted-foreground/60 rounded-full"},x,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:67,columnNumber:17},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(C.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-sm text-muted-foreground/70",children:h()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:63,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/typing-indicator.tsx",lineNumber:54,columnNumber:5},this)}const In=()=>e.jsxDEV("div",{className:"flex gap-3 px-4 py-2",children:[e.jsxDEV(Z,{className:"h-8 w-8 rounded-full flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:39,columnNumber:5},void 0),e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Z,{className:"h-3 w-16"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:42,columnNumber:9},void 0),e.jsxDEV(Z,{className:"h-3 w-20"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:43,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:41,columnNumber:7},void 0),e.jsxDEV(Z,{className:"h-4 w-48"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:40,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:38,columnNumber:3},void 0),Rn=({date:s})=>{const a=new Date(s),n=()=>sn(a)?"Today":nn(a)?"Yesterday":pe(a,"MMMM d, yyyy");return e.jsxDEV("div",{className:"flex items-center justify-center py-3",children:e.jsxDEV("span",{className:"px-3 py-1 rounded-full bg-muted/60 text-xs font-medium text-muted-foreground",children:n()},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:61,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:60,columnNumber:5},void 0)};function Fn({messages:s=[],participants:a=[],loading:n=!1,threadId:l,onReply:r,onDelete:t}){const h=i.useRef(null),[x,f]=i.useState(!0),[b,w]=i.useState(!1),L=s.reduce((o,D)=>{const c=pe(new Date(D.createdAt),"yyyy-MM-dd");return o[c]||(o[c]=[]),o[c].push(D),o},{});i.useEffect(()=>{if(x&&h.current){const o=h.current.querySelector("[data-radix-scroll-area-viewport]");o&&(o.scrollTop=o.scrollHeight)}},[s,x]);const d=o=>{const{scrollTop:D,scrollHeight:c,clientHeight:u}=o.currentTarget,p=c-D-u<100;f(p),w(!p&&s.length>10)},N=()=>{if(h.current){const o=h.current.querySelector("[data-radix-scroll-area-viewport]");o&&o.scrollTo({top:o.scrollHeight,behavior:"smooth"})}};return n&&s.length===0?e.jsxDEV("div",{className:"flex-1 overflow-hidden",children:e.jsxDEV("div",{className:"space-y-4 p-4",children:Array.from({length:5}).map((o,D)=>e.jsxDEV(In,{},D,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:123,columnNumber:13},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:121,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:120,columnNumber:7},this):s.length===0?e.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:e.jsxDEV(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsxDEV(le,{className:"w-8 h-8 text-muted-foreground/50"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:139,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground/80 mb-2",children:"Start a conversation"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:142,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:"Send a message to begin chatting"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:133,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:132,columnNumber:7},this):e.jsxDEV("div",{className:"flex-1 relative overflow-hidden bg-background",children:[e.jsxDEV(de,{ref:h,className:"h-full",onScrollCapture:d,children:e.jsxDEV("div",{className:"min-h-full flex flex-col justify-end py-2",children:[Object.entries(L).map(([o,D])=>e.jsxDEV("div",{children:[e.jsxDEV(Rn,{date:D[0].createdAt},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV(Y,{mode:"popLayout",children:D.map((c,u)=>e.jsxDEV(C.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.25,delay:u<3?u*.05:0,ease:[.4,0,.2,1]},layout:!0,children:e.jsxDEV(Mn,{message:c,participants:a,onReply:r,onDelete:t},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:178,columnNumber:21},this)},c.id,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:166,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:164,columnNumber:15},this)]},o,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:162,columnNumber:13},this)),e.jsxDEV(_n,{threadId:l,members:a},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:191,columnNumber:11},this),e.jsxDEV(Y,{children:n&&e.jsxDEV(C.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},className:"flex items-center justify-center py-4",children:[e.jsxDEV(Ze,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:203,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Sending..."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:196,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:160,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:155,columnNumber:7},this),e.jsxDEV(Y,{children:b&&e.jsxDEV(C.button,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2,ease:"easeOut"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"absolute bottom-4 right-4 bg-primary text-primary-foreground rounded-full p-2.5 shadow-lg hover:bg-primary/90 transition-colors","aria-label":"Scroll to bottom",children:e.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:231,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:212,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-list.tsx",lineNumber:154,columnNumber:5},this)}const Bn=i.lazy(()=>ys(()=>import("./emoji-picker-react.esm-DaUxdAyn.js"),__vite__mapDeps([0,1,2]))),J=new Map;function On({selectedConversationId:s,disabled:a=!1,onSendMessage:n,replyingTo:l,onCancelReply:r}){var k;const[t,h]=i.useState(""),[x,f]=i.useState(!1),[b,w]=i.useState(!1),[L,d]=i.useState(!1),N=i.useRef(null),o=i.useRef(void 0),D=i.useRef(void 0),{setTyping:c}=ms(s);i.useEffect(()=>{const m=D.current;if(m&&m!==s&&(t.trim()?J.set(m,t):J.delete(m)),s&&s!==m){const v=J.get(s)||"";h(v),setTimeout(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=`${Math.min(N.current.scrollHeight,120)}px`)},0)}D.current=s},[s]),i.useEffect(()=>{s&&t.trim()?J.set(s,t):s&&!t.trim()&&J.delete(s)},[t,s]),i.useEffect(()=>{l&&N.current&&N.current.focus()},[l]);const u=i.useCallback(async()=>{if(!t.trim()||!n||x)return;const m=t.trim();h(""),f(!0),c(!1),s&&J.delete(s);try{await n(m),setTimeout(()=>{var v;(v=N.current)==null||v.focus()},0)}catch(v){console.error("Failed to send message:",v),h(m),s&&J.set(s,m)}finally{f(!1)}},[t,n,x,c,s]),p=i.useCallback(m=>{const v=m.metaKey||m.ctrlKey;if(v&&(m.key==="a"||m.key==="A")){m.stopPropagation();const S=m.currentTarget;S.setSelectionRange(0,S.value.length),m.preventDefault();return}if(v){m.stopPropagation();return}if(m.key==="Enter"&&!m.shiftKey){m.preventDefault(),u();return}if(m.key==="Escape"&&l&&r){m.preventDefault(),r();return}},[u,l,r]),y=i.useCallback(()=>{const m=N.current;m&&(m.style.height="auto",m.style.height=`${Math.min(m.scrollHeight,120)}px`)},[]),g=i.useCallback(m=>{const v=m.target.value;h(v),y(),v.trim()&&s?(c(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{c(!1)},1e3)):c(!1)},[y,s,c]),U=i.useCallback(m=>{const v=m.emoji,S=N.current;if(S){const _=S.selectionStart,z=S.selectionEnd,H=t.slice(0,_)+v+t.slice(z);h(H),setTimeout(()=>{S.focus(),S.setSelectionRange(_+v.length,_+v.length)},0)}else h(_=>_+v);w(!1),y()},[t,y]);i.useEffect(()=>()=>{o.current&&clearTimeout(o.current),c(!1)},[s,c]);const A=a||!s||x,I=()=>{var m;return e.jsxDEV(Y,{children:l&&e.jsxDEV(C.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.25,ease:[.4,0,.2,1]},className:"border-t bg-muted/20 px-4 py-3 overflow-hidden",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(C.div,{initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.2,delay:.1},className:"w-1 bg-primary rounded-full h-12 flex-shrink-0 mt-1 origin-top"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[e.jsxDEV("p",{className:"text-xs font-medium text-primary",children:["Replying to ",((m=l.sender)==null?void 0:m.name)||"User"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:256,columnNumber:19},this),e.jsxDEV(C.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsxDEV(R,{size:"sm",variant:"ghost",onClick:r,className:"h-6 w-6 p-0 flex-shrink-0 hover:bg-muted-foreground/20 rounded-full",children:e.jsxDEV(Ls,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:266,columnNumber:23},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:260,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:259,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:255,columnNumber:17},this),e.jsxDEV("div",{className:"bg-background/60 rounded-xl px-3 py-2 border border-border/50",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-3",children:l.content||"Message"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:272,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:271,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:245,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:236,columnNumber:7},this)};return e.jsxDEV("div",{className:"bg-background",children:[I(),e.jsxDEV("div",{className:"border-t bg-background px-3 md:px-4 py-2 md:py-3",children:e.jsxDEV("div",{className:"flex items-end gap-2",children:[e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV(ws,{ref:N,value:t,onChange:g,onKeyDown:p,onFocus:()=>d(!0),onBlur:()=>d(!1),placeholder:l?`Reply to ${((k=l.sender)==null?void 0:k.name)||"message"}...`:s?"Message":"Select a conversation",className:E("min-h-[44px] max-h-[120px] py-2.5 md:py-3 px-3 md:px-4 pr-10 md:pr-12","resize-none rounded-[22px]","bg-muted/50 border-0 focus:bg-muted","transition-colors focus-visible:ring-0 focus-visible:ring-offset-0","text-sm md:text-base"),disabled:A,rows:1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:294,columnNumber:13},this),e.jsxDEV(Ge,{open:b,onOpenChange:w,children:[e.jsxDEV(ze,{asChild:!0,children:e.jsxDEV(R,{variant:"ghost",size:"icon",className:"absolute right-2 bottom-1.5 h-8 w-8 rounded-full hover:bg-background/50",disabled:A,children:e.jsxDEV(Qs,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:328,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:322,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:321,columnNumber:15},this),e.jsxDEV(He,{className:"w-auto p-0 border-none shadow-lg",side:"top",align:"end",sideOffset:8,children:e.jsxDEV(C.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.2,ease:"easeOut"},children:e.jsxDEV(i.Suspense,{fallback:e.jsxDEV("div",{className:"w-80 h-96 flex items-center justify-center",children:"Loading..."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:342,columnNumber:39},this),children:e.jsxDEV(Bn,{onEmojiClick:U,autoFocusSearch:!1,height:400,width:350,previewConfig:{showPreview:!1},skinTonesDisabled:!0,searchDisabled:!1},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:343,columnNumber:21},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:342,columnNumber:19},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:337,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:331,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:320,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:293,columnNumber:11},this),e.jsxDEV(C.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxDEV(R,{onClick:u,disabled:A||!t.trim(),size:"icon",className:E("h-11 w-11 rounded-full flex-shrink-0","bg-brand-light hover:bg-brand-light/90 text-white","disabled:opacity-40 disabled:cursor-not-allowed"),children:e.jsxDEV(ps,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:375,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:365,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:361,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:291,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:290,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-message-input.tsx",lineNumber:285,columnNumber:5},this)}function rs(s){const[a,n]=i.useState(!0),l=i.useCallback(()=>{n(!0)},[]),r=i.useCallback(()=>{n(!1)},[]),t=i.useCallback(()=>{n(h=>!h)},[]);return{value:a,onTrue:l,onFalse:r,onToggle:t,setValue:n}}const $n=s=>s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2);function Pn({participant:s,onClose:a}){const n=ne(),{data:l}=ts((s==null?void 0:s.id)||""),r=(s==null?void 0:s.name)||(s==null?void 0:s.displayName)||"Unknown",t=(s==null?void 0:s.photoURL)||(s==null?void 0:s.avatarUrl),h=(s==null?void 0:s.role)||"Member",x=(s==null?void 0:s.status)||"offline",f=(s==null?void 0:s.email)||(l==null?void 0:l.email),b=l==null?void 0:l.area,w=()=>{s!=null&&s.id&&(n({to:"/players/$playerId",params:{playerId:s.id}}),a())};return e.jsxDEV("div",{className:"flex flex-col gap-4",children:[e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:"h-16 w-16",children:[e.jsxDEV(P,{src:t,alt:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(G,{className:"text-lg",children:$n(r)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:64,columnNumber:11},this),e.jsxDEV("div",{className:`absolute bottom-0 right-0 h-3.5 w-3.5 rounded-full border-2 border-background ${X(x)}`},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:63,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"text-base font-medium truncate",children:r},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:75,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxDEV(we,{variant:"secondary",className:"text-xs capitalize",children:h},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground capitalize",children:x},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:62,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[f&&e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(ls,{className:"h-3.5 w-3.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:89,columnNumber:13},this),e.jsxDEV("span",{className:"truncate",children:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:88,columnNumber:11},this),b&&e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(ve,{className:"h-3.5 w-3.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:95,columnNumber:13},this),e.jsxDEV("span",{className:"truncate",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:86,columnNumber:7},this),e.jsxDEV(R,{variant:"outline",size:"sm",className:"w-full mt-1",onClick:w,disabled:!(s!=null&&s.id),children:[e.jsxDEV(is,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:109,columnNumber:9},this),"View Profile"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:102,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-participant-dialog.tsx",lineNumber:60,columnNumber:5},this)}const Gn=s=>s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2),zn=s=>{const a=s.trim().split(" ");return a.length===1?a[0].slice(0,2).toUpperCase():a.slice(0,2).map(n=>n.charAt(0)).join("").toUpperCase()};function Hn({participants:s,conversation:a}){const[n,l]=i.useState(null),r=rs(),t=i.useCallback(d=>{l(d)},[]),h=()=>l(null),x=s.length,f=s.filter(d=>d.status==="online").length,b=e.jsxDEV("div",{className:"flex flex-col items-center py-5 px-3 border-b border-border",children:[e.jsxDEV($,{className:"h-20 w-20 mb-3",children:[e.jsxDEV(P,{src:(a==null?void 0:a.photoURL)||(a==null?void 0:a.avatarUrl),alt:(a==null?void 0:a.displayName)||"Group Chat"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV(G,{className:"text-lg bg-gradient-to-br from-brand-dark to-brand-light text-white font-semibold",children:zn((a==null?void 0:a.displayName)||(a==null?void 0:a.name)||"Group")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:74,columnNumber:7},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-center mb-1",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.name)||"Group Chat"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:87,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsxDEV(me,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:93,columnNumber:9},this),e.jsxDEV("span",{children:[x," members",f>0&&e.jsxDEV("span",{className:"ml-1",children:["â€¢ ",f," online"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:92,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:72,columnNumber:5},this),w=e.jsxDEV(R,{variant:"ghost",onClick:r.onToggle,className:"flex items-center justify-between w-full h-10 px-3 text-xs font-medium text-muted-foreground bg-muted/50",children:[e.jsxDEV("span",{children:["Members (",x,")"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:110,columnNumber:7},this),r.value?e.jsxDEV(es,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:112,columnNumber:9},this):e.jsxDEV(oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:114,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:105,columnNumber:5},this),L=e.jsxDEV(de,{className:"max-h-[320px]",children:e.jsxDEV("ul",{className:"divide-y divide-border",children:s.map(d=>e.jsxDEV("li",{onClick:()=>t(d),className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:bg-muted/50 transition-colors",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV($,{className:"h-8 w-8",children:[e.jsxDEV(P,{src:d.photoURL||d.avatarUrl,alt:d.name||d.displayName},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:130,columnNumber:17},this),e.jsxDEV(G,{children:Gn(d.name||d.displayName||"User")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:129,columnNumber:15},this),e.jsxDEV("span",{className:E("absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full border border-background",d.status==="online"?"bg-green-500":d.status==="offline"?"bg-gray-400":"bg-yellow-500")},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:128,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium truncate",children:d.name||d.displayName},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:153,columnNumber:17},this),d.isCurrentUser&&e.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-1.5 py-0.5 rounded-full",children:"You"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:152,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground truncate",children:d.role||"Member"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:151,columnNumber:13},this)]},d.id,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:123,columnNumber:11},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:120,columnNumber:5},this);return e.jsxDEV(e.Fragment,{children:[b,w,e.jsxDEV("div",{className:E("transition-all overflow-hidden",r.value?"max-h-[320px]":"max-h-0"),children:r.value&&L},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:177,columnNumber:7},this),n&&e.jsxDEV(qe,{open:!!n,onOpenChange:h,children:e.jsxDEV(Ke,{className:"max-w-sm",children:[e.jsxDEV(Ye,{children:e.jsxDEV(We,{className:"sr-only",children:n.name||n.displayName},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:189,columnNumber:13},this),e.jsxDEV(Pn,{participant:n,onClose:h},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:188,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-group.tsx",lineNumber:173,columnNumber:5},this)}const qn=s=>s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().slice(0,2);function Kn({participant:s,conversation:a}){const n=rs(),l=ne(),{data:r}=ts((s==null?void 0:s.id)||""),t=(s==null?void 0:s.name)||(s==null?void 0:s.displayName)||"Unknown User",h=(s==null?void 0:s.photoURL)||"unknown",x=(s==null?void 0:s.role)||"User",f=(s==null?void 0:s.email)||(r==null?void 0:r.email)||"No email provided",b=(s==null?void 0:s.status)||"offline",w=(r==null?void 0:r.sports)||[],L=r==null?void 0:r.area,d=r==null?void 0:r.lastLoginDate,N=()=>{s!=null&&s.id&&l({to:"/players/$playerId",params:{playerId:s.id}})},o=e.jsxDEV("div",{className:"flex flex-col items-center py-5 px-3 border-b border-border",children:[e.jsxDEV("div",{className:"relative mb-3",children:[e.jsxDEV($,{className:"h-20 w-20",children:[e.jsxDEV(P,{src:h,alt:t},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:52,columnNumber:11},this),e.jsxDEV(G,{className:"text-lg",children:qn(t)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:51,columnNumber:9},this),e.jsxDEV("div",{className:E("absolute bottom-1 right-1 h-4 w-4 rounded-full border-2 border-background",X(b))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:58,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:50,columnNumber:7},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-center mb-1",children:t},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:64,columnNumber:7},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-1 capitalize",children:b},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:65,columnNumber:7},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:x},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:66,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:49,columnNumber:5},this),D=e.jsxDEV(R,{variant:"ghost",onClick:n.onToggle,className:"flex items-center justify-between w-full h-10 px-3 text-xs font-medium text-muted-foreground bg-muted/50",children:[e.jsxDEV("span",{children:"Information"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:76,columnNumber:7},this),n.value?e.jsxDEV(es,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:78,columnNumber:9},this):e.jsxDEV(oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:71,columnNumber:5},this),c=e.jsxDEV("div",{className:E("overflow-hidden transition-all duration-200",n.value?"max-h-[400px]":"max-h-0"),children:e.jsxDEV("div",{className:"flex flex-col px-3 py-2.5 space-y-3 text-sm",children:[e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(be,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Role"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:97,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm",children:x},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:94,columnNumber:9},this),w.length>0&&e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(Bs,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Sports"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:107,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:w.map(u=>e.jsxDEV(we,{variant:"secondary",className:"text-xs capitalize",children:u},u,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:110,columnNumber:19},this))},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:104,columnNumber:11},this),L&&e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(ve,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Location"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:124,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm",children:L},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:125,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:123,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(ls,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:132,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col min-w-0",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Email"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:134,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm truncate",children:f},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:131,columnNumber:9},this),d&&e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(Je,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Last Active"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:144,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm",children:new Date(d).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:141,columnNumber:11},this),e.jsxDEV(R,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:N,disabled:!(s!=null&&s.id),children:[e.jsxDEV(is,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:164,columnNumber:11},this),"View Profile"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:92,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:86,columnNumber:5},this);return e.jsxDEV("div",{children:[o,D,c]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-room-single.tsx",lineNumber:172,columnNumber:5},this)}function Yn({open:s,onOpenChange:a,conversation:n,participants:l}){if(!n)return null;const r=n.type==="group";return e.jsxDEV(ns,{open:s,onOpenChange:a,children:e.jsxDEV(as,{side:"right",className:"w-[380px] p-0 overflow-y-auto",children:[e.jsxDEV(js,{className:"sr-only",children:e.jsxDEV(Vs,{children:r?"Group Details":"Contact Details"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:28,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:27,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-col h-full",children:r?e.jsxDEV(Hn,{participants:l,conversation:n},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:35,columnNumber:13},this):e.jsxDEV(Kn,{participant:l.find(t=>!t.isCurrentUser),conversation:n},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:40,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:33,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:26,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/components/chat/chat-details-sheet.tsx",lineNumber:25,columnNumber:5},this)}function ga(){const s=ne(),{id:a}=vs({from:"/_authenticated/chat/"}),{data:n}=re(),l=n==null?void 0:n.user,[r,t]=i.useState(null),[h,x]=i.useState(!1),{threads:f,loading:b,error:w,refetch:L,updateThreadLastMessage:d}=Nn(l==null?void 0:l.id),{messages:N,loading:o,sendMessage:D,deleteMessage:c,error:u}=gn(a||void 0);i.useEffect(()=>{w&&(console.error("Threads error:",w),O.error("Failed to load conversations")),u&&(console.error("Messages error:",u),O.error("Failed to load messages"))},[w,u]),i.useEffect(()=>{t(null)},[a]);const p=i.useMemo(()=>f.map(j=>{var B;const F=j.isGroup?j.name||"Unnamed Group":j.members.filter(M=>M.userId!==(l==null?void 0:l.id)).map(M=>M.user.name).join(", ")||"Unknown",W=j.isGroup?j.avatarUrl:(B=j.members.find(M=>M.userId!==(l==null?void 0:l.id)))==null?void 0:B.user.image,V=j.members.map(M=>({id:M.userId,name:M.user.name,username:M.user.username,email:M.user.email,phoneNumber:M.user.phoneNumber,image:M.user.image,displayName:M.user.name,photoURL:M.user.image,status:"online",role:M.role,isCurrentUser:M.userId===(l==null?void 0:l.id)})),T=j.messages.length>0?{content:j.messages[0].content,createdAt:j.messages[0].createdAt,sender:{name:j.messages[0].sender.name}}:null;return{id:j.id,type:j.isGroup?"group":"direct",displayName:F,name:j.name,photoURL:W,avatarUrl:j.avatarUrl,isGroup:j.isGroup,participants:V,messages:[],lastMessage:T,unreadCount:0}}),[f,l==null?void 0:l.id]),y=a?p.find(j=>j.id===a):null,g=(y==null?void 0:y.participants)||[];i.useEffect(()=>{x(!1)},[a]);const U=i.useCallback(()=>{x(!0)},[]),A=i.useCallback(j=>{t(j)},[]),I=i.useCallback(()=>{t(null)},[]),k=i.useCallback(async j=>{if(!c){O.error("Delete functionality not available");return}try{await c(j),O.success("Message deleted successfully")}catch(F){console.error("Failed to delete message:",F)}},[c]),m=i.useCallback(async j=>{if(!(l!=null&&l.id)||!a){O.error("Unable to send message. Please select a conversation.");return}try{const F=await D(j,l.id,r==null?void 0:r.id);t(null),F&&d(a,F)}catch(F){console.error("Failed to send message:",F),O.error("Failed to send message. Please try again.")}},[D,l==null?void 0:l.id,a,r,d]),v=i.useCallback(j=>{s({to:"/chat",search:{id:j}})},[s]),S=i.useCallback(()=>{s({to:"/chat",search:{id:""}})},[s]);if(b&&f.length===0)return e.jsxDEV("div",{className:"absolute inset-0 flex flex-col",children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:157,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:e.jsxDEV(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-light to-brand-dark flex items-center justify-center",children:e.jsxDEV(le,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:168,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:167,columnNumber:15},this),e.jsxDEV(C.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -inset-2 border-2 border-brand-light/30 border-t-brand-light rounded-full"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:166,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground font-medium",children:"Loading conversations..."},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:159,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:158,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:156,columnNumber:12},this);const _=()=>e.jsxDEV(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.32,.72,0,1]},className:"flex-1 flex items-center justify-center px-4 md:px-8",children:e.jsxDEV("div",{className:"text-center max-w-sm",children:[e.jsxDEV("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsxDEV(le,{className:"w-10 h-10 text-muted-foreground/40"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:197,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:196,columnNumber:9},this),e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold text-foreground mb-2",children:"No conversation selected"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:199,columnNumber:9},this),e.jsxDEV("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Choose a chat from the sidebar to start messaging"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:195,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:185,columnNumber:34},this),z=()=>e.jsxDEV("div",{className:"flex items-center px-3 md:px-4 py-2 md:py-3 min-h-[60px] md:min-h-[68px] border-b bg-background sticky top-0 z-10",children:a&&y?e.jsxDEV(vn,{participants:g,conversation:y,onDetailsClick:U,onBack:S},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:208,columnNumber:56},this):e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsxDEV(le,{className:"w-5 h-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:210,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:209,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-[15px] font-semibold",children:"Messages"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:213,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[p.length," conversation",p.length!==1?"s":""]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:212,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:208,columnNumber:212},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:207,columnNumber:30},this),H=()=>!a||!y?_():e.jsxDEV("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[e.jsxDEV(Fn,{messages:N,participants:g,loading:o,threadId:a,onReply:A,onDelete:k},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:225,columnNumber:9},this),e.jsxDEV(On,{selectedConversationId:a,disabled:!a||o,onSendMessage:m,replyingTo:r,onCancelReply:I},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:224,columnNumber:12},this);return e.jsxDEV("div",{className:"absolute inset-0 flex flex-col",children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:231,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 flex min-h-0",children:[e.jsxDEV("div",{className:"hidden md:block md:w-[360px] flex-shrink-0 border-r border-border/40 bg-background overflow-y-auto",children:e.jsxDEV(Oe,{conversations:p,loading:b,selectedConversationId:a,user:l,onConversationSelect:v,onThreadCreated:L},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:235,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:234,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 flex flex-col min-w-0 min-h-0 bg-background",children:[e.jsxDEV(Y,{mode:"wait",children:a?e.jsxDEV(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2,ease:[.32,.72,0,1]},className:"flex-1 flex flex-col min-h-0 md:hidden",children:[z(),H()]},a,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:260,columnNumber:11},this):e.jsxDEV(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:[.32,.72,0,1]},className:"flex-1 flex flex-col min-h-0 md:hidden",children:e.jsxDEV(Oe,{conversations:p,loading:b,selectedConversationId:a,user:l,onConversationSelect:v,onThreadCreated:L,forceMobileList:!0},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:257,columnNumber:17},this)},"conversation-list",!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:244,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:241,columnNumber:11},this),e.jsxDEV("div",{className:"hidden md:flex flex-1 flex flex-col min-h-0",children:e.jsxDEV(Y,{mode:"wait",children:e.jsxDEV(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2,ease:[.32,.72,0,1]},className:"flex-1 flex flex-col min-h-0",children:[z(),H()]},a||"empty",!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:281,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:280,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:279,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:240,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:232,columnNumber:7},this),e.jsxDEV(Yn,{open:h,onOpenChange:x,conversation:y,participants:g},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:302,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/chat/index.tsx?tsr-split=component",lineNumber:230,columnNumber:10},this)}export{ga as component};
