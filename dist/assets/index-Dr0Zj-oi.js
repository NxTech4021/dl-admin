const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leagues-data-table-CMmfdd6p.js","assets/index-DkYP5wDW.js","assets/index-IdBuu3mz.css","assets/alert-dialog-B64E20T9.js","assets/table-TSmZ7bT1.js","assets/skeleton-wNfqMjMN.js","assets/sports-DlL8wsWK.js","assets/dropdown-menu-CEcXqwU1.js","assets/index-Gv5aR-aq.js","assets/IconDotsVertical-wj_fxMaz.js","assets/IconEye-DVyNYUC4.js","assets/IconExternalLink-H-HL1Y0w.js","assets/IconEdit-FU7ltPhr.js","assets/IconHash-D1u0Lk1s.js","assets/IconCalendar-BJL1nSGP.js","assets/IconUsers-DAF0xImA.js","assets/IconTrash-DzEPolz-.js","assets/constants-CwTYU-p_.js","assets/IconTrophy-DEIW-o4l.js","assets/IconMapPin-Bd1UkDj8.js","assets/IconCategory-Cl0ykW78.js","assets/IconMail-Cj0V_pwL.js","assets/IconDownload-Chj97qSj.js","assets/IconRefresh-aGs3OyLR.js","assets/IconChevronLeft-CKI_5jiH.js","assets/IconChevronRight-0t6kW6LK.js","assets/league-create-modal-BhWxPbu3.js","assets/league-BTskQ2oy.js","assets/IconCheck-DWEFHc3q.js"])))=>i.map(i=>d[i]);
import{r as i,_ as n,k as V,l as I,j as e,B as U,$ as N}from"./index-DkYP5wDW.js";import{P as S}from"./page-header-D26UtXr6.js";import{S as d}from"./stats-card-DhcoG5iT.js";import{S as M}from"./stats-grid-CtfJQSwS.js";import{l as O}from"./league-schema-CW4CwVLH.js";import{z as P}from"./external-DCTon813.js";import{I as h}from"./IconTrophy-DEIW-o4l.js";import{I as k}from"./IconUsers-DAF0xImA.js";import{I as z}from"./IconCalendar-BJL1nSGP.js";import{I as B}from"./IconPlus-OVb4rSTK.js";import"./skeleton-wNfqMjMN.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";const R=i.lazy(()=>N(()=>import("./leagues-data-table-CMmfdd6p.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25])).then(a=>({default:a.LeaguesDataTable}))),G=i.lazy(()=>N(()=>import("./league-create-modal-BhWxPbu3.js"),__vite__mapDeps([26,1,2,27,18,19,28])).then(a=>({default:a.default})));function ae(){const[a,c]=i.useState(!1),[b,u]=n.useState([]),[L,y]=n.useState(0),[o,p]=n.useState(!0),l=n.useCallback(async()=>{p(!0);try{const s=await V.get(I.league.getAll);if(!s.data||!s.data.data||!s.data.data.leagues){u([]);return}const m=s.data.data.leagues,_=s.data.data.totalMembers||0;y(_);const v=m.map(t=>{var g,x,f;const E=((g=t.seasons)==null?void 0:g.reduce((j,C)=>{var D;const T=((D=C._count)==null?void 0:D.memberships)||0;return j+T},0))||0;return{id:t.id,name:t.name,location:t.location,description:t.description,status:t.status,sportType:t.sportType,joinType:t.joinType,registrationType:t.registrationType,gameType:t.gameType,createdById:t.createdById,createdAt:t.createdAt,updatedAt:t.updatedAt,memberCount:E,seasonCount:((x=t._count)==null?void 0:x.seasons)||0,categoryCount:((f=t._count)==null?void 0:f.categories)||0}}),A=P.array(O).parse(v);u(A)}catch{u([])}finally{p(!1)}},[]);n.useEffect(()=>{l()},[l]);const w=async()=>{await l()},r=b;return e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(S,{icon:h,title:"League Management",description:"Manage leagues, seasons, and player memberships",actions:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(U,{size:"sm",onClick:()=>c(!0),children:[e.jsxDEV(B,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:76,columnNumber:17},this),"Create League"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:75,columnNumber:15},this),e.jsxDEV(i.Suspense,{fallback:null,children:e.jsxDEV(G,{open:a,onOpenChange:c,onLeagueCreated:w},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:80,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:74,columnNumber:136},this),children:e.jsxDEV(M,{columns:3,children:[e.jsxDEV(d,{title:"Total Leagues",value:r.length,description:`${r.filter(s=>s.status==="ACTIVE"||s.status==="ONGOING").length} currently active`,icon:h,loading:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:84,columnNumber:13},this),e.jsxDEV(d,{title:"Total Members",value:L,description:"Total players across all seasons",icon:k,iconColor:"text-blue-500",loading:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:85,columnNumber:13},this),e.jsxDEV(d,{title:"Total Seasons",value:r.reduce((s,m)=>s+(m.seasonCount||0),0),description:"Across all leagues",icon:z,iconColor:"text-green-500",loading:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:74,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(i.Suspense,{fallback:e.jsxDEV("div",{className:"h-96 animate-pulse bg-muted rounded-lg"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:91,columnNumber:31},this),children:e.jsxDEV(R,{data:r,isLoading:o,onDataChange:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:92,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:73,columnNumber:7},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:72,columnNumber:10},this)}export{ae as component};
