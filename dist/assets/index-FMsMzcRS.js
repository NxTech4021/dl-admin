const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leagues-data-table-DzZbSCze.js","assets/index-BhJxrXm-.js","assets/index-37X8X0xr.css","assets/animation-variants-DxvUkNuY.js","assets/alert-dialog-CPWj1quG.js","assets/table-DrYcIDvM.js","assets/skeleton-n4fk542y.js","assets/sports-CgXe2Ig2.js","assets/dropdown-menu-BtL9yl7Q.js","assets/index-Djh1U9zQ.js","assets/IconDotsVertical-BLDMi51Q.js","assets/IconEye-DAVnnHd5.js","assets/site-header-CLzro3EY.js","assets/use-notifications-DLwVzHk4.js","assets/IconEdit-DuSJ0m0x.js","assets/IconCopy-BXOySSOk.js","assets/constants-D_wQXR5Q.js","assets/IconHash-DufQVEkv.js","assets/IconMapPin-DSKi_IET.js","assets/IconCategory-DGtWAGSj.js","assets/IconMail-DiZfA7YB.js","assets/IconDownload-CRGlJiPa.js","assets/IconChevronLeft-CEnxh4B0.js","assets/IconChevronRight-DADmNcDF.js","assets/league-create-modal-C5jmAEuK.js","assets/league-BTskQ2oy.js"])))=>i.map(i=>d[i]);
import{r as i,Z as n,k as T,l as I,j as e,B as S,_ as b}from"./index-BhJxrXm-.js";import{S as M,f,b as O,e as P}from"./site-header-CLzro3EY.js";import{P as k}from"./page-header-CcEwz9F2.js";import{S as m}from"./stats-card-D1du9MYu.js";import{l as z}from"./league-schema-CW4CwVLH.js";import{z as B}from"./external-DCTon813.js";import{A as R,a as c,d as G}from"./animated-container-D5obiq7b.js";import{I as F}from"./IconPlus-C81OnLOd.js";import"./use-notifications-DLwVzHk4.js";import"./skeleton-n4fk542y.js";import"./schemas-B5fuxOj7.js";import"./compat-Blf4Bw1-.js";import"./coerce-C-pLok-C.js";import"./animation-variants-DxvUkNuY.js";const H=i.lazy(()=>b(()=>import("./leagues-data-table-DzZbSCze.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>({default:a.LeaguesDataTable}))),Z=i.lazy(()=>b(()=>import("./league-create-modal-C5jmAEuK.js"),__vite__mapDeps([24,1,2,25,12,13,18])).then(a=>({default:a.default})));function le(){const[a,p]=i.useState(!1),[L,u]=n.useState([]),[w,y]=n.useState(0),[l,g]=n.useState(!0),o=n.useCallback(async()=>{g(!0);try{const s=await T.get(I.league.getAll);if(!s.data||!s.data.data||!s.data.data.leagues){u([]);return}const d=s.data.data.leagues,A=s.data.data.totalMembers||0;y(A);const v=d.map(t=>{var x,D,N;const j=((x=t.seasons)==null?void 0:x.reduce((V,U)=>{var h;const C=((h=U._count)==null?void 0:h.memberships)||0;return V+C},0))||0;return{id:t.id,name:t.name,location:t.location,description:t.description,status:t.status,sportType:t.sportType,joinType:t.joinType,registrationType:t.registrationType,gameType:t.gameType,createdById:t.createdById,createdAt:t.createdAt,updatedAt:t.updatedAt,memberCount:j,seasonCount:((D=t._count)==null?void 0:D.seasons)||0,categoryCount:((N=t._count)==null?void 0:N.categories)||0}}),E=B.array(z).parse(v);u(E)}catch{u([])}finally{g(!1)}},[]);n.useEffect(()=>{o()},[o]);const _=async()=>{await o()},r=L;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(M,{},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:75,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-1 flex-col",children:e.jsxDEV("div",{className:"@container/main flex flex-1 flex-col gap-2",children:[e.jsxDEV(k,{icon:f,title:"League Management",description:"Manage leagues, seasons, and player memberships",actions:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(S,{size:"sm",onClick:()=>p(!0),children:[e.jsxDEV(F,{className:"mr-2 size-4"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:80,columnNumber:17},this),"Create League"]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:79,columnNumber:15},this),e.jsxDEV(i.Suspense,{fallback:null,children:e.jsxDEV(Z,{open:a,onOpenChange:p,onLeagueCreated:_},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:84,columnNumber:17},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:78,columnNumber:138},this),children:e.jsxDEV(R,{className:"grid gap-4 grid-cols-2 md:grid-cols-3",children:[e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Leagues",value:r.length,description:`${r.filter(s=>s.status==="ACTIVE"||s.status==="ONGOING").length} currently active`,icon:f,loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:89,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:88,columnNumber:13},this),e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Members",value:w,description:"Total players across all seasons",icon:O,iconColor:"text-blue-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:92,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:91,columnNumber:13},this),e.jsxDEV(c,{children:e.jsxDEV(m,{title:"Total Seasons",value:r.reduce((s,d)=>s+(d.seasonCount||0),0),description:"Across all leagues",icon:P,iconColor:"text-green-500",loading:l},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:78,columnNumber:11},this),e.jsxDEV(G,{delay:.2,children:e.jsxDEV("div",{className:"flex-1 px-4 lg:px-6 pb-6",children:e.jsxDEV(i.Suspense,{fallback:e.jsxDEV("div",{className:"h-96 animate-pulse bg-muted rounded-lg"},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:102,columnNumber:33},this),children:e.jsxDEV(H,{data:r,isLoading:l,onDataChange:o},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:103,columnNumber:15},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:102,columnNumber:13},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:101,columnNumber:11},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/willywong/DeuceLeague/DL Admin/dl-admin/src/routes/_authenticated/league/index.tsx?tsr-split=component",lineNumber:74,columnNumber:10},this)}export{le as component};
